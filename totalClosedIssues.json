{
  "data": {
    "total_count": 1089,
    "incomplete_results": false,
    "items": [
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2120",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2120/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2120/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2120/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2120",
        "id": 2329529806,
        "node_id": "I_kwDOAlTKGc6K2c3O",
        "number": 2120,
        "title": "How funny a ts-node that does not read .ts file hahahha",
        "user": {
          "login": "allestaire",
          "id": 68372409,
          "node_id": "MDQ6VXNlcjY4MzcyNDA5",
          "avatar_url": "https://avatars.githubusercontent.com/u/68372409?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/allestaire",
          "html_url": "https://github.com/allestaire",
          "followers_url": "https://api.github.com/users/allestaire/followers",
          "following_url": "https://api.github.com/users/allestaire/following{/other_user}",
          "gists_url": "https://api.github.com/users/allestaire/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/allestaire/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/allestaire/subscriptions",
          "organizations_url": "https://api.github.com/users/allestaire/orgs",
          "repos_url": "https://api.github.com/users/allestaire/repos",
          "events_url": "https://api.github.com/users/allestaire/events{/privacy}",
          "received_events_url": "https://api.github.com/users/allestaire/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-06-02T08:17:41Z",
        "updated_at": "2024-06-23T13:49:29Z",
        "closed_at": "2024-06-23T13:49:29Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n`yarn ts-node script.ts`\r\n\r\n#### returns\r\n\r\n`TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for`\r\n\r\nAnd the configuration is too confusing when the content of the file is only `console.log` hahahahaha what kind of package is this. hahahaha\r\n\r\nThis package is much better [tsx](https://github.com/privatenumber/tsx)\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\n\r\n\r\n### Actual Behavior\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2120/reactions",
          "total_count": 3,
          "+1": 0,
          "-1": 3,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2120/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2115",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2115/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2115/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2115/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2115",
        "id": 2273231147,
        "node_id": "I_kwDOAlTKGc6HfsEr",
        "number": 2115,
        "title": "[Error [ERR_REQUIRE_ESM]: require() of ES Module /.../node_modules/ts-node/esm.mjs not supported.",
        "user": {
          "login": "darcyrush",
          "id": 22768040,
          "node_id": "MDQ6VXNlcjIyNzY4MDQw",
          "avatar_url": "https://avatars.githubusercontent.com/u/22768040?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/darcyrush",
          "html_url": "https://github.com/darcyrush",
          "followers_url": "https://api.github.com/users/darcyrush/followers",
          "following_url": "https://api.github.com/users/darcyrush/following{/other_user}",
          "gists_url": "https://api.github.com/users/darcyrush/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/darcyrush/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/darcyrush/subscriptions",
          "organizations_url": "https://api.github.com/users/darcyrush/orgs",
          "repos_url": "https://api.github.com/users/darcyrush/repos",
          "events_url": "https://api.github.com/users/darcyrush/events{/privacy}",
          "received_events_url": "https://api.github.com/users/darcyrush/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-05-01T09:42:36Z",
        "updated_at": "2024-05-01T10:07:04Z",
        "closed_at": "2024-05-01T10:07:04Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nERR_REQUIRE_ESM\r\nesm.mjs not supported.\r\n[Error [ERR_REQUIRE_ESM]: require() of ES Module /.../node_modules/ts-node/esm.mjs not supported.\r\n\r\n### Expected Behavior\r\n\r\nI am trying to run `node` using `ts-node/esm` and the latest node implementation of `--require` rather than `--loader`. \r\n- Test should run and pass\r\n- ESM error shouldn't point to a file _within_ ts-node in `node_modules`\r\n\r\n### Actual Behavior\r\nError below\r\n\r\n```\r\n> test\r\n> TS_NODE_PROJECT=./test/tsconfig.json node --require ts-node/esm --test 'test/main.test.ts'\r\n\r\nnode:internal/modules/cjs/loader:1262\r\n    throw new ERR_REQUIRE_ESM(filename, true);\r\n    ^\r\n\r\n[Error [ERR_REQUIRE_ESM]: require() of ES Module /.../node_modules/ts-node/esm.mjs not supported.\r\nInstead change the require of /.../node_modules/ts-node/esm.mjs to a dynamic import() which is available in all CommonJS modules.] {\r\n  code: 'ERR_REQUIRE_ESM'\r\n}\r\n\r\nNode.js v22.0.0\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n```\r\nnpm install\r\nnpm run test       # Error\r\nnpm run build      # To see that `tsc` compiles fine\r\n```\r\n\r\n### Minimal reproduction\r\n\r\nMinimal reproduction repository; https://github.com/darcyrush/ts-node-test-err-require-esm\r\n\r\n### Specifications\r\n\r\n* ts-node version: v10.9.1\r\n* node version: v22.0.0 (and 21, and 20 etc)\r\n* TypeScript version: 5.4.5\r\n* tsconfig.json: Find in linked repo; https://github.com/darcyrush/ts-node-test-err-require-esm/blob/main/test/tsconfig.json\r\n* Operating system and version: Ubuntu 22.04 LTS, Kernel 5.15.0-105-generic\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2115/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2115/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2098",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2098/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2098/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2098/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2098",
        "id": 2032646443,
        "node_id": "I_kwDOAlTKGc55J7kr",
        "number": 2098,
        "title": "ts-node is unable to resolve tsconfig files in Yarn workspace",
        "user": {
          "login": "unematiii",
          "id": 4154230,
          "node_id": "MDQ6VXNlcjQxNTQyMzA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4154230?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/unematiii",
          "html_url": "https://github.com/unematiii",
          "followers_url": "https://api.github.com/users/unematiii/followers",
          "following_url": "https://api.github.com/users/unematiii/following{/other_user}",
          "gists_url": "https://api.github.com/users/unematiii/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/unematiii/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/unematiii/subscriptions",
          "organizations_url": "https://api.github.com/users/unematiii/orgs",
          "repos_url": "https://api.github.com/users/unematiii/repos",
          "events_url": "https://api.github.com/users/unematiii/events{/privacy}",
          "received_events_url": "https://api.github.com/users/unematiii/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-12-08T13:19:33Z",
        "updated_at": "2023-12-08T14:34:09Z",
        "closed_at": "2023-12-08T14:34:09Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n#2076, #2090, #2091\r\n\r\n### Expected Behavior\r\n\r\nPrior to Typescript 5.3 (ts-node 10.9.1) I was able to compile and run my code with tsconfig files that extend files exposed in one of the projects workspaces.\r\n\r\n### Actual Behavior\r\n\r\n```\r\n[INFO] 15:08:30 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.1, typescript ver. 5.3.3)\r\n/Users/mati/Projects/project/node_modules/ts-node-dev/node_modules/ts-node/src/index.ts:859\r\n    return new TSError(diagnosticText, diagnosticCodes, diagnostics);\r\n           ^\r\nTSError: ⨯ Unable to compile TypeScript:\r\nerror TS6053: File '@organization/project-tsconfig/node.json' not found.\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nCreate workspace and `tsconfig.json` that extends another `tsconfig.json` in another workspace in the same project.\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:  10.9.1\r\n* node version:v20.9.0\r\n* TypeScript version: 5.3.3\r\n* Operating system and version: macOS Sonoma\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2098/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2098/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2096",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2096/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2096/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2096/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2096",
        "id": 2023042695,
        "node_id": "I_kwDOAlTKGc54lS6H",
        "number": 2096,
        "title": "In  #!/bin/bash  clear apt update apt upgrade apt install figlet -y figlet Basic Installation apt install toilet -y apt install cowsay -y apt install nano -y apt install ruby -y gem install lolcat figlet -f big Done !!! | lolcat echo echo -e \"\\e[1m Now Run \\e[32mbash t-ban.sh\\e[0m...!!!\" echo echo -e \"\\e[1m\\e[32m Developed by :\\e[33m Sutariya Parixit (8h4i)\" echo echo( there are Issu for In title The Over view and synonyms Not Seen in his real formet",
        "user": {
          "login": "prohackmish",
          "id": 147553196,
          "node_id": "U_kgDOCMt7rA",
          "avatar_url": "https://avatars.githubusercontent.com/u/147553196?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/prohackmish",
          "html_url": "https://github.com/prohackmish",
          "followers_url": "https://api.github.com/users/prohackmish/followers",
          "following_url": "https://api.github.com/users/prohackmish/following{/other_user}",
          "gists_url": "https://api.github.com/users/prohackmish/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/prohackmish/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/prohackmish/subscriptions",
          "organizations_url": "https://api.github.com/users/prohackmish/orgs",
          "repos_url": "https://api.github.com/users/prohackmish/repos",
          "events_url": "https://api.github.com/users/prohackmish/events{/privacy}",
          "received_events_url": "https://api.github.com/users/prohackmish/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-12-04T05:11:58Z",
        "updated_at": "2023-12-08T11:13:30Z",
        "closed_at": "2023-12-08T11:13:30Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\n\r\n\r\n### Actual Behavior\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2096/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2096/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2090",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2090/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2090/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2090/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2090",
        "id": 2007568607,
        "node_id": "I_kwDOAlTKGc53qRDf",
        "number": 2090,
        "title": "extends of tsconfig.json doesn't work when it reference to other package",
        "user": {
          "login": "kidylee",
          "id": 841310,
          "node_id": "MDQ6VXNlcjg0MTMxMA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/841310?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/kidylee",
          "html_url": "https://github.com/kidylee",
          "followers_url": "https://api.github.com/users/kidylee/followers",
          "following_url": "https://api.github.com/users/kidylee/following{/other_user}",
          "gists_url": "https://api.github.com/users/kidylee/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/kidylee/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/kidylee/subscriptions",
          "organizations_url": "https://api.github.com/users/kidylee/orgs",
          "repos_url": "https://api.github.com/users/kidylee/repos",
          "events_url": "https://api.github.com/users/kidylee/events{/privacy}",
          "received_events_url": "https://api.github.com/users/kidylee/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-11-23T06:36:22Z",
        "updated_at": "2023-12-08T11:08:55Z",
        "closed_at": "2023-12-08T11:08:55Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n`ts-node` `ts-config.json` `extends`\r\n\r\n\r\n### Expected Behavior\r\n\r\nThe issue is from `extends` keyword of `tsconfig.json` file, if it reference to a file based location is file, but if it is reference to a pacakge will occur extendee file not found error.\r\n\r\n```\r\n{\r\n    \"extends\": \"@tsconfig/node-lts/tsconfig.json\"\r\n}\r\n```\r\n\r\nIn the meanwhile, `tsc` and `jest.config.js` doesn't have this issue.\r\n\r\n\r\n### Actual Behavior\r\n```\r\n╰─ pnpm test-ts                                                                                                                                                         ─╯\r\n\r\n> ts-config-extends@1.0.0 test-ts /Users/anli/Developer/pp/ts-config-extends\r\n> jest --config jest.config.ts --passWithNoTests\r\n\r\nError: Jest: Failed to parse the TypeScript config file /Users/anli/Developer/pp/ts-config-extends/jest.config.ts\r\n  TSError: ⨯ Unable to compile TypeScript:\r\nerror TS6053: File '@tsconfig/node-lts/tsconfig.json' not found.\r\n    at readConfigFileAndSetRootDir (/Users/anli/Developer/pp/ts-config-extends/node_modules/.pnpm/jest-config@29.7.0_@types+node@20.9.4_ts-node@10.9.1/node_modules/jest-config/build/readConfigFileAndSetRootDir.js:116:13)\r\n    at async readInitialOptions (/Users/anli/Developer/pp/ts-config-extends/node_modules/.pnpm/jest-config@29.7.0_@types+node@20.9.4_ts-node@10.9.1/node_modules/jest-config/build/index.js:392:15)\r\n    at async readConfig (/Users/anli/Developer/pp/ts-config-extends/node_modules/.pnpm/jest-config@29.7.0_@types+node@20.9.4_ts-node@10.9.1/node_modules/jest-config/build/index.js:147:48)\r\n    at async readConfigs (/Users/anli/Developer/pp/ts-config-extends/node_modules/.pnpm/jest-config@29.7.0_@types+node@20.9.4_ts-node@10.9.1/node_modules/jest-config/build/index.js:424:26)\r\n    at async runCLI (/Users/anli/Developer/pp/ts-config-extends/node_modules/.pnpm/@jest+core@29.7.0_ts-node@10.9.1/node_modules/@jest/core/build/cli/index.js:151:59)\r\n    at async Object.run (/Users/anli/Developer/pp/ts-config-extends/node_modules/.pnpm/jest-cli@29.7.0_@types+node@20.9.4_ts-node@10.9.1/node_modules/jest-cli/build/run.js:130:37)\r\n```\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\n```\r\npnpm i\r\npnpm test-js\r\npnpm test-ts\r\n```\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/kidylee/ts-config-issue-mre\r\n\r\n### Specifications\r\n\r\nts-node v10.9.1\r\nnode v19.7.0\r\ncompiler v5.3.2\r\n```\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2090/reactions",
          "total_count": 13,
          "+1": 13,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2090/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2088",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2088/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2088/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2088/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2088",
        "id": 2003887930,
        "node_id": "I_kwDOAlTKGc53cOc6",
        "number": 2088,
        "title": "Error when using ts-node with tsonfig/bases and typescript 5.3.2",
        "user": {
          "login": "edosrecki",
          "id": 26404168,
          "node_id": "MDQ6VXNlcjI2NDA0MTY4",
          "avatar_url": "https://avatars.githubusercontent.com/u/26404168?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/edosrecki",
          "html_url": "https://github.com/edosrecki",
          "followers_url": "https://api.github.com/users/edosrecki/followers",
          "following_url": "https://api.github.com/users/edosrecki/following{/other_user}",
          "gists_url": "https://api.github.com/users/edosrecki/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/edosrecki/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/edosrecki/subscriptions",
          "organizations_url": "https://api.github.com/users/edosrecki/orgs",
          "repos_url": "https://api.github.com/users/edosrecki/repos",
          "events_url": "https://api.github.com/users/edosrecki/events{/privacy}",
          "received_events_url": "https://api.github.com/users/edosrecki/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-11-21T09:57:01Z",
        "updated_at": "2023-12-09T06:59:55Z",
        "closed_at": "2023-11-21T10:30:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "After upgrading typescript from 5.2.2 to 5.3.2, I started getting error when using ts-node with tsconfig/bases. See below.\r\n\r\n### Expected Behavior\r\nPrints typescript config to standard output.\r\n\r\n### Actual Behavior\r\nError:\r\n\r\n```\r\nTSError: ⨯ Unable to compile TypeScript:\r\nerror TS6053: File '@tsconfig/node20/tsconfig.json' not found.\r\n```\r\n\r\n### Steps to reproduce the problem\r\n```sh\r\nnpx ts-node --showConfig\r\n```\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/TypeStrong/ts-node-repros/pull/36\r\n\r\n### Workaround\r\n\r\nUse relative path to tsconfig/bases file:\r\n```diff\r\n- \"extends\": \"@tsconfig/node20/tsconfig.json\",\r\n+ \"extends\": \"./node_modules/@tsconfig/node20/tsconfig.json\",\r\n```\r\n\r\n### Specifications\r\n\r\n* ts-node version: 10.9.1\r\n* node version: 20.9.0\r\n* TypeScript version: 5.3.2\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"extends\": \"@tsconfig/node20/tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"rootDir\": \".\",\r\n    \"outDir\": \"./dist\"\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"ts-node-bug\",\r\n  \"version\": \"0.0.0-dev\",\r\n  \"devDependencies\": {\r\n    \"@tsconfig/node20\": \"20.1.2\",\r\n    \"ts-node\": \"10.9.1\",\r\n    \"typescript\": \"5.3.2\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: MacOS 11.6\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2088/reactions",
          "total_count": 2,
          "+1": 2,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2088/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2084",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2084/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2084/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2084/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2084",
        "id": 1986580106,
        "node_id": "I_kwDOAlTKGc52aM6K",
        "number": 2084,
        "title": "console.log('hi'); fails in REPL with \"module\": \"esnext\"",
        "user": {
          "login": "sparecycles",
          "id": 719818,
          "node_id": "MDQ6VXNlcjcxOTgxOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/719818?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sparecycles",
          "html_url": "https://github.com/sparecycles",
          "followers_url": "https://api.github.com/users/sparecycles/followers",
          "following_url": "https://api.github.com/users/sparecycles/following{/other_user}",
          "gists_url": "https://api.github.com/users/sparecycles/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sparecycles/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sparecycles/subscriptions",
          "organizations_url": "https://api.github.com/users/sparecycles/orgs",
          "repos_url": "https://api.github.com/users/sparecycles/repos",
          "events_url": "https://api.github.com/users/sparecycles/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sparecycles/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-11-09T23:34:31Z",
        "updated_at": "2024-02-05T14:15:42Z",
        "closed_at": "2024-02-05T14:15:42Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nrepl, semicolon\r\n\r\n### Expected Behavior\r\n\r\nWorks in NodeJS native REPL\r\n\r\n### Actual Behavior\r\n\r\nweird error message is printed.\r\n\r\n```\r\n<repl>.ts:3\r\nexport {};\r\n^^^^^^\r\n\r\nUncaught SyntaxError: Unexpected token 'export'\r\n```\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\n- `npx ts-node`\r\n- type `console.log('hi');` and hit enter.\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.9.1\r\n* node version: v.20.9.0\r\n* TypeScript version: v5.2.2\r\n* tsconfig.json, if you're using one: (reproduces with just this)\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n        \"module\": \"esnext\"\r\n    }\r\n}\r\n```\r\n* package.json: (reproduces without one)\r\n```\r\n{}\r\n```\r\n* Operating system and version: OSX 14.1.1\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2084/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2084/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2076",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2076/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2076/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2076/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2076",
        "id": 1935278763,
        "node_id": "I_kwDOAlTKGc5zWgKr",
        "number": 2076,
        "title": "tsconfig not found when extends scope with ts-node>10.0 and typescript@>=5.3.0-dev",
        "user": {
          "login": "bluelovers",
          "id": 167966,
          "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
          "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bluelovers",
          "html_url": "https://github.com/bluelovers",
          "followers_url": "https://api.github.com/users/bluelovers/followers",
          "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
          "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
          "organizations_url": "https://api.github.com/users/bluelovers/orgs",
          "repos_url": "https://api.github.com/users/bluelovers/repos",
          "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
          "received_events_url": "https://api.github.com/users/bluelovers/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 16,
        "created_at": "2023-10-10T12:44:46Z",
        "updated_at": "2024-04-24T10:38:06Z",
        "closed_at": "2023-12-08T11:08:55Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\nnot found tsconfig\r\n\r\n### Expected Behavior\r\n\r\nno error like ts-node@10.0\r\n\r\n### Actual Behavior\r\n\r\n```\r\n    return new TSError(diagnosticText, diagnosticCodes, diagnostics);\r\n           ^\r\nTSError: ⨯ Unable to compile TypeScript:\r\nerror TS6053: File '@bluelovers/tsconfig/esm/mapfile.json' not found.\r\n\r\n    at createTSError (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:859:12)\r\n    at reportTSError (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:863:19)\r\n    at createFromPreloadedConfig (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:874:36)\r\n    at phase4 (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\bin.ts:543:44)\r\n    at bootstrap (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\bin.ts:95:10)\r\n    at main (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\bin.ts:55:10)\r\n    at Object.<anonymous> (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\bin-cwd.ts:5:5)\r\n    at Module._compile (node:internal/modules/cjs/loader:1241:14)\r\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1295:10)\r\n    at Module.load (node:internal/modules/cjs/loader:1091:32) {\r\n  diagnosticCodes: [ 6053 ]\r\n}\r\n\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nglobal install typescript>=5.3.0-dev\r\nglobal/local install ts-node@>10.0\r\n\r\n```json\r\n{\r\n  \"extends\": \"@bluelovers/tsconfig/esm/mapfile.json\",\r\n  \"compilerOptions\": {\r\n    \"disableReferencedProjectLoad\": true,\r\n    \"importHelpers\": true,\r\n    \"noPropertyAccessFromIndexSignature\": false\r\n  }\r\n}\r\n\r\n```\r\n\r\nnode_modules/ts-node/dist/configuration.js\r\n```js\r\n const resolvedExtendedConfigPath = tsInternals.getExtendsConfigPath(c.extends, {\r\n                    fileExists,\r\n                    readDirectory: ts.sys.readDirectory,\r\n                    readFile,\r\n                    useCaseSensitiveFileNames: ts.sys.useCaseSensitiveFileNames,\r\n                    trace: tsTrace,\r\n                }, bp, errors, ts.createCompilerDiagnostic);\r\n```\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2076/reactions",
          "total_count": 46,
          "+1": 46,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2076/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2065",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2065/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2065/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2065/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2065",
        "id": 1899225638,
        "node_id": "I_kwDOAlTKGc5xM-Im",
        "number": 2065,
        "title": "Fix @tsconfig/bases implicit config logic so old TS versions won't get an incompatible config",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-09-16T00:20:37Z",
        "updated_at": "2023-09-16T02:15:35Z",
        "closed_at": "2023-09-16T02:15:35Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "### breaking changes to newer @tsconfig/bases\r\n\r\nThe latest @tsconfig/bases use module node16, for example: https://github.com/tsconfig/bases/blob/main/bases/node14.json\r\n\r\nnode16/nodenext was added in TS 4.7\r\n\r\nWe still support as low as TS 4.4, because we match DefinitelyTyped's support window\r\n\r\nOur implicit config logic already rejects tsconfigs that your TS version does not support, but it only falls back so far, returning the node14 config by default.\r\n\r\nWe need to go a step further, falling back to *no* implicit config if *none* of the @tsconfig/bases are compatible.  Note that the user controls which version of @tsconfig/bases they install, so if their project has an older revision of a @tsconfig/bases installed, and it *is* compatible with their TS version, then they'll get it by default.\r\n\r\nWe also need to add logic to fallback when `module` and `moduleResolution` options are incompatible\r\n\r\n### Broken tests\r\n\r\nWhen we fallback to no implicit tsconfig, other test cases break.  They were relying on an implicit @tsconfig/node14 setting a relatively high `target` and `module: node` or similar.\r\n\r\nTo avoid this and still have reasonable test coverage:\r\n\r\n- Add TS 4.7 to the test matrix\r\n- tweak implicit tsconfig tests\r\n  - make them run conditionally if ts supporting node16\r\n- tweak useDefineForClassFields tests\r\n  - manually specify module option so they're not affected by implicit config\r\n  - make es2022 cases run conditionally if ts supports es2022",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2065/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2065/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2061",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2061/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2061/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2061/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2061",
        "id": 1895080385,
        "node_id": "I_kwDOAlTKGc5w9KHB",
        "number": 2061,
        "title": "Dynamic require of xxx is not supported",
        "user": {
          "login": "moonthug",
          "id": 529728,
          "node_id": "MDQ6VXNlcjUyOTcyOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/529728?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/moonthug",
          "html_url": "https://github.com/moonthug",
          "followers_url": "https://api.github.com/users/moonthug/followers",
          "following_url": "https://api.github.com/users/moonthug/following{/other_user}",
          "gists_url": "https://api.github.com/users/moonthug/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/moonthug/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/moonthug/subscriptions",
          "organizations_url": "https://api.github.com/users/moonthug/orgs",
          "repos_url": "https://api.github.com/users/moonthug/repos",
          "events_url": "https://api.github.com/users/moonthug/events{/privacy}",
          "received_events_url": "https://api.github.com/users/moonthug/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-09-13T18:56:35Z",
        "updated_at": "2023-09-13T21:54:29Z",
        "closed_at": "2023-09-13T21:54:28Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nthrow Error('Dynamic require of \"' + x + '\" is not supported');\r\nDynamic require of xxx is not supported\r\nDynamic require of \"events\" is not supported\r\n\r\n### Expected Behavior\r\n\r\nIt doesnt through an error?\r\n\r\n### Actual Behavior\r\n\r\nError thrown: Dynamic require of \"events\" is not supported\r\n\r\n### Steps to reproduce the problem\r\n\r\nIt comes from the `ws` package\r\n\r\n### Minimal reproduction\r\n```\r\nvar require_websocket = __commonJS({\r\n  \"../../node_modules/roslib/node_modules/ws/lib/websocket.js\"(exports, module) {\r\n    \"use strict\";\r\n    var EventEmitter = __require(\"events\");\r\n    ...\r\n```\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: 16.20.2\r\n* TypeScript version: 5.2.2\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"extends\": \"tsconfig/app.json\",\r\n  \"compilerOptions\": {\r\n    \"esModuleInterop\": true,\r\n    \"module\": \"Node16\",\r\n    \"moduleResolution\": \"node16\",\r\n    \"outDir\": \"dist\",\r\n    \"target\": \"ES2022\"\r\n  },\r\n  \"include\": [\"**/*.ts\"],\r\n  \"exclude\": [\"dist\", \"node_modules\"]\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n   ...\r\n  \"type\": \"module\",\r\n}\r\n```\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2061/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2061/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2059",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2059/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2059/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2059/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2059",
        "id": 1891815637,
        "node_id": "I_kwDOAlTKGc5wwtDV",
        "number": 2059,
        "title": "The latest version of @swc/core has made a break change, resulting in ts-node reporting an error.",
        "user": {
          "login": "atorber",
          "id": 19552906,
          "node_id": "MDQ6VXNlcjE5NTUyOTA2",
          "avatar_url": "https://avatars.githubusercontent.com/u/19552906?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/atorber",
          "html_url": "https://github.com/atorber",
          "followers_url": "https://api.github.com/users/atorber/followers",
          "following_url": "https://api.github.com/users/atorber/following{/other_user}",
          "gists_url": "https://api.github.com/users/atorber/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/atorber/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/atorber/subscriptions",
          "organizations_url": "https://api.github.com/users/atorber/orgs",
          "repos_url": "https://api.github.com/users/atorber/repos",
          "events_url": "https://api.github.com/users/atorber/events{/privacy}",
          "received_events_url": "https://api.github.com/users/atorber/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-09-12T07:01:11Z",
        "updated_at": "2023-12-06T13:36:20Z",
        "closed_at": "2023-09-15T23:09:02Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "  \"ts-node\": \"^10.9.1\"\r\n\r\n\"@swc/core\": \"^1.3.78\" is ok,but subsequent versions will report errors.\r\n\r\nThe peerDependencies declaration in the ts node/package.json file will cause the installation of the latest dependent package instead of the specified one.\r\n\r\n  \"peerDependencies\": {\r\n    \"@swc/core\": \">=1.2.50\",\r\n    \"@swc/wasm\": \">=1.2.50\",\r\n    \"@types/node\": \"*\",\r\n    \"typescript\": \">=4.2\"\r\n  }\r\n\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2059/reactions",
          "total_count": 4,
          "+1": 4,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2059/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2058",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2058/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2058/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2058/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2058",
        "id": 1891517670,
        "node_id": "I_kwDOAlTKGc5wvkTm",
        "number": 2058,
        "title": "Supporting native env file parsing (node 20 feature) in ts-node",
        "user": {
          "login": "shivarajnaidu",
          "id": 12374494,
          "node_id": "MDQ6VXNlcjEyMzc0NDk0",
          "avatar_url": "https://avatars.githubusercontent.com/u/12374494?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/shivarajnaidu",
          "html_url": "https://github.com/shivarajnaidu",
          "followers_url": "https://api.github.com/users/shivarajnaidu/followers",
          "following_url": "https://api.github.com/users/shivarajnaidu/following{/other_user}",
          "gists_url": "https://api.github.com/users/shivarajnaidu/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/shivarajnaidu/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/shivarajnaidu/subscriptions",
          "organizations_url": "https://api.github.com/users/shivarajnaidu/orgs",
          "repos_url": "https://api.github.com/users/shivarajnaidu/repos",
          "events_url": "https://api.github.com/users/shivarajnaidu/events{/privacy}",
          "received_events_url": "https://api.github.com/users/shivarajnaidu/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-09-12T01:31:06Z",
        "updated_at": "2024-09-09T13:50:02Z",
        "closed_at": "2023-09-28T16:41:15Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Desired Behavior\r\nAble to pass env file to ts-node without dotenv as we do it in node 20 (native feature now).\r\n\r\n### Is this request related to a problem?\r\nNow we are able to pass env file path to node to load env variables but there is no straight forward way that we can use along with ts node\r\n\r\nSee this https://nodejs.org/en/blog/release/v20.6.0#built-in-env-file-support\r\n\r\n\r\n### Alternatives you've considered\r\n\r\n\r\n\r\n### Additional context\r\n\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2058/reactions",
          "total_count": 27,
          "+1": 23,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 4,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2058/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2056",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2056/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2056/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2056/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2056",
        "id": 1885611873,
        "node_id": "I_kwDOAlTKGc5wZCdh",
        "number": 2056,
        "title": "SWC: Reflect renamed keepImportAssertions configuration option",
        "user": {
          "login": "felixh10r",
          "id": 3688224,
          "node_id": "MDQ6VXNlcjM2ODgyMjQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3688224?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/felixh10r",
          "html_url": "https://github.com/felixh10r",
          "followers_url": "https://api.github.com/users/felixh10r/followers",
          "following_url": "https://api.github.com/users/felixh10r/following{/other_user}",
          "gists_url": "https://api.github.com/users/felixh10r/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/felixh10r/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/felixh10r/subscriptions",
          "organizations_url": "https://api.github.com/users/felixh10r/orgs",
          "repos_url": "https://api.github.com/users/felixh10r/repos",
          "events_url": "https://api.github.com/users/felixh10r/events{/privacy}",
          "received_events_url": "https://api.github.com/users/felixh10r/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2023-09-07T10:26:45Z",
        "updated_at": "2023-09-15T23:09:03Z",
        "closed_at": "2023-09-15T23:09:03Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Desired Behavior\r\n\r\nWith version 1.3.83, swc renames the experimental configuration option `jsc.experimental.keepImportAssertions` to `jsc.experimental.keepImportAttributes` as per https://github.com/swc-project/swc/pull/7914 . \r\n\r\n### Is this request related to a problem?\r\n\r\nAll setups with swc > 1.3.82 will fail. This creates a dependency version limitation which should probably be reflected in `peerDependencies` or simply updated in a new `ts-node` release.\r\n\r\n### Additional context\r\n\r\nIf the solution is to _simply_ change the name of the property, I'm happy to open a PR.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2056/reactions",
          "total_count": 29,
          "+1": 25,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 4
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2056/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2054",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2054/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2054/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2054/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2054",
        "id": 1884632439,
        "node_id": "I_kwDOAlTKGc5wVTV3",
        "number": 2054,
        "title": "register() no longer works in node20 with modules",
        "user": {
          "login": "imownbey",
          "id": 93,
          "node_id": "MDQ6VXNlcjkz",
          "avatar_url": "https://avatars.githubusercontent.com/u/93?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/imownbey",
          "html_url": "https://github.com/imownbey",
          "followers_url": "https://api.github.com/users/imownbey/followers",
          "following_url": "https://api.github.com/users/imownbey/following{/other_user}",
          "gists_url": "https://api.github.com/users/imownbey/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/imownbey/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/imownbey/subscriptions",
          "organizations_url": "https://api.github.com/users/imownbey/orgs",
          "repos_url": "https://api.github.com/users/imownbey/repos",
          "events_url": "https://api.github.com/users/imownbey/events{/privacy}",
          "received_events_url": "https://api.github.com/users/imownbey/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-09-06T19:38:25Z",
        "updated_at": "2024-08-02T17:15:17Z",
        "closed_at": "2023-09-06T19:43:31Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n.register()\r\n.register() node20\r\n\r\n### Expected Behavior\r\nThe docs still imply that running\r\n```\r\nrequire(\"ts-node\").register()\r\nconst target = await import(\"tsfile.ts\")\r\n```\r\nshould work\r\n\r\n### Actual Behavior\r\nIt now errors with \"unknown extension mts\" or \"unknown extension ts\".\r\n\r\n\r\n### Steps to reproduce the problem\r\nfile.mts\r\n```\r\nconsole.log(\"Hello\")\r\n```\r\n\r\nentry.js\r\n```\r\nrequire(\"ts-node\").register()\r\nconst target = await import(\"./file.mts\")\r\n```\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"dependencies\": {\r\n      \"ts-node\": \"^10.9.1\",\r\n  }\r\n}\r\n```\r\n* Operating system and version: Mac\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2054/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2054/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2051",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2051/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2051/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2051/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2051",
        "id": 1878697408,
        "node_id": "I_kwDOAlTKGc5v-qXA",
        "number": 2051,
        "title": "Tracking: swc erroneously converts import assertions `assert` keyword to `with`",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-09-02T13:50:05Z",
        "updated_at": "2023-09-15T23:09:03Z",
        "closed_at": "2023-09-15T23:09:03Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Tracking: https://github.com/swc-project/swc/issues/7908\r\n\r\nOnce swc fixes this, we may need to require the newer version or pass a flag.\r\n\r\nConverting to `with` might be correct in some situations, I'm not an expert on the spec changes.  But I know that for our purposes on node, we need to keep the `assert`.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2051/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2051/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2046",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2046/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2046/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2046/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2046",
        "id": 1851619619,
        "node_id": "I_kwDOAlTKGc5uXXkj",
        "number": 2046,
        "title": "ts-node loses the class name from the stack trace when the error is thrown in a static method.",
        "user": {
          "login": "KostyaTretyak",
          "id": 2286306,
          "node_id": "MDQ6VXNlcjIyODYzMDY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2286306?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/KostyaTretyak",
          "html_url": "https://github.com/KostyaTretyak",
          "followers_url": "https://api.github.com/users/KostyaTretyak/followers",
          "following_url": "https://api.github.com/users/KostyaTretyak/following{/other_user}",
          "gists_url": "https://api.github.com/users/KostyaTretyak/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/KostyaTretyak/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/KostyaTretyak/subscriptions",
          "organizations_url": "https://api.github.com/users/KostyaTretyak/orgs",
          "repos_url": "https://api.github.com/users/KostyaTretyak/repos",
          "events_url": "https://api.github.com/users/KostyaTretyak/events{/privacy}",
          "received_events_url": "https://api.github.com/users/KostyaTretyak/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2023-08-15T15:13:53Z",
        "updated_at": "2023-09-29T10:24:26Z",
        "closed_at": "2023-09-29T10:24:25Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n- stack trace class name\r\n\r\n### Expected Behavior\r\n\r\nThe class name must be present.\r\n\r\n### Actual Behavior\r\n\r\nThe word \"Function\" is inserted instead of the class name.\r\n\r\n### Steps to reproduce the problem\r\n\r\nCall this code with `ts-node`:\r\n\r\n```ts\r\nclass MyClass {\r\n  static staticMethod() {\r\n    throw new Error('Error in static method');\r\n  }\r\n}\r\n\r\nMyClass.staticMethod();\r\n```\r\n\r\nAnd see the stack trace:\r\n\r\n```text\r\nError: Error in static method\r\n    at Function.staticMethod\r\n```\r\n\r\nIf you run the same code from `node`, the stack trace will be correct:\r\n\r\n```text\r\nError: Error in static method\r\n    at MyClass.staticMethod\r\n```\r\n\r\n### Specifications\r\n\r\nts-node v10.9.1\r\nnode v18.17.1\r\ncompiler v5.1.6\r\nUbuntu 22.04\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2046/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2046/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2045",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2045/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2045/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2045/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2045",
        "id": 1851542457,
        "node_id": "I_kwDOAlTKGc5uXEu5",
        "number": 2045,
        "title": "Behavior of typescript compiler modified by ts-node",
        "user": {
          "login": "lengors",
          "id": 24527258,
          "node_id": "MDQ6VXNlcjI0NTI3MjU4",
          "avatar_url": "https://avatars.githubusercontent.com/u/24527258?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lengors",
          "html_url": "https://github.com/lengors",
          "followers_url": "https://api.github.com/users/lengors/followers",
          "following_url": "https://api.github.com/users/lengors/following{/other_user}",
          "gists_url": "https://api.github.com/users/lengors/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lengors/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lengors/subscriptions",
          "organizations_url": "https://api.github.com/users/lengors/orgs",
          "repos_url": "https://api.github.com/users/lengors/repos",
          "events_url": "https://api.github.com/users/lengors/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lengors/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-08-15T14:29:44Z",
        "updated_at": "2023-10-20T16:02:27Z",
        "closed_at": "2023-10-20T16:02:26Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n- typescript\r\n- transpile\r\n- behavior\r\n- changed \r\n\r\n### Expected Behavior\r\n\r\nTypescript transpile behavior should not be modified when running the typescript compiler, but it is. As an example, if I set `target` compiler option of the `typescript` to `ES5` and use some functionality from `Symbol`s, the compiler will fail to compile if I do not have `ts-node` installed, but if I do it compiles succesfully.\r\n\r\n### Actual Behavior\r\n\r\nTypescript compiler behavior should not change with `ts-node` installed. If I want to target a different language version for `ts-node` the option should be set in `ts-node` object inside the `tsconfig.json` file, but not change the behavior of the typescript compiler.\r\n\r\n### Steps to reproduce the problem\r\n\r\n- Install typescript as a dev dependency\r\n- Create `tsconfig.json` file\r\n- Set the `target` option to `ES5`, `include` to `[\"src\"]` and `outDir` to `./dist`\r\n- Write some code that uses a feature from a new version of the language (e.g. `Symbol`)\r\n- Try to compile the project with typescript compiler\r\n- Install ts-node as a dev dependency\r\n- Retry the compilation step\r\n\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/lengors/ts-node-repro\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: 18.17.0\r\n* TypeScript version: 5.1.6\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es5\",\r\n    \"module\": \"commonjs\",\r\n    \"outDir\": \"./dist\",\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"skipLibCheck\": true\r\n  },\r\n  \"include\": [\"src\"]\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"scripts\": {\r\n    \"test\": \"tsc && node ./dist/index.js\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: Windows 11\r\n* If Windows, are you using WSL or WSL2?: No\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2045/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2045/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2042",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2042/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2042/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2042/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2042",
        "id": 1821038124,
        "node_id": "I_kwDOAlTKGc5sitYs",
        "number": 2042,
        "title": "Fix docs branch",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-07-25T19:55:27Z",
        "updated_at": "2023-07-25T20:16:19Z",
        "closed_at": "2023-07-25T20:16:19Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "https://github.com/TypeStrong/ts-node/pull/1823 docs->main merge for v10.8.2\r\nhttps://github.com/TypeStrong/ts-node/pull/1837 docs->main merge for v10.9.0\r\n\r\nDocs branch at time of writing.\r\nhttps://github.com/TypeStrong/ts-node/commits/77b996b83fe6460a0d03fbf97ab0b99ee6c8e957\r\n\r\nBranches off of v10.8.2, has 3 commits on top of it.\r\n\r\n- [x] Check that any commits on the docs branch from the 10.9.0 merge were not lost.\r\n- [x] Rebase current docs branch onto v10.9.1 tag",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2042/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2042/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2030",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2030/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2030/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2030/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2030",
        "id": 1760332040,
        "node_id": "I_kwDOAlTKGc5o7IkI",
        "number": 2030,
        "title": "Nodejs v18.16.0: db:migrate not working",
        "user": {
          "login": "AlexProtsak",
          "id": 87982432,
          "node_id": "MDQ6VXNlcjg3OTgyNDMy",
          "avatar_url": "https://avatars.githubusercontent.com/u/87982432?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/AlexProtsak",
          "html_url": "https://github.com/AlexProtsak",
          "followers_url": "https://api.github.com/users/AlexProtsak/followers",
          "following_url": "https://api.github.com/users/AlexProtsak/following{/other_user}",
          "gists_url": "https://api.github.com/users/AlexProtsak/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/AlexProtsak/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/AlexProtsak/subscriptions",
          "organizations_url": "https://api.github.com/users/AlexProtsak/orgs",
          "repos_url": "https://api.github.com/users/AlexProtsak/repos",
          "events_url": "https://api.github.com/users/AlexProtsak/events{/privacy}",
          "received_events_url": "https://api.github.com/users/AlexProtsak/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-06-16T10:15:35Z",
        "updated_at": "2023-09-16T14:48:25Z",
        "closed_at": "2023-09-16T14:48:25Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hello! I have upgraded nodejs version from **16.15.1** to **18.16.0** and now I try to execute `db:migrate` command and get an exception:\r\n\r\n```\r\n.../node_modules/ts-node/dist-raw/node-internal-modules-esm-get_format.js:93\r\n        throw new ERR_UNKNOWN_FILE_EXTENSION(ext, fileURLToPath(url));\r\n              ^\r\nCustomError: ERR_UNKNOWN_FILE_EXTENSION .../node_modules/sequelize-cli/lib/sequelize\r\n    at defaultGetFormat (.../node_modules/ts-node/dist-raw/node-internal-modules-esm-get_format.js:93:15)\r\n    at defer (.../node_modules/ts-node/src/esm.ts:296:7)\r\n    at entrypointFallback (.../node_modules/ts-node/src/esm.ts:304:22)\r\n    at getFormat (.../node_modules/ts-node/src/esm.ts:338:26)\r\n    at .../node_modules/ts-node/src/esm.ts:245:17\r\n    at addShortCircuitFlag (/node_modules/ts-node/src/esm.ts:409:21)\r\n    at load (/node_modules/ts-node/src/esm.ts:239:12)\r\n    at load (/node_modules/ts-node/src/child/child-loader.ts:18:36)\r\n    at nextLoad (node:internal/modules/esm/loader:163:28)\r\n    at ESMLoader.load (node:internal/modules/esm/loader:605:26)\r\n```\r\n\r\n* ts-node version: **10.9.1**;\r\n* node version: **18.16.0**;\r\n* TypeScript version: **5.0.4**;\r\n* tsconfig.json:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"module\": \"commonjs\",\r\n    \"declaration\": true,\r\n    \"removeComments\": true,\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"target\": \"es2017\",\r\n    \"sourceMap\": true,\r\n    \"outDir\": \"./dist\",\r\n    \"baseUrl\": \"./\",\r\n    \"incremental\": true,\r\n    \"skipLibCheck\": true\r\n  },\r\n  \"include\": [\r\n    \"src/**/*\",\r\n    \"node_modules/typescript/lib/lib.es2015.iterable.d.ts\"\r\n  ],\r\n  \"exclude\": [\"node_modules\", \"sample\", \"client\", \"dist\"]\r\n}\r\n```",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2030/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2030/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2027",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2027/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2027/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2027/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2027",
        "id": 1722659591,
        "node_id": "I_kwDOAlTKGc5mrbMH",
        "number": 2027,
        "title": "error TS2304: Cannot find name 'fetch'.",
        "user": {
          "login": "beppler",
          "id": 66092,
          "node_id": "MDQ6VXNlcjY2MDky",
          "avatar_url": "https://avatars.githubusercontent.com/u/66092?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/beppler",
          "html_url": "https://github.com/beppler",
          "followers_url": "https://api.github.com/users/beppler/followers",
          "following_url": "https://api.github.com/users/beppler/following{/other_user}",
          "gists_url": "https://api.github.com/users/beppler/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/beppler/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/beppler/subscriptions",
          "organizations_url": "https://api.github.com/users/beppler/orgs",
          "repos_url": "https://api.github.com/users/beppler/repos",
          "events_url": "https://api.github.com/users/beppler/events{/privacy}",
          "received_events_url": "https://api.github.com/users/beppler/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-05-23T19:29:06Z",
        "updated_at": "2023-05-26T14:49:55Z",
        "closed_at": "2023-05-26T14:49:55Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nNode 18, fetch\r\n\r\n### Expected Behavior\r\nWhen using ts-node with Node 18, the fetch API should be supported as it is supported by Node itself.\r\n\r\n### Actual Behavior\r\nts-node is reporting that fetch can not be found.\r\n\r\n```ts\r\nawait (await fetch('https://www.google.com')).text();\r\n```\r\n\r\nIs returning the following error:\r\n\r\n```\r\n<repl>.ts:4:14 - error TS2304: Cannot find name 'fetch'.\r\n\r\n4 await (await fetch('https://www.google.com')).text();\r\n               ~~~~~\r\n```\r\n\r\n### Steps to reproduce the problem\r\nRun the command above using `npx ts-node` against Node 18.\r\n\r\n### Minimal reproduction\r\n\r\nRun the following command:\r\n\r\n```sh\r\nnpx ts-node -p -e \"await (await fetch('https://www.google.com')).text();\"\r\n```\r\n### Specifications\r\n\r\n* ts-node version: v10.9.1\r\n* node version: v18.16.0\r\n* TypeScript version: v5.0.4\r\n* tsconfig.json:\r\n```\r\n{\r\n    \"$schema\": \"https://json.schemastore.org/tsconfig\",\r\n    \"compilerOptions\": {\r\n        \"lib\": [\"es2023\"],\r\n        \"module\": \"Node16\",\r\n        \"target\": \"es2022\",\r\n        \"strict\": true,\r\n        \"esModuleInterop\": true,\r\n        \"skipLibCheck\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"moduleResolution\": \"node\"\r\n    }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"test\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"index.ts\",\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"devDependencies\": {\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^5.0.4\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: Ubuntu 22.04.2\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2027/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2027/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2024",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2024/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2024/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2024/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2024",
        "id": 1720742652,
        "node_id": "I_kwDOAlTKGc5mkHL8",
        "number": 2024,
        "title": "`repl` is loaded unconditionally, preventing uncaught exception capture",
        "user": {
          "login": "isaacs",
          "id": 9287,
          "node_id": "MDQ6VXNlcjkyODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9287?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/isaacs",
          "html_url": "https://github.com/isaacs",
          "followers_url": "https://api.github.com/users/isaacs/followers",
          "following_url": "https://api.github.com/users/isaacs/following{/other_user}",
          "gists_url": "https://api.github.com/users/isaacs/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/isaacs/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/isaacs/subscriptions",
          "organizations_url": "https://api.github.com/users/isaacs/orgs",
          "repos_url": "https://api.github.com/users/isaacs/repos",
          "events_url": "https://api.github.com/users/isaacs/events{/privacy}",
          "received_events_url": "https://api.github.com/users/isaacs/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2023-05-22T22:46:58Z",
        "updated_at": "2023-05-30T02:11:00Z",
        "closed_at": "2023-05-30T02:11:00Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n- repl\r\n- domain\r\n- node:domain\r\n- ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE\r\n- setUncaughtExceptionCaptureCallback\r\n\r\n\r\n### Expected Behavior\r\n\r\nShould be able to use the `process.setUncaughtExceptionCaptureCallback()` method in programs loaded using the `ts-node/esm` loader.\r\n\r\n\r\n### Actual Behavior\r\n\r\nUse of `process.setUncaughtExceptionCaptureCallback()` will trigger the following error in ts-node programs if an uncaught exception occurs, making it impossible to use node's officially sanctioned global error handling mechanism.  Rather than reporting the error that was thrown, you get a much less useful crash report like this:\r\n\r\n```\r\nError [ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE]: The `domain` module is in use, which is mutually exclusive with calling process.setUncaughtExceptionCaptureCallback()\r\n    at __node_internal_captureLargerStackTrace (node:internal/errors:490:5)\r\n    at new NodeError (node:internal/errors:399:5)\r\n    at process.setUncaughtExceptionCaptureCallback (node:domain:134:15)\r\n    at process.domainErrorHandler (file:///Users/isaacs/dev/tapjs/tapjs/node_modules/async-hook-domain/src/index.ts:140:12)\r\n    at process.emit (node:events:513:28)\r\n    at process.emit (node:domain:489:12)\r\n    at process.emit.sharedData.processEmitHook.installedValue (/Users/isaacs/dev/tapjs/tapjs/node_modules/@cspotcode/source-map-support/source-map-support.js:745:40)\r\n    at SignalExit.#processEmit (/Users/isaacs/dev/tapjs/tapjs/node_modules/signal-exit/src/index.ts:286:17)\r\n    at process.#process.emit (/Users/isaacs/dev/tapjs/tapjs/node_modules/signal-exit/src/index.ts:224:31)\r\n    at SignalExit.#processEmit (file:///Users/isaacs/dev/tapjs/tapjs/node_modules/signal-exit/src/index.ts:286:17)\r\n    at process.#process.emit (file:///Users/isaacs/dev/tapjs/tapjs/node_modules/signal-exit/src/index.ts:224:31)\r\n    at process._fatalException (node:internal/process/execution:146:13)\r\n----------------------------------------\r\nError: require(`domain`) at this point\r\n    at node:domain:130:28\r\n    at BuiltinModule.compileForInternalLoader (node:internal/bootstrap/loaders:334:7)\r\n    at requireBuiltin (node:internal/bootstrap/loaders:365:14)\r\n    at node:repl:136:16\r\n    at BuiltinModule.compileForInternalLoader (node:internal/bootstrap/loaders:334:7)\r\n    at BuiltinModule.compileForPublicLoader (node:internal/bootstrap/loaders:270:10)\r\n    at loadBuiltinModule (node:internal/modules/cjs/helpers:56:9)\r\n    at Module._load (node:internal/modules/cjs/loader:934:15)\r\n    at Module.require (node:internal/modules/cjs/loader:1141:19)\r\n    at require (node:internal/modules/cjs/helpers:110:18) {\r\n  code: 'ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE'\r\n}\r\n```\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\n```ts\r\n// ts-node-uncaught-exception-handler-error.ts\r\nsetTimeout(() => {\r\n  process.setUncaughtExceptionCaptureCallback(er => {\r\n    console.error('caught an error', er)\r\n    process.setUncaughtExceptionCaptureCallback(null)\r\n  })\r\n})\r\n\r\nsetTimeout(() => {\r\n  throw new Error('oops')\r\n}, 100)\r\n```\r\n\r\nExpected behavior:\r\n\r\n```console\r\n$ node ts-node-uncaught-exception-handler-error.ts\r\ncaught an error Error: oops\r\n    at Timeout._onTimeout (/Users/isaacs/dev/tapjs/async-hook-domain/ts-node-uncaught-exception-handler-error.ts:9:9)\r\n    at listOnTimeout (node:internal/timers:569:17)\r\n    at process.processTimers (node:internal/timers:512:7)\r\n```\r\n\r\nActual behavior:\r\n\r\n```console\r\n$ node --loader=ts-node/esm ts-node-uncaught-exception-handler-error.ts\r\n(node:16706) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\nError [ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE]: The `domain` module is in use, which is mutually exclusive with calling process.setUncaughtExceptionCaptureCallback()\r\n    at new NodeError (node:internal/errors:399:5)\r\n    at process.setUncaughtExceptionCaptureCallback (node:domain:134:15)\r\n    at Timeout._onTimeout (/Users/isaacs/dev/tapjs/async-hook-domain/ts-node-uncaught-exception-handler-error.ts:2:11)\r\n    at listOnTimeout (node:internal/timers:569:17)\r\n    at processTimers (node:internal/timers:512:7)\r\n----------------------------------------\r\nError: require(`domain`) at this point\r\n    at node:domain:130:28\r\n    at BuiltinModule.compileForInternalLoader (node:internal/bootstrap/loaders:334:7)\r\n    at requireBuiltin (node:internal/bootstrap/loaders:365:14)\r\n    at node:repl:136:16\r\n    at BuiltinModule.compileForInternalLoader (node:internal/bootstrap/loaders:334:7)\r\n    at BuiltinModule.compileForPublicLoader (node:internal/bootstrap/loaders:270:10)\r\n    at loadBuiltinModule (node:internal/modules/cjs/helpers:56:9)\r\n    at Module._load (node:internal/modules/cjs/loader:934:15)\r\n    at Module.require (node:internal/modules/cjs/loader:1141:19)\r\n    at require (node:internal/modules/cjs/helpers:110:18) {\r\n  code: 'ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE'\r\n}\r\n```\r\n\r\n(Same behavior with `ts-node ts-node-uncaught-exception-handler-error.ts`.)\r\n\r\n### Minimal reproduction\r\n\r\nsee above\r\n\r\nThe path to requiring `node:domain` is:\r\n\r\n- esm.mjs, `const esm = require('./dist/esm');`\r\n- dist/esm.js (from `src/esm.ts`) `import { register, RegisterOptions, Service } from './index';`\r\n- src/index.ts line 38 `export { createRepl, CreateReplOptions, ReplService, EvalAwarePartialHost } from './repl';`\r\n- src/repl.ts line 4 `import { Recoverable, ReplOptions, REPLServer, start as nodeReplStart } from 'repl';\r\n- node:repl line 136 `const domain = require('domain');`\r\n\r\nSuggestion: require `./repl` lazily, since it is rarely needed, and has this rather unfortunate side effect.\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node v10.9.1\r\n* node v18.16.0 and 20.2.0\r\n* compiler v5.0.4\r\n\r\n```\r\n{\r\n  \"include\": [\"src/*.ts\"],\r\n  \"compilerOptions\": {\r\n    \"declaration\": true,\r\n    \"declarationMap\": true,\r\n    \"inlineSources\": true,\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"moduleResolution\": \"node16\",\r\n    \"resolveJsonModule\": true,\r\n    \"sourceMap\": true,\r\n    \"strict\": true,\r\n    \"target\": \"es2022\"\r\n    \"module\": \"esnext\",\r\n    \"outDir\": \"dist-tmp/mjs\"\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version: Darwin moxy.lan 22.4.0 Darwin Kernel Version 22.4.0: Mon Mar  6 20:59:28 PST 2023; root:xnu-8796.101.5~3/RELEASE_ARM64_T6000 arm64\r\n\r\n* If Windows, are you using WSL or WSL2?: N/A\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2024/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2024/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2013",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2013/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2013/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2013/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2013",
        "id": 1699274932,
        "node_id": "I_kwDOAlTKGc5lSOC0",
        "number": 2013,
        "title": "require.resolve will still resolve to a JavaScript file",
        "user": {
          "login": "VictorQueiroz",
          "id": 5693176,
          "node_id": "MDQ6VXNlcjU2OTMxNzY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5693176?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/VictorQueiroz",
          "html_url": "https://github.com/VictorQueiroz",
          "followers_url": "https://api.github.com/users/VictorQueiroz/followers",
          "following_url": "https://api.github.com/users/VictorQueiroz/following{/other_user}",
          "gists_url": "https://api.github.com/users/VictorQueiroz/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/VictorQueiroz/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/VictorQueiroz/subscriptions",
          "organizations_url": "https://api.github.com/users/VictorQueiroz/orgs",
          "repos_url": "https://api.github.com/users/VictorQueiroz/repos",
          "events_url": "https://api.github.com/users/VictorQueiroz/events{/privacy}",
          "received_events_url": "https://api.github.com/users/VictorQueiroz/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-05-07T23:00:30Z",
        "updated_at": "2023-05-08T01:59:48Z",
        "closed_at": "2023-05-08T01:59:48Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "If you run node using `--require ts-node/register` and compile your TypeScript project, `require.resolve` calls will resolve to the compiled `.js` files and not `.ts`. Is there any known solutions to this besides deleting the `.js` files?",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2013/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2013/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2002",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2002/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2002/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2002/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/2002",
        "id": 1687636062,
        "node_id": "I_kwDOAlTKGc5kl0he",
        "number": 2002,
        "title": "Using ts-node main branch as a dependency fails on Yarn berry",
        "user": {
          "login": "4lph4-Ph4un",
          "id": 25401310,
          "node_id": "MDQ6VXNlcjI1NDAxMzEw",
          "avatar_url": "https://avatars.githubusercontent.com/u/25401310?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/4lph4-Ph4un",
          "html_url": "https://github.com/4lph4-Ph4un",
          "followers_url": "https://api.github.com/users/4lph4-Ph4un/followers",
          "following_url": "https://api.github.com/users/4lph4-Ph4un/following{/other_user}",
          "gists_url": "https://api.github.com/users/4lph4-Ph4un/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/4lph4-Ph4un/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/4lph4-Ph4un/subscriptions",
          "organizations_url": "https://api.github.com/users/4lph4-Ph4un/orgs",
          "repos_url": "https://api.github.com/users/4lph4-Ph4un/repos",
          "events_url": "https://api.github.com/users/4lph4-Ph4un/events{/privacy}",
          "received_events_url": "https://api.github.com/users/4lph4-Ph4un/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2023-04-27T22:30:46Z",
        "updated_at": "2023-05-19T01:14:18Z",
        "closed_at": "2023-05-08T03:15:51Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Expected Behavior\r\n\r\nInstalling the patched version (for tsconfig.json with extended config array support) on main with Yarn Berry (v.3.5.0) should work:\r\n\r\n```bash\r\nyarn install\r\n```\r\n### Actual Behavior\r\n\r\nThe above command causes the following errors:\r\n\r\nCauses an error during ~prepack~ phase:\r\n\r\n```bash\r\n➤ YN0000: ┌ Resolution step\r\n➤ YN0013: │ ts-node@https://github.com/TypeStrong/ts-node.git#commit=71dcfd7b813a4178d89562bb4c28d7d6579fae4f can't be found in the cache and will be fetched from GitHub\r\n➤ YN0013: │ ts-node@https://github.com/TypeStrong/ts-node.git#commit=71dcfd7b813a4178d89562bb4c28d7d6579fae4f can't be found in the cache and will be fetched from the remote repository\r\n➤ YN0058: │ ts-node@https://github.com/TypeStrong/ts-node.git#commit=71dcfd7b813a4178d89562bb4c28d7d6579fae4f: Packing the package failed (exit code 1, logs can be found here: C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-3b2a30dd\\pack.log)\r\n➤ YN0000: └ Completed in 19s 92ms\r\n➤ YN0000: Failed with errors in 19s 103ms\r\n```\r\n\r\nThe mentioned log contains:\r\n\r\n```\r\nPacking ts-node@https://github.com/TypeStrong/ts-node.git#commit=71dcfd7b813a4178d89562bb4c28d7d6579fae4f from sources\r\nUsing Yarn for bootstrap. Reason: found {\"packageManager\":\"yarn@3.4.1\"} in manifest\r\n\r\n\u001b[31m\u001b[1mInternal Error\u001b[22m\u001b[39m: @cspotcode/expect-stream@https://github.com/cspotcode/node-expect-stream.git#commit=4e425ff1eef240003af8716291e80fbaf3e3ae8f: Packing the package failed (exit code 1, logs can be found here: C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-38ed450c\\pack.log)\r\n    at C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-48ac0a0d\\.yarn\\releases\\yarn-3.4.1.cjs:422:1665\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async $t.mktempPromise (C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-48ac0a0d\\.yarn\\releases\\yarn-3.4.1.cjs:314:69409)\r\n    at async C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-48ac0a0d\\.yarn\\releases\\yarn-3.4.1.cjs:419:66\r\n    at async $t.mktempPromise (C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-48ac0a0d\\.yarn\\releases\\yarn-3.4.1.cjs:314:69409)\r\n    at async C:\\Users\\Reaper\\AppData\\Local\\Temp\\xfs-48ac0a0d\\.yarn\\releases\\yarn-3.4.1.cjs:414:3118\r\n\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n- Set Yarn to version berry via `yarn set version berry`\r\n- Set Yarn to use node-modules: `yarn config set nodeLinker node-modules`\r\n- Use the main branch of ts-node as dependencies.\r\n\r\n### Specifications\r\n\r\n\r\n* ts-node version: none.. patched branch on main!\r\n* node version: 19.5.0\r\n* TypeScript version: 5.4.0\r\n* tsconfig.json, if you're using one:\r\n``` json\r\n{\r\n  \"ts-node\": {\r\n    \"esm\": true,\r\n    \"compilerOptions\": {\r\n      \"allowJs\": false,\r\n    },\r\n    \"files\":         true,\r\n    \"transpileOnly\": true\r\n  },\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \".\",\r\n    \"rootDir\": \"src\",\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"NodeNext\",\r\n\r\n    \"strict\":                   true,\r\n    \"removeComments\":           true,\r\n    \"preserveConstEnums\":       true,\r\n    \"sourceMap\":                true,\r\n    \"outDir\":                   \"build\",\r\n    \"allowJs\":                  true,\r\n    \"skipLibCheck\":             true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n\r\n    \"esModuleInterop\":                  true,\r\n    \"moduleResolution\":                 \"NodeNext\",\r\n    \"forceConsistentCasingInFileNames\": false,\r\n    \"resolveJsonModule\":                true\r\n  },\r\n  \"include\": [\r\n    \"src/**/*\"\r\n  ],\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"watchOptions\": {\r\n    \"watchFile\":      \"useFsEvents\",\r\n    \"watchDirectory\": \"useFsEvents\",\r\n    \"fallbackPolling\": \"dynamicPriority\"\r\n  }\r\n}\r\n\r\n```\r\n* package.json:\r\n``` json\r\n{\r\n  \"name\": \"@timsa/js-ts-test-bench\",\r\n  \"author\": \"41ph4-Ph4un\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"clean\": \"tsc -b --clean\",\r\n    \"build\": \"yarn run clean && tsc -b\",\r\n    \"lint\": \"eslint \\\"./**/*.{js,cjs,mjs,ts}\\\"\",\r\n    \"lint:fix\": \"eslint --fix \\\"./**/*.{js,cjs,mjs,ts}\\\"\",\r\n    \"start\": \"tsc -b -w\",\r\n    \"start:ts-node\": \"ts-node\",\r\n    \"execute\": \"node ./build/index.js\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\": \"^18.16.2\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^5.59.1\",\r\n    \"@typescript-eslint/parser\": \"^5.59.1\",\r\n    \"eslint\": \"^8.39.0\",\r\n    \"ts-node\": \"TypeStrong/ts-node#main\",\r\n    \"typescript\": \"^5.0.4\"\r\n  },\r\n  \"packageManager\": \"yarn@3.5.0\"\r\n}\r\n```\r\n* Operating system and version: Windows 10\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2002/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/2002/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1996",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1996/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1996/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1996/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1996",
        "id": 1675206247,
        "node_id": "I_kwDOAlTKGc5j2Z5n",
        "number": 1996,
        "title": "@swc/core@1.3.51 does not return sourcemap for type-only files, causes error in `updateSourceMap`",
        "user": {
          "login": "erikthiem-immuta",
          "id": 88343359,
          "node_id": "MDQ6VXNlcjg4MzQzMzU5",
          "avatar_url": "https://avatars.githubusercontent.com/u/88343359?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/erikthiem-immuta",
          "html_url": "https://github.com/erikthiem-immuta",
          "followers_url": "https://api.github.com/users/erikthiem-immuta/followers",
          "following_url": "https://api.github.com/users/erikthiem-immuta/following{/other_user}",
          "gists_url": "https://api.github.com/users/erikthiem-immuta/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/erikthiem-immuta/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/erikthiem-immuta/subscriptions",
          "organizations_url": "https://api.github.com/users/erikthiem-immuta/orgs",
          "repos_url": "https://api.github.com/users/erikthiem-immuta/repos",
          "events_url": "https://api.github.com/users/erikthiem-immuta/events{/privacy}",
          "received_events_url": "https://api.github.com/users/erikthiem-immuta/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-04-19T16:02:25Z",
        "updated_at": "2023-09-15T23:09:03Z",
        "closed_at": "2023-09-15T23:09:03Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nSWC\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nI am using ts-node with the `--swc` flag. I expect it to work. It works fine for me on SWC < 1.3.50\r\n\r\n\r\n### Actual Behavior\r\nI tried upgrading to SWC >= 1.3.50 today and it caused ts-node to not work. I unfortunately did not see much useful output. If there is a way to get more useful output to fix this, I am happy to try it.\r\n\r\n\r\n### Steps to reproduce the problem\r\nUpgrade to SWC >= 1.3.50\r\n\r\n\r\n### Minimal reproduction\r\nBe on ts-node version `10.9.1` and SWC version `1.3.50` and try to use ts-node with the `--swc` flag.\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: 18.x\r\n* TypeScript version: 4.8.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n\"ts-node\": {\r\n    \"swc\": true\r\n}\r\n```\r\n* package.json:\r\nThe relevant part would be:\r\n```\r\n`... node_modules/ts-node/dist/bin.js --swc --transpile-only index.ts`\r\n```\r\n* Operating system and version: Mac\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1996/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1996/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1995",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1995/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1995/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1995/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1995",
        "id": 1674246227,
        "node_id": "I_kwDOAlTKGc5jyvhT",
        "number": 1995,
        "title": "Endlessly spawning loaders in node 20.0.0 leading to large memory leak",
        "user": {
          "login": "Jamesernator",
          "id": 8518303,
          "node_id": "MDQ6VXNlcjg1MTgzMDM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8518303?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Jamesernator",
          "html_url": "https://github.com/Jamesernator",
          "followers_url": "https://api.github.com/users/Jamesernator/followers",
          "following_url": "https://api.github.com/users/Jamesernator/following{/other_user}",
          "gists_url": "https://api.github.com/users/Jamesernator/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Jamesernator/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Jamesernator/subscriptions",
          "organizations_url": "https://api.github.com/users/Jamesernator/orgs",
          "repos_url": "https://api.github.com/users/Jamesernator/repos",
          "events_url": "https://api.github.com/users/Jamesernator/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Jamesernator/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2023-04-19T06:23:09Z",
        "updated_at": "2023-10-11T04:13:12Z",
        "closed_at": "2023-10-11T04:13:11Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nNode 20.0.0\r\n\r\n### Problem\r\n\r\nAs of Node 20.0.0 using the `ts-node/esm` loader has a problem where the loader is endlessly loaded over and over, for example if we run the following program:\r\n\r\n```ts\r\nimport readline from \"node:readline\";\r\n\r\nfunction input(prompt: string = \"\"): Promise<string> {\r\n    return new Promise((resolve) => {\r\n        const rl = readline.createInterface({\r\n            input: process.stdin,\r\n            output: process.stdout,\r\n        });\r\n        rl.question(prompt, (answer) => {\r\n            resolve(answer);\r\n            rl.close();\r\n        });\r\n    });\r\n}\r\n\r\nawait input(`[Continue] `);\r\n```\r\n\r\nRunning it with the esm loader:\r\n\r\n```\r\nnode --loader ts-node/esm ./test.ts\r\n```\r\n\r\nwe get:\r\n\r\n```js\r\n(node:181357) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:181357) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:181357) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n[Continue] (node:181357) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:181357) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:181357) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time\r\n```\r\n\r\nThese warnings will continue ad-infinitum until within a few seconds the Node process consumes all of the system memory and is eventually killed by the OS.\r\n\r\nNow I'm not entirely sure if this problem is something ts-node can fix, or if something is broken in Node's loader implementation. I did create a little toy loader to see if Node was unconditionally broken and it didn't seem to be.\r\n\r\nI haven't really even been able to debug this as `--inspect-brk` doesn't stop loader code so the memory exhaustion just happens within a few seconds so opening devtools and the like doesn't help.\r\n\r\nMy speculation here is that `ts-node` or `typescript` itself is forking a child process which winds up with the same loader.\r\n\r\nThis speculation is based on the fact that a simple dummy loader that forks a child process exhibits similar behaviour:\r\n\r\n```js\r\nimport childProcess from \"node:child_process\";\r\n\r\nchildProcess.fork(\"./worker.js\");\r\n\r\nconsole.log(`Loaded loader`);\r\n\r\nexport function resolve(specifier, context, nextResolve) {\r\n    console.log(`resolve: `, [specifier, context, nextResolve]);\r\n    return nextResolve(specifier, context);\r\n}\r\n```\r\n\r\n### Specifications\r\n\r\n```\r\nts-node v10.9.1\r\nnode v20.0.0\r\ncompiler v5.0.4\r\n```\r\n\r\n* tsconfig.json, if you're using one:\r\n\r\n```\r\n{\r\n    \"include\": [\r\n        \"./**/*.ts\",\r\n        \"./**/*.mts\",\r\n        \"./**/*.cts\",\r\n        \"./**/*.json\"\r\n    ],\r\n    \"exclude\": [\r\n        \"./**/*.d.ts\",\r\n        \"./**/*.d.mts\",\r\n        \"./**/*.d.cts\"\r\n    ],\r\n    \"compilerOptions\": {\r\n        \"resolveJsonModule\": true,\r\n        \"composite\": true,\r\n        \"declaration\": true,\r\n        \"declarationMap\": true,\r\n        \"downlevelIteration\": true,\r\n        \"module\": \"NodeNext\",\r\n        \"moduleResolution\": \"nodenext\",\r\n        \"rootDir\": \"./\",\r\n        \"sourceMap\": true,\r\n        \"target\": \"ES2022\",\r\n        \"newLine\": \"lf\",\r\n        \"useDefineForClassFields\": true,\r\n        \"strict\": true,\r\n        \"alwaysStrict\": true,\r\n        \"exactOptionalPropertyTypes\": true,\r\n        \"noImplicitOverride\": true,\r\n        \"noUncheckedIndexedAccess\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        // \"verbatimModuleSyntax\": true\r\n    },\r\n    \"ts-node\": {\r\n        \"transpileOnly\": true   \r\n    }\r\n}\r\n```\r\n\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"playground\",\r\n  \"type\": \"module\",\r\n  \"private\": true,\r\n  \"exports\": {\r\n    \"./*\": \"./*\"\r\n  },\r\n  \"scripts\": {\r\n    \"build\": \"tsc --build\",\r\n    \"lint\": \"eslint **/*.ts **/*.mts **/*.cts\",\r\n    \"lint:fix\": \"eslint --fix **/*.ts **/*.mts **/*.cts\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@jamesernator/eslint-config\": \"^9.5.0\",\r\n    \"prettier\": \"^2.8.4\"\r\n  },\r\n  \"dependencies\": {\r\n    \"chalk\": \"^5.2.0\",\r\n    \"core-js\": \"^3.30.0\",\r\n    \"playwright\": \"^1.32.3\",\r\n    \"reblessed\": \"^0.2.1\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^5.0.4\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: `Linux 5.19.0-38-generic #39~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Fri Mar 17 21:16:15 UTC 2 x86_64 x86_64 x86_64 GNU/Linux`\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1995/reactions",
          "total_count": 8,
          "+1": 7,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1995/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1992",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1992/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1992/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1992/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1992",
        "id": 1669791095,
        "node_id": "I_kwDOAlTKGc5jhv13",
        "number": 1992,
        "title": "SWC not working properly",
        "user": {
          "login": "Gautamvaishnav-git",
          "id": 103589041,
          "node_id": "U_kgDOBiyksQ",
          "avatar_url": "https://avatars.githubusercontent.com/u/103589041?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Gautamvaishnav-git",
          "html_url": "https://github.com/Gautamvaishnav-git",
          "followers_url": "https://api.github.com/users/Gautamvaishnav-git/followers",
          "following_url": "https://api.github.com/users/Gautamvaishnav-git/following{/other_user}",
          "gists_url": "https://api.github.com/users/Gautamvaishnav-git/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Gautamvaishnav-git/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Gautamvaishnav-git/subscriptions",
          "organizations_url": "https://api.github.com/users/Gautamvaishnav-git/orgs",
          "repos_url": "https://api.github.com/users/Gautamvaishnav-git/repos",
          "events_url": "https://api.github.com/users/Gautamvaishnav-git/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Gautamvaishnav-git/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-04-16T08:53:31Z",
        "updated_at": "2023-09-14T18:30:39Z",
        "closed_at": "2023-09-14T18:30:39Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "![image](https://user-images.githubusercontent.com/103589041/232287751-a30e9185-c812-4873-a1ee-563ec1f3c2a0.png)\r\n\r\nHi there ts-node team I got an issue while using swc in the project, without swc it is working fine, I already installed all the dependencies but not working properly. It's starting server faster but not working properly so please fix it.\r\n\r\n![image](https://user-images.githubusercontent.com/103589041/232287892-7f1be936-0c58-4f83-b05b-fe87dee9593d.png)\r\n\r\nwithout swc its working fine",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1992/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1992/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1987",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1987/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1987/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1987/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1987",
        "id": 1656510332,
        "node_id": "I_kwDOAlTKGc5ivFd8",
        "number": 1987,
        "title": "TS 5.x and ESM does not work with `verbatimModuleSyntax`",
        "user": {
          "login": "lmiller1990",
          "id": 19196536,
          "node_id": "MDQ6VXNlcjE5MTk2NTM2",
          "avatar_url": "https://avatars.githubusercontent.com/u/19196536?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lmiller1990",
          "html_url": "https://github.com/lmiller1990",
          "followers_url": "https://api.github.com/users/lmiller1990/followers",
          "following_url": "https://api.github.com/users/lmiller1990/following{/other_user}",
          "gists_url": "https://api.github.com/users/lmiller1990/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lmiller1990/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lmiller1990/subscriptions",
          "organizations_url": "https://api.github.com/users/lmiller1990/orgs",
          "repos_url": "https://api.github.com/users/lmiller1990/repos",
          "events_url": "https://api.github.com/users/lmiller1990/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lmiller1990/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-04-06T00:55:03Z",
        "updated_at": "2023-04-09T22:10:41Z",
        "closed_at": "2023-04-09T22:10:40Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n`verbatimModuleSyntax`\r\n\r\n### Expected Behavior\r\n\r\nWorks with ts-node/esm and `verbatimModuleSyntax` in TS 5\r\n\r\n### Actual Behavior\r\n\r\n```\r\n/Users/lachlanmiller/code/dump/tsnode/node_modules/ts-node/src/index.ts:859\r\n    return new TSError(diagnosticText, diagnosticCodes, diagnostics);\r\n           ^\r\nTSError: ⨯ Unable to compile TypeScript:\r\nindex.ts:1:21 - error TS5097: An import path can only end with a '.ts' extension when 'allowImportingTsExtensions' is enabled.\r\n\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nIdentical to https://github.com/TypeStrong/ts-node/issues/1981 but using https://github.com/lmiller1990/ts-node-transpile-error/tree/verbatimModuleSyntax (note the branch: `verbatimModuleSyntax`)\r\n\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/lmiller1990/ts-node-transpile-error/tree/verbatimModuleSyntax\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1987/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1987/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1982",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1982/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1982/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1982/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1982",
        "id": 1648917317,
        "node_id": "I_kwDOAlTKGc5iSHtF",
        "number": 1982,
        "title": "Execute error while code contains &",
        "user": {
          "login": "icefee",
          "id": 20411818,
          "node_id": "MDQ6VXNlcjIwNDExODE4",
          "avatar_url": "https://avatars.githubusercontent.com/u/20411818?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/icefee",
          "html_url": "https://github.com/icefee",
          "followers_url": "https://api.github.com/users/icefee/followers",
          "following_url": "https://api.github.com/users/icefee/following{/other_user}",
          "gists_url": "https://api.github.com/users/icefee/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/icefee/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/icefee/subscriptions",
          "organizations_url": "https://api.github.com/users/icefee/orgs",
          "repos_url": "https://api.github.com/users/icefee/repos",
          "events_url": "https://api.github.com/users/icefee/events{/privacy}",
          "received_events_url": "https://api.github.com/users/icefee/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-03-31T08:20:26Z",
        "updated_at": "2023-04-02T14:00:08Z",
        "closed_at": "2023-04-02T14:00:08Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "```\r\nnpx ts-node -e 'console.log(\\\"hello?a=2\\\")'\r\n// output: hello?a=2    It's perfect.\r\n\r\nnpx ts-node -e 'console.log(\\\"hello?a=2&b=2\\\")'\r\n// throw error  'b' is not an internal or external command, nor is it a runnable program or batch file\r\n```\r\n\r\nmy question is, how to execute code contains character &",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1982/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1982/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1981",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1981/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1981/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1981/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1981",
        "id": 1646814407,
        "node_id": "I_kwDOAlTKGc5iKGTH",
        "number": 1981,
        "title": "allowImportingTsExtensions not working with transpileOnly",
        "user": {
          "login": "lmiller1990",
          "id": 19196536,
          "node_id": "MDQ6VXNlcjE5MTk2NTM2",
          "avatar_url": "https://avatars.githubusercontent.com/u/19196536?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lmiller1990",
          "html_url": "https://github.com/lmiller1990",
          "followers_url": "https://api.github.com/users/lmiller1990/followers",
          "following_url": "https://api.github.com/users/lmiller1990/following{/other_user}",
          "gists_url": "https://api.github.com/users/lmiller1990/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lmiller1990/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lmiller1990/subscriptions",
          "organizations_url": "https://api.github.com/users/lmiller1990/orgs",
          "repos_url": "https://api.github.com/users/lmiller1990/repos",
          "events_url": "https://api.github.com/users/lmiller1990/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lmiller1990/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-03-30T02:42:25Z",
        "updated_at": "2023-04-09T22:10:58Z",
        "closed_at": "2023-04-09T22:10:58Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\ntranspileOnly, allowImportingTsExtensions, typescript 5\r\n\r\nPossibly related: https://github.com/TypeStrong/ts-node/issues/1978\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\n`allowImportingTsExtensions` working with `transpileOnly`\r\n\r\n### Actual Behavior\r\n\r\nShould work (I think?)\r\n\r\n### Steps to reproduce the problem\r\n\r\n- ✅ Works: `NODE_OPTIONS=\"--loader ts-node/esm\" node index.ts`\r\n- ❌ Does not work: `NODE_OPTIONS=\"--loader ts-node/esm/transpile-only\" node index.ts`\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/lmiller1990/ts-node-transpile-error\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n\r\nts-node v10.9.1\r\nnode v16.19.1\r\ncompiler v5.0.2\r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"allowImportingTsExtensions\": true,\r\n    \"module\": \"ES2015\",\r\n    \"noEmit\": true\r\n  }\r\n}\r\n\r\n\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"type\": \"module\",\r\n  \"name\": \"tsnode\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.js\",\r\n  \"license\": \"MIT\",\r\n  \"dependencies\": {\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^5.0.2\"\r\n  }\r\n}\r\n\r\n```\r\n* Operating system and version: macos ventura\r\n\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1981/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1981/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1979",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1979/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1979/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1979/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1979",
        "id": 1646221887,
        "node_id": "I_kwDOAlTKGc5iH1o_",
        "number": 1979,
        "title": "Switch to package.json `prepack` script so that yarn can install from git",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-03-29T17:20:03Z",
        "updated_at": "2023-04-29T19:27:09Z",
        "closed_at": "2023-03-29T21:35:38Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Related: https://github.com/TypeStrong/ts-node/pull/1958#issuecomment-1488910558\r\n\r\nWhen installing directly from git, we have our `package.json` configured to run the build.  We are currently using `prepare` for this, but yarn does not support that and recommends `prepack` instead.\r\n\r\nnpm docs seems to agree https://docs.npmjs.com/cli/v9/using-npm/scripts\r\n\r\n> Runs BEFORE a tarball is packed (on \"npm pack\", \"npm publish\", and when installing a git dependency).",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1979/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1979/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1976",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1976/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1976/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1976/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1976",
        "id": 1642599598,
        "node_id": "I_kwDOAlTKGc5h6BSu",
        "number": 1976,
        "title": "need to deprecate charset ",
        "user": {
          "login": "cloneluke",
          "id": 6568361,
          "node_id": "MDQ6VXNlcjY1NjgzNjE=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6568361?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cloneluke",
          "html_url": "https://github.com/cloneluke",
          "followers_url": "https://api.github.com/users/cloneluke/followers",
          "following_url": "https://api.github.com/users/cloneluke/following{/other_user}",
          "gists_url": "https://api.github.com/users/cloneluke/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cloneluke/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cloneluke/subscriptions",
          "organizations_url": "https://api.github.com/users/cloneluke/orgs",
          "repos_url": "https://api.github.com/users/cloneluke/repos",
          "events_url": "https://api.github.com/users/cloneluke/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cloneluke/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 14,
        "created_at": "2023-03-27T18:26:37Z",
        "updated_at": "2023-03-28T17:43:21Z",
        "closed_at": "2023-03-28T17:43:20Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\ncharset\r\ndeprecation\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\ncharset\r\nhttps://github.com/TypeStrong/ts-node/blob/97f9afd046b66a0fe05a7d76e7a32f94b872016f/src/index.ts\r\nhttps://github.com/microsoft/TypeScript/issues/51909\r\n\r\n\r\ncharset is being deprecated by typescript ",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1976/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1976/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1975",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1975/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1975/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1975/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1975",
        "id": 1636807213,
        "node_id": "I_kwDOAlTKGc5hj7It",
        "number": 1975,
        "title": "Custom Compiler is not working about transform",
        "user": {
          "login": "sunrabbit123",
          "id": 64676070,
          "node_id": "MDQ6VXNlcjY0Njc2MDcw",
          "avatar_url": "https://avatars.githubusercontent.com/u/64676070?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sunrabbit123",
          "html_url": "https://github.com/sunrabbit123",
          "followers_url": "https://api.github.com/users/sunrabbit123/followers",
          "following_url": "https://api.github.com/users/sunrabbit123/following{/other_user}",
          "gists_url": "https://api.github.com/users/sunrabbit123/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sunrabbit123/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sunrabbit123/subscriptions",
          "organizations_url": "https://api.github.com/users/sunrabbit123/orgs",
          "repos_url": "https://api.github.com/users/sunrabbit123/repos",
          "events_url": "https://api.github.com/users/sunrabbit123/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sunrabbit123/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2023-03-23T03:54:59Z",
        "updated_at": "2023-03-30T05:26:09Z",
        "closed_at": "2023-03-30T05:26:09Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nHello, I am a developer who is trying to run a custom compiler using ts-node. Your ts-node is very impressive, and I wanted to use it, but it doesn't seem to work for me.\r\n\r\nI ran the following command: [This](https://github.com/sunrabbit123/ttypescript/actions/runs/4496735647/jobs/7911670710)\r\n```sh\r\nnode /home/sunrabbit/Desktop/ttypescript/node_modules/ts-node/dist/bin.js -C /home/sunrabbit/Desktop/ttypescript/packages/ttypescript/lib/typescript.js tsnode.ts\r\n```\r\nAnd the compiler options were successfully entered.\r\n\r\nHowever, the transform did not work, and the following code was executed:\r\n```ts\r\nelse {\r\n    Module.runMain();\r\n}\r\n```\r\n\r\n### Expected Behavior\r\ncool run \r\n\r\n\r\n### Actual Behavior\r\nIt is not work\r\n\r\n\r\n### Steps to reproduce the problem\r\nclone my repository, install package and `npm run test tsnode.spec.ts`\r\n\r\n### Specifications\r\n\r\n* ts-node version: >=8.0.2\r\n* node version: >= 16\r\n* TypeScript version: 5.0\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1975/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1975/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1972",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1972/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1972/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1972/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1972",
        "id": 1630270639,
        "node_id": "I_kwDOAlTKGc5hK_Sv",
        "number": 1972,
        "title": "[Node 19 + ESM + PNP] ERR_MODULE_NOT_FOUND",
        "user": {
          "login": "rtritto",
          "id": 40242971,
          "node_id": "MDQ6VXNlcjQwMjQyOTcx",
          "avatar_url": "https://avatars.githubusercontent.com/u/40242971?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/rtritto",
          "html_url": "https://github.com/rtritto",
          "followers_url": "https://api.github.com/users/rtritto/followers",
          "following_url": "https://api.github.com/users/rtritto/following{/other_user}",
          "gists_url": "https://api.github.com/users/rtritto/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/rtritto/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/rtritto/subscriptions",
          "organizations_url": "https://api.github.com/users/rtritto/orgs",
          "repos_url": "https://api.github.com/users/rtritto/repos",
          "events_url": "https://api.github.com/users/rtritto/events{/privacy}",
          "received_events_url": "https://api.github.com/users/rtritto/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2023-03-18T10:39:32Z",
        "updated_at": "2023-05-26T15:13:57Z",
        "closed_at": "2023-03-18T14:12:50Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nI'm starting a new project with _yarn berry_ (Plug'n'Play enabled) and using ESM to test Node 19 features.\r\n\r\n\r\n### Expected Behavior\r\nNo ERR_MODULE_NOT_FOUND error\r\n\r\n### Actual Behavior\r\n```console\r\nC:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resolve.js:757\r\n  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base));\r\n        ^\r\nCustomError: Cannot find package 'undici' imported from C:\\<PROJECT_PATH>\\test-pnp-node\\example.ts\r\n    at packageResolve (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resolve.js:757:9)\r\n    at moduleResolve (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resolve.js:798:18)\r\n    at Object.defaultResolve (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resolve.js:912:11)\r\n    at C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\src\\esm.ts:218:35\r\n    at entrypointFallback (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\src\\esm.ts:168:34)\r\n    at C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\src\\esm.ts:217:14\r\n    at addShortCircuitFlag (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\src\\esm.ts:409:21)\r\n    at resolve (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\src\\esm.ts:197:12)\r\n    at resolve (C:\\<PROJECT_PATH>\\test-pnp-node\\.yarn\\__virtual__\\ts-node-virtual-6c4c0611aa\\3\\Users\\<USER>\\AppData\\Local\\Yarn\\Berry\\cache\\ts-node-npm-10.9.1-6c268be7f4-9.zip\\node_modules\\ts-node\\src\\child\\child-loader.ts:15:39)\r\n    at nextResolve (node:internal/modules/esm/hooks:654:28)\r\n```\r\n\r\n\r\n### Steps to reproduce the problem\r\n- `yarn init -y`\r\n- `yarn set version canary`\r\n- `yarn add undici typescript ts-node @types/node`\r\n- in _package.json_\r\n  - add `\"type\": \"module\"`\r\n  - change _main_ to _example.ts_ (optional/useless step)\r\n- in _.yarnrc.yml_ add `nodeLinker: pnp` (optional/useless step, Plug'n'Play is already enabled by default)\r\n- create `tsconfig.json` file:\r\n```js\r\n{\r\n  \"compilerOptions\": {\r\n    \"esModuleInterop\": true,  // optional/irrelevant\r\n    \"target\": \"ESNext\",\r\n    \"module\": \"ESNext\",\r\n    \"moduleResolution\": \"nodenext\"  // irrelevant using node or bundler\r\n  },\r\n  \"ts-node\": {\r\n    \"esm\": true\r\n    // \"experimentalSpecifierResolution\": \"node\"  // optional/irrelevant\r\n  }\r\n}\r\n```\r\n- create `example.ts` file\r\n```ts\r\nimport { request } from 'undici'\r\n\r\nrequest('')\r\n```\r\n- `yarn ts-node example.ts`\r\n\r\n### Minimal reproduction\r\nhttps://github.com/rtritto/ts-node-repros/tree/test-pnp-node\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: 19.8.1\r\n* TypeScript version: 5.0.2\r\n\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"test-pnp-node\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.ts\",\r\n  \"type\": \"module\",\r\n  \"license\": \"MIT\",\r\n  \"packageManager\": \"yarn@4.0.0-rc.40\",\r\n  \"dependencies\": {\r\n    \"@types/node\": \"^18.15.3\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^5.0.2\",\r\n    \"undici\": \"^5.21.0\"\r\n  }\r\n}\r\n```\r\n* Operating system and version:\r\nWindows\r\n* If Windows, are you using WSL or WSL2?:\r\nNo\r\n* Correctly work with `nodeLinker: node-modules`",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1972/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1972/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1971",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1971/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1971/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1971/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1971",
        "id": 1628651300,
        "node_id": "I_kwDOAlTKGc5hEz8k",
        "number": 1971,
        "title": "verbatimModuleSyntax w/transpileOnly raises diagnostic error",
        "user": {
          "login": "Jamesernator",
          "id": 8518303,
          "node_id": "MDQ6VXNlcjg1MTgzMDM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8518303?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Jamesernator",
          "html_url": "https://github.com/Jamesernator",
          "followers_url": "https://api.github.com/users/Jamesernator/followers",
          "following_url": "https://api.github.com/users/Jamesernator/following{/other_user}",
          "gists_url": "https://api.github.com/users/Jamesernator/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Jamesernator/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Jamesernator/subscriptions",
          "organizations_url": "https://api.github.com/users/Jamesernator/orgs",
          "repos_url": "https://api.github.com/users/Jamesernator/repos",
          "events_url": "https://api.github.com/users/Jamesernator/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Jamesernator/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2023-03-17T04:01:59Z",
        "updated_at": "2023-03-18T20:40:14Z",
        "closed_at": "2023-03-18T20:40:13Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nisolatedModules, verbatimModuleSyntax\r\n\r\n### Expected Behavior\r\n\r\nTs-node should work with `verbatimModuleSyntax: true`.\r\n\r\n### Actual Behavior\r\n\r\nWith the new config flag, `ts-node` fails to load any TS files with the following error:\r\n\r\n```\r\n/home/jamesernator/projects/playground/node_modules/ts-node/src/index.ts:859\r\n    return new TSError(diagnosticText, diagnosticCodes, diagnostics);\r\n           ^\r\nTSError: ⨯ Unable to compile TypeScript:\r\nerror TS5104: Option 'isolatedModules' is redundant and cannot be specified with option 'verbatimModuleSyntax'.\r\n\r\n    at createTSError (/home/jamesernator/projects/playground/node_modules/ts-node/src/index.ts:859:12)\r\n    at reportTSError (/home/jamesernator/projects/playground/node_modules/ts-node/src/index.ts:863:19)\r\n    at /home/jamesernator/projects/playground/node_modules/ts-node/src/index.ts:1379:34\r\n    at Object.compile (/home/jamesernator/projects/playground/node_modules/ts-node/src/index.ts:1453:13)\r\n    at transformSource (/home/jamesernator/projects/playground/node_modules/ts-node/src/esm.ts:400:37)\r\n    at /home/jamesernator/projects/playground/node_modules/ts-node/src/esm.ts:278:53\r\n    at async addShortCircuitFlag (/home/jamesernator/projects/playground/node_modules/ts-node/src/esm.ts:409:15)\r\n    at async nextLoad (node:internal/modules/esm/loader:163:22)\r\n    at async ESMLoader.load (node:internal/modules/esm/loader:597:20)\r\n    at async ESMLoader.moduleProvider (node:internal/modules/esm/loader:449:11) {\r\n  diagnosticCodes: [ 5104 ]\r\n}\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nRun `node --loader ts-node/esm ./test.ts` (where `test.ts`) is any ts file when `verbatimModuleSyntax: true` is set.\r\n\r\n### Minimal reproduction\r\n\r\nhttps://gist.github.com/Jamesernator/5c4598178a4f4c3ce6961aa052a48d2a\r\n\r\n### Specifications\r\n\r\n*ts-node v10.9.1\r\n* node v19.7.0\r\n* compiler v5.0.2\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n    \"include\": [\r\n        \"./**/*.ts\",\r\n        \"./**/*.mts\",\r\n        \"./**/*.cts\",\r\n        \"./**/*.json\"\r\n    ],\r\n    \"exclude\": [\r\n        \"./**/*.d.ts\",\r\n        \"./**/*.d.mts\",\r\n        \"./**/*.d.cts\"\r\n    ],\r\n    \"compilerOptions\": {\r\n        \"resolveJsonModule\": true,\r\n        \"composite\": true,\r\n        \"declaration\": true,\r\n        \"declarationMap\": true,\r\n        \"downlevelIteration\": true,\r\n        \"module\": \"NodeNext\",\r\n        \"moduleResolution\": \"nodenext\",\r\n        \"rootDir\": \"./\",\r\n        \"sourceMap\": true,\r\n        \"target\": \"ES2022\",\r\n        \"newLine\": \"lf\",\r\n        \"useDefineForClassFields\": true,\r\n        \"strict\": true,\r\n        \"alwaysStrict\": true,\r\n        \"exactOptionalPropertyTypes\": true,\r\n        \"noImplicitOverride\": true,\r\n        \"noUncheckedIndexedAccess\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"verbatimModuleSyntax\": true\r\n    },\r\n    \"ts-node\": {\r\n        \"transpileOnly\": true   \r\n    }\r\n}\r\n```\r\n* package.json\r\n```\r\n{\r\n    \"type\": \"module\",\r\n    \"dependencies\": {\r\n        \"ts-node\": \"^10.9.1\",\r\n        \"typescript\": \"^5.0.2\"  \r\n    }\r\n}\r\n```\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1971/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1971/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1964",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1964/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1964/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1964/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1964",
        "id": 1609656125,
        "node_id": "I_kwDOAlTKGc5f8Wc9",
        "number": 1964,
        "title": "--transpile-only execute the code instead of showing transpilation result",
        "user": {
          "login": "hadrien-toma",
          "id": 6162030,
          "node_id": "MDQ6VXNlcjYxNjIwMzA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6162030?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hadrien-toma",
          "html_url": "https://github.com/hadrien-toma",
          "followers_url": "https://api.github.com/users/hadrien-toma/followers",
          "following_url": "https://api.github.com/users/hadrien-toma/following{/other_user}",
          "gists_url": "https://api.github.com/users/hadrien-toma/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/hadrien-toma/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/hadrien-toma/subscriptions",
          "organizations_url": "https://api.github.com/users/hadrien-toma/orgs",
          "repos_url": "https://api.github.com/users/hadrien-toma/repos",
          "events_url": "https://api.github.com/users/hadrien-toma/events{/privacy}",
          "received_events_url": "https://api.github.com/users/hadrien-toma/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2023-03-04T07:30:26Z",
        "updated_at": "2023-03-07T05:17:56Z",
        "closed_at": "2023-03-07T05:07:47Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n- transpile-only\r\n\r\n### Expected Behavior\r\n\r\nBeeing able to get the transpiled JS.\r\n\r\n### Actual Behavior\r\n\r\nExecuting the transpiled JS without seeing it before that.\r\n\r\n### Steps to reproduce the problem\r\n\r\n```bash\r\ndocker run --rm --interactive --tty node /bin/bash -c \"\r\n    uname --all &&\r\n    npm install --global npm && \r\n    echo \\\"npm -v -> \\$(npm -v)\\\" && \r\n    echo \\\"node -v -> \\$(node -v)\\\" && \r\n    echo \\\"npx --yes ts-node -v -> \\$(npx --yes ts-node -v)\\\" && \r\n    echo 'const counter: number = 0; console.log({ counter });' > index.ts && \r\n    npx ts-node --transpile-only index.ts\"\r\n```\r\n\r\nWhich gives:\r\n\r\n```bash\r\nLinux a81d6aefd151 5.19.0-32-generic #33~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Mon Jan 30 17:03:34 UTC 2 x86_64 GNU/Linux\r\n\r\nchanged 21 packages in 19s\r\n\r\n16 packages are looking for funding\r\n  run `npm fund` for details\r\nnpm -v -> 9.6.0\r\nnode -v -> v19.7.0\r\nnpx --yes ts-node -v -> v10.9.1\r\n{ counter: 0 }\r\n```\r\n\r\n### Specifications\r\n\r\n* Operating system and version:\r\n\r\n```bash\r\n> cat /etc/lsb-release\r\n\r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=22.04\r\nDISTRIB_CODENAME=jammy\r\nDISTRIB_DESCRIPTION=\"Ubuntu 22.04.2 LTS\"\r\n\r\n> uname --all\r\n\r\nLinux farfetchd 5.19.0-32-generic #33~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Mon Jan 30 17:03:34 UTC 2 x86_64 x86_64 x86_64 GNU/Linux\r\n```",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1964/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1964/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1954",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1954/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1954/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1954/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1954",
        "id": 1578486743,
        "node_id": "I_kwDOAlTKGc5eFcvX",
        "number": 1954,
        "title": "Add support for TS 5.0 \"extends\" array",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 11,
        "created_at": "2023-02-09T19:46:32Z",
        "updated_at": "2024-07-08T09:48:27Z",
        "closed_at": "2023-02-13T17:01:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "TS 5.0 adds support for \"extends\" to be an array of one or more extended configs, not just a single config.\r\n\r\nhttps://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/#supporting-multiple-configuration-files-in-extends\r\n\r\nWe can do the same, also merging `ts-node` options from multiple tsconfigs.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1954/reactions",
          "total_count": 9,
          "+1": 9,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1954/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1953",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1953/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1953/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1953/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1953",
        "id": 1578473530,
        "node_id": "I_kwDOAlTKGc5eFZg6",
        "number": 1953,
        "title": "Tsconfig.json with extends array pointing to tsconfig.json in parent gives typeerror.",
        "user": {
          "login": "wvhulle",
          "id": 7688680,
          "node_id": "MDQ6VXNlcjc2ODg2ODA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7688680?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/wvhulle",
          "html_url": "https://github.com/wvhulle",
          "followers_url": "https://api.github.com/users/wvhulle/followers",
          "following_url": "https://api.github.com/users/wvhulle/following{/other_user}",
          "gists_url": "https://api.github.com/users/wvhulle/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/wvhulle/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/wvhulle/subscriptions",
          "organizations_url": "https://api.github.com/users/wvhulle/orgs",
          "repos_url": "https://api.github.com/users/wvhulle/repos",
          "events_url": "https://api.github.com/users/wvhulle/events{/privacy}",
          "received_events_url": "https://api.github.com/users/wvhulle/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-02-09T19:36:00Z",
        "updated_at": "2023-02-09T19:52:54Z",
        "closed_at": "2023-02-09T19:52:22Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nCreating an extends entry in the tsconfig.json file that points to a tsconfig.json in a parent directory gives a type error \"value.replace is not a function\". It seems to be related to the file paths.\r\n\r\n### Expected Behavior\r\n\r\nRun main without type error.\r\n\r\n### Actual Behavior\r\n```\r\n/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/util.js:62\r\n    return value.replace(backslashRegExp, directorySeparator);\r\n                 ^\r\n\r\nTypeError: value.replace is not a function\r\n    at normalizeSlashes (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/util.js:62:18)\r\n    at Object.getExtendsConfigPath (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/ts-internals.js:24:54)\r\n    at readConfig (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/configuration.js:127:64)\r\n    at findAndReadConfig (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/configuration.js:50:84)\r\n    at phase3 (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/bin.js:254:67)\r\n    at bootstrap (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/bin.js:47:30)\r\n    at main (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/bin.js:33:12)\r\n    at Object.<anonymous> (/home/..../node_modules/.pnpm/ts-node@10.9.1_phnrzqkcivvh6u4szhymjletvi/node_modules/ts-node/dist/bin.js:579:5)\r\n    at Module._compile (node:internal/modules/cjs/loader:1239:14)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1293:10)\r\n\r\nNode.js v19.4.0\r\n```\r\n\r\n\r\n### Steps to reproduce the problem\r\nMake a typescript project with a child tsconfig.json extending a parent.\r\n\r\n```\r\ncd lib\r\nchmod a+x ./main.ts\r\n./main.ts\r\n```\r\n\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/wvhulle/ts-node-bug-extends-parent-directory\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: Node.js v19.4.0\r\n* TypeScript version: 5.0.0-dev.20230209\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n\t\"ts-node\": {\r\n\t\t\"experimentalSpecifierResolution\": \"node\",\r\n\t\t\"esm\": true,\r\n        \"files\": true\r\n\t},\r\n\t\"compilerOptions\": {\r\n\t\t\"forceConsistentCasingInFileNames\": true,\r\n\t\t\"target\": \"ESNext\",\r\n\t\t\"useDefineForClassFields\": true,\r\n\t\t\"module\": \"ESNext\",\r\n\t\t\"lib\": [\r\n\t\t\t\"ESNext\",\r\n\t\t\t\"DOM\"\r\n\t\t],\r\n\t\t\"moduleResolution\": \"Node\",\r\n\t\t\"strict\": true,\r\n\t\t\"resolveJsonModule\": true,\r\n\t\t\"isolatedModules\": true,\r\n\t\t\"esModuleInterop\": true,\r\n\t\t\"noEmit\": true,\r\n\t\t\"noImplicitReturns\": true,\r\n\t\t\"baseUrl\": \".\"\r\n    },\r\n\t\"exclude\": [\r\n\t\t\"./node_modules/**\",\r\n\t\t\"./.vscode/**\"\r\n\t]\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"typescript\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"type\": \"module\",\r\n  \"devDependencies\": {\r\n    \"@types/node\": \"^18.13.0\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"5.0.0-dev.20230209\"\r\n  }\r\n}\r\n\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\nLinux Mint 21.1\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1953/reactions",
          "total_count": 3,
          "+1": 3,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1953/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1949",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1949/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1949/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1949/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1949",
        "id": 1569641079,
        "node_id": "I_kwDOAlTKGc5djtJ3",
        "number": 1949,
        "title": "Make platform metrics, logger and env standalone",
        "user": {
          "login": "pp0rtal",
          "id": 572334,
          "node_id": "MDQ6VXNlcjU3MjMzNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/572334?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pp0rtal",
          "html_url": "https://github.com/pp0rtal",
          "followers_url": "https://api.github.com/users/pp0rtal/followers",
          "following_url": "https://api.github.com/users/pp0rtal/following{/other_user}",
          "gists_url": "https://api.github.com/users/pp0rtal/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pp0rtal/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pp0rtal/subscriptions",
          "organizations_url": "https://api.github.com/users/pp0rtal/orgs",
          "repos_url": "https://api.github.com/users/pp0rtal/repos",
          "events_url": "https://api.github.com/users/pp0rtal/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pp0rtal/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2023-02-03T10:47:41Z",
        "updated_at": "2023-02-03T10:48:11Z",
        "closed_at": "2023-02-03T10:48:10Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "sorry - wrong repo",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1949/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1949/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1943",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1943/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1943/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1943/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1943",
        "id": 1538427359,
        "node_id": "I_kwDOAlTKGc5bsonf",
        "number": 1943,
        "title": "ERR_UNKNOWN_FILE_EXTENSION for binaries without extension",
        "user": {
          "login": "emoriarty",
          "id": 510375,
          "node_id": "MDQ6VXNlcjUxMDM3NQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/510375?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/emoriarty",
          "html_url": "https://github.com/emoriarty",
          "followers_url": "https://api.github.com/users/emoriarty/followers",
          "following_url": "https://api.github.com/users/emoriarty/following{/other_user}",
          "gists_url": "https://api.github.com/users/emoriarty/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/emoriarty/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/emoriarty/subscriptions",
          "organizations_url": "https://api.github.com/users/emoriarty/orgs",
          "repos_url": "https://api.github.com/users/emoriarty/repos",
          "events_url": "https://api.github.com/users/emoriarty/events{/privacy}",
          "received_events_url": "https://api.github.com/users/emoriarty/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-18T17:58:46Z",
        "updated_at": "2023-02-07T13:11:08Z",
        "closed_at": "2023-02-07T13:11:04Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nERR_UNKNOWN_FILE_EXTENSION, entrypoint, runmain\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nRunning `ts-node-esm` for binaries with no extension work without error in node 18.6 and greater.\r\n\r\n### Actual Behavior\r\n\r\nExecuting `ts-node-esm` for binaries without extension (sequelize, uuid, tserver) throws the following error:\r\n\r\n```bash\r\nCustomError: ERR_UNKNOWN_FILE_EXTENSION  /Users/enriquearias/Workspace/swile/notifications-hub/node_modules/uuid/dist/bin/uuid\r\n    at defaultGetFormat (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/dist-raw/node-internal-modules-esm-get_format.js:93:15)\r\n    at defer (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/src/esm.ts:307:38)\r\n    at entrypointFallback (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/src/esm.ts:314:14)\r\n    at getFormat (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/src/esm.ts:352:17)\r\n    at /Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/src/esm.ts:268:10\r\n    at addShortCircuitFlag (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/dist/esm.js:233:23)\r\n    at load (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/dist/esm.js:122:16)\r\n    at load (/Users/enriquearias/Workspace/swile/notifications-hub/node_modules/ts-node/src/child/child-loader.ts:18:36)\r\n    at nextLoad (node:internal/modules/esm/loader:163:28)\r\n    at ESMLoader.load (node:internal/modules/esm/loader:605:26)\r\n```\r\nThis error happens only in node v18.6 and higher.\r\n\r\n### Minimal reproduction\r\n\r\nHere's a minimal reproduction [repository](https://github.com/emoriarty/ts-node-unknown-file-extension-binaries/) to test it.\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: >= 18.6.0\r\n* TypeScript version: 4.9.4\r\n* Operating system and version: Mac OSX | Ubuntu\r\n\r\n### Debug\r\n\r\nAfter debugging the source code, I've noticed that the last version ([10.9.1](https://github.com/TypeStrong/ts-node/releases/tag/v10.9.1)) includes this [patch](https://github.com/TypeStrong/ts-node/pull/1838) which causes the issue here.\r\n\r\nConcretely, the file [runmain-hack.js](https://github.com/TypeStrong/ts-node/blob/v10.9.1/dist-raw/runmain-hack.js) is importing the entrypoint file (uuid in the example above) which adds itself as `parentURL` in the current import context.\r\n\r\nWhen the [`entrypointFallback`](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/src/esm.ts#L164) function is executed, it is asked if the current file (specifier) is an entrypoint by calling the function [`isProbablyEntrypoint`](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/src/esm.ts#L146).\r\n\r\nOne of the conditions to be a entrypoint in `isProbablyEntrypoint` is that there's no parent in the context. Because runmain-hack adds the parent in the context, the `rememberIsProbablyEntrypoint` object won't be updated.\r\n\r\nThis is important for files without extension, because when the function [`getFormat`](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/src/esm.ts#L290) executes the [`defaultGetFormat`](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/dist-raw/node-internal-modules-esm-get_format.js#L61) which [throws an error](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/dist-raw/node-internal-modules-esm-get_format.js#L93) because there's no matching format, the catch body [checks if the file is an entrypoint](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/src/esm.ts#L306). But, because the `rememberIsProbablyEntrypoint` was not set, instead of [returning the commonjs format](https://github.com/TypeStrong/ts-node/blob/0e0da590b3c104ee515ae7b603c29d3d87620ce5/src/esm.ts#L307), the error is re-thrown.\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1943/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1943/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1939",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1939/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1939/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1939/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1939",
        "id": 1526902236,
        "node_id": "I_kwDOAlTKGc5bAq3c",
        "number": 1939,
        "title": "Test with threejs got error",
        "user": {
          "login": "jameszhong2008",
          "id": 5835878,
          "node_id": "MDQ6VXNlcjU4MzU4Nzg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5835878?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jameszhong2008",
          "html_url": "https://github.com/jameszhong2008",
          "followers_url": "https://api.github.com/users/jameszhong2008/followers",
          "following_url": "https://api.github.com/users/jameszhong2008/following{/other_user}",
          "gists_url": "https://api.github.com/users/jameszhong2008/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jameszhong2008/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jameszhong2008/subscriptions",
          "organizations_url": "https://api.github.com/users/jameszhong2008/orgs",
          "repos_url": "https://api.github.com/users/jameszhong2008/repos",
          "events_url": "https://api.github.com/users/jameszhong2008/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jameszhong2008/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-01-10T07:34:28Z",
        "updated_at": "2023-02-16T09:47:13Z",
        "closed_at": "2023-02-16T09:47:13Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "# Project use typescript, try to add test for my code use three according to [Testing-with-NPM](https://threejs.org/docs/#manual/en/buildTools/Testing-with-NPM)\r\n\r\nUse mocha. it works great with following code\r\n\r\nfollowing is test.ts\r\n```\r\nimport * as THREE from 'three';\r\n// import { ConvexHull } from 'three/examples/jsm/math/ConvexHull.js';\r\n\r\nconst assert = require('assert');\r\n\r\ndescribe('The THREE object', function() {\r\n  it('should have a defined BasicShadowMap constant', function() {\r\n    assert.notEqual('undefined', THREE.BasicShadowMap);\r\n  }),\r\n\r\n  it('should be able to construct a Vector3 with default of x=0', function() {\r\n    const vec3 = new THREE.Vector3();\r\n    assert.equal(0, vec3.x);\r\n    // let cc = new ConvexHull();\r\n  })\r\n})\r\n```\r\nbut when i uncomment following code and use ConvexHull\r\n```\r\nimport * as THREE from 'three';\r\nimport { ConvexHull } from 'three/examples/jsm/math/ConvexHull';\r\n```\r\nI got a error Error: Cannot find module 'D:\\xxx\\node_modules\\three\\examples\\jsm\\math\\ConvexHull'\r\n\r\nI also try to add extension of ConvexHull file\r\n```\r\nconst ConvexHull = require('three/examples/jsm/math/ConvexHull.js');\r\n```\r\nthen got a diffrent error:\r\nTypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for D:\\xxx\\__test__\\test.ts\r\n    at new NodeError (node:internal/errors:387:5)\r\n    at Object.getFileProtocolModuleFormat [as file:] (node:internal/modules/esm/get_format:75:11)\r\n\r\nUse any class under node_modules\\three\\examples\\jsm. Got the sameerror: Cannot find module error or ERR_UNKNOWN_FILE_EXTENSION.\r\nDon't know how to solve it. any ideas would be appreciated, thanks.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1939/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1939/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1930",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1930/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1930/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1930/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1930",
        "id": 1500739517,
        "node_id": "I_kwDOAlTKGc5Zc3e9",
        "number": 1930,
        "title": "Support for the experimental syntax 'decorators' isn't currently enabled",
        "user": {
          "login": "justinmchase",
          "id": 10974,
          "node_id": "MDQ6VXNlcjEwOTc0",
          "avatar_url": "https://avatars.githubusercontent.com/u/10974?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/justinmchase",
          "html_url": "https://github.com/justinmchase",
          "followers_url": "https://api.github.com/users/justinmchase/followers",
          "following_url": "https://api.github.com/users/justinmchase/following{/other_user}",
          "gists_url": "https://api.github.com/users/justinmchase/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/justinmchase/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/justinmchase/subscriptions",
          "organizations_url": "https://api.github.com/users/justinmchase/orgs",
          "repos_url": "https://api.github.com/users/justinmchase/repos",
          "events_url": "https://api.github.com/users/justinmchase/events{/privacy}",
          "received_events_url": "https://api.github.com/users/justinmchase/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-12-16T19:16:41Z",
        "updated_at": "2022-12-17T04:43:55Z",
        "closed_at": "2022-12-17T04:43:55Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nSupport for the experimental syntax 'decorators' isn't currently enabled\r\n\r\n### Expected Behavior\r\n\r\nI expect it to not be using babel at all, I expect this to be using typescript compiler and using my tsconfig file configuration, which does have decorator support enabled.\r\n\r\n\r\n\r\n### Actual Behavior\r\n\r\n```\r\nSyntaxError[ @/Users/jchase24/code/recovery/apps/recovery-auth-api/src/controllers/auth.controller.test.ts ]: /Users/jchase24/code/recovery/apps/recovery-auth-api/src/controllers/auth.controller.ts: Support for the experimental syntax 'decorators' isn't currently enabled (45:1):\r\n\r\n  43 | import { ConfigService } from '../services/config/config.service.js'\r\n  44 |\r\n> 45 | @ApiPath({\r\n     | ^\r\n  46 |   path: '/',\r\n  47 |   name: 'Authentication'\r\n  48 | })\r\n\r\nAdd @babel/plugin-proposal-decorators (https://github.com/babel/babel/tree/main/packages/babel-plugin-proposal-decorators) to the 'plugins' section of your Babel config to enable transformation.\r\nIf you want to leave it as-is, add @babel/plugin-syntax-decorators (https://github.com/babel/babel/tree/main/packages/babel-plugin-syntax-decorators) to the 'plugins' section to enable parsing.\r\n    at instantiate (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parse-error/credentials.ts:62:21)\r\n    at toParseError (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parse-error.ts:60:12)\r\n    at Parser.raise (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/tokenizer/index.ts:1474:19)\r\n    at Parser.expectOnePlugin (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/tokenizer/index.ts:1539:18)\r\n    at Parser.parseDecorator (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:713:10)\r\n    at Parser.parseDecorators (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:692:28)\r\n    at Parser.parseStatementLike (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:418:25)\r\n    at Parser.parseModuleItem (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:365:17)\r\n    at Parser.parseBlockOrModuleBlockBody (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:1345:16)\r\n    at Parser.parseBlockBody (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:1319:10)\r\n    at Parser.parseProgram (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:226:10)\r\n    at Parser.parseTopLevel (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/statement.ts:208:25)\r\n    at Parser.parse (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/parser/index.ts:45:10)\r\n    at parse (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/parser/src/index.ts:67:38)\r\n    at parser (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/core/src/parser/index.ts:28:19)\r\n    at parser.next (<anonymous>)\r\n    at normalizeFile (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/core/src/transformation/normalize-file.ts:52:24)\r\n    at normalizeFile.next (<anonymous>)\r\n    at run (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/core/src/transformation/index.ts:38:36)\r\n    at run.next (<anonymous>)\r\n    at transform (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/core/src/transform.ts:29:20)\r\n    at transform.next (<anonymous>)\r\n    at step (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:261:32)\r\n    at /Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:273:13\r\n    at async.call.result.err.err (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:223:11)\r\n    at cb (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:189:28)\r\n    at /Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/@babel/core/src/gensync-utils/async.ts:90:7\r\n    at /Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:113:33\r\n    at step (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:287:14)\r\n    at /Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:273:13\r\n    at async.call.result.err.err (/Users/jchase24/code/recovery/apps/recovery-auth-api/node_modules/gensync/index.js:223:11)\r\n```\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\nHere is my mocha config:\r\n```\r\n  \"mocha\": {\r\n    \"parallel\": false,\r\n    \"loader\": [\r\n      \"@istanbuljs/esm-loader-hook\",\r\n      \"ts-node/esm\"\r\n    ],\r\n    \"spec\": [\r\n      \"src/**/*.test.ts\"\r\n    ],\r\n    \"extension\": [\r\n      \"ts\"\r\n    ]\r\n  },\r\n```\r\nThen I'm just running `mocha`\r\n\r\nMake a ts file with a decorator on a class.\r\n\r\n\r\n### Minimal reproduction\r\n\r\nIf you actually want this I'll make it but I'm not gonna go through this effort until its warranted.\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\nts-node v10.9.1\r\nnode v16.17.0\r\ncompiler v4.6.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"module\": \"esnext\",\r\n    \"target\": \"esnext\",\r\n    \"moduleResolution\": \"node\",\r\n    \"lib\": [\"ES2019\", \"ESNext.AsyncIterable\"],\r\n    \"outDir\": \"dest\",\r\n    \"rootDir\": \"src\",\r\n    \"sourceMap\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"emitDecoratorMetadata\": true,\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"skipLibCheck\": true,\r\n    \"strictNullChecks\": true\r\n  },\r\n  \"include\": [\"src\"],\r\n  \"exclude\": [\"node_modules\"]\r\n}\r\n\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version: osx\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1930/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1930/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1929",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1929/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1929/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1929/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1929",
        "id": 1499408416,
        "node_id": "I_kwDOAlTKGc5ZXygg",
        "number": 1929,
        "title": "Node.JS `tsconfig.json` ERR_IMPORT_ASSERTION_TYPE_MISSING TypeError: Module tsconfig.json needs an import assertion of type \"json\"",
        "user": {
          "login": "khteh",
          "id": 3871483,
          "node_id": "MDQ6VXNlcjM4NzE0ODM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3871483?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/khteh",
          "html_url": "https://github.com/khteh",
          "followers_url": "https://api.github.com/users/khteh/followers",
          "following_url": "https://api.github.com/users/khteh/following{/other_user}",
          "gists_url": "https://api.github.com/users/khteh/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/khteh/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/khteh/subscriptions",
          "organizations_url": "https://api.github.com/users/khteh/orgs",
          "repos_url": "https://api.github.com/users/khteh/repos",
          "events_url": "https://api.github.com/users/khteh/events{/privacy}",
          "received_events_url": "https://api.github.com/users/khteh/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-12-16T01:16:18Z",
        "updated_at": "2022-12-31T03:28:39Z",
        "closed_at": "2022-12-31T03:28:38Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n`tsconfig.json` in a nested project folder `\"extends\": \"../../tsconfig.json\"` bumps into \r\n```\r\n[!] TypeError: Module \"file:///usr/src/Node.JSRestAPI/src/core/tsconfig.json\" needs an import assertion of type \"json\"\r\nTypeError [ERR_IMPORT_ASSERTION_TYPE_MISSING]: Module \"file:///usr/src/Node.JSRestAPI/src/core/tsconfig.json\" needs an import assertion of type \"json\"\r\n    at new NodeError (node:internal/errors:393:5)\r\n    at validateAssertions (node:internal/modules/esm/assert:82:15)\r\n    at defaultLoad (node:internal/modules/esm/load:84:3)\r\n    at nextLoad (node:internal/modules/esm/loader:164:28)\r\n    at ESMLoader.load (node:internal/modules/esm/loader:603:26)\r\n    at ESMLoader.moduleProvider (node:internal/modules/esm/loader:459:22)\r\n    at new ModuleJob (node:internal/modules/esm/module_job:63:26)\r\n    at #createModuleJob (node:internal/modules/esm/loader:478:17)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:436:34)\r\n    at async ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:78:21)\r\n```\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\n\r\n\r\n### Actual Behavior\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: `\"^10.9.1\"`\r\n* node version: `v18.8.0`\r\n* TypeScript version: `\"typescript\": \"^4.9.4\"`\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n    \"extends\": \"../../tsconfig.json\",\r\n    \"include\": [\r\n        \"**/*.ts\"\r\n    ],\r\n    \"exclude\": [\r\n        \"node_modules\", \r\n        \"build\"\r\n    ],\r\n    \"compilerOptions\": {\r\n        \"baseUrl\": \".\",\r\n        \"rootDir\": \".\",\r\n        \"outDir\": \"build/\",\r\n        \"resolveJsonModule\": true,\r\n        \"esModuleInterop\": true,\r\n        \"plugins\": [\r\n            {\r\n                \"name\": \"@rollup/plugin-typescript\"\r\n            },\r\n            {\r\n                \"name\": \"@rollup/plugin-json\"\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"node.jsrestapi\",\r\n  \"version\": \"1.0.0\",\r\n  \"private\": true,\r\n  \"exports\": \"./src/webapi/server.ts\",\r\n  \"type\": \"module\",\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"git+https://github.com/khteh/Node.JSRestAPI.git\"\r\n  },\r\n  \"scripts\": {\r\n    \"graph\": \"nx graph\",\r\n    \"typeorm\": \"typeorm-ts-node-esm\",\r\n    \"run_migration\": \"npx typeorm-ts-node-esm migration:run\",\r\n    \"clean\": \"tsc --build --clean && rimraf build src/core/build src/infrastructure/build src/webapi/build\",\r\n    \"copy-assets\": \"ts-node --esm tools/copyAssets.ts\",\r\n    \"build\": \"npx tsc\",\r\n    \"build_core\": \"npm run build --workspace=core\",\r\n    \"build_infra\": \"npm run build --workspace=infrastructure\",\r\n    \"build_webapi\": \"npm run build --workspace=webapi\",\r\n    \"build_all\": \"npm-run-all clean build_core build_infra build_webapi build copy-assets\",\r\n    \"lint\": \"eslint --ext .js --ignore-path .gitignore ./\",\r\n    \"dev\": \"export NODE_ENV=dev&& concurrently \\\"npx tsc --watch\\\" \\\"nodemon -q build/src/webapi/server.js\\\"\",\r\n    \"start\": \"export NODE_ENV=dev&& node --experimental-specifier-resolution=node build/src/webapi/server.js\",\r\n    \"test\": \"export NODE_ENV=test&& ./node_modules/.bin/mocha -r ts-node/register tests/**/*.ts --timeout 10000 --recursive --check-leaks --exit\",\r\n    \"cover\": \"./node_modules/.bin/nyc --reporter=lcov --reporter=text --reporter=text-summary --reporter=html npm test\",\r\n    \"sonarqube\": \"./node_modules/.bin/mocha --reporter mocha-sonarqube-reporter tests --reporter-options output=test_reports/sonarqube/test_results.xml\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@types/morgan\": \"^1.9.3\",\r\n    \"ansi-regex\": \"^6.0.1\",\r\n    \"async\": \"^3.2.4\",\r\n    \"compression\": \"^1.7.4\",\r\n    \"config\": \"^3.3.8\",\r\n    \"cookie-parser\": \"^1.4.6\",\r\n    \"cors\": \"^2.8.5\",\r\n    \"debug\": \"~4.3.1\",\r\n    \"ejs\": \"~3.1.6\",\r\n    \"email-validator\": \"^2.0.4\",\r\n    \"express\": \"^4.18.2\",\r\n    \"helmet\": \"^6.0.1\",\r\n    \"http-errors\": \"~2.0.0\",\r\n    \"morgan\": \"^1.10.0\",\r\n    \"pg\": \"^8.8.0\",\r\n    \"spdy\": \"^4.0.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@babel/eslint-parser\": \"^7.19.1\",\r\n    \"@types/async\": \"^3.2.16\",\r\n    \"@types/chai-as-promised\": \"^7.1.5\",\r\n    \"@types/jest\": \"^29.2.4\",\r\n    \"@types/mocha\": \"^10.0.1\",\r\n    \"@types/shelljs\": \"^0.8.11\",\r\n    \"@types/sinon\": \"^10.0.13\",\r\n    \"chai\": \"^4.3.7\",\r\n    \"chai-as-promised\": \"^7.1.1\",\r\n    \"chai-http\": \"^4.3.0\",\r\n    \"concurrently\": \"^7.6.0\",\r\n    \"eslint\": \"^8.29.0\",\r\n    \"fs-extra\": \"^11.1.0\",\r\n    \"mocha\": \"^10.2.0\",\r\n    \"mocha-junit-reporter\": \"^2.2.0\",\r\n    \"mocha-sonarqube-reporter\": \"^1.0.2\",\r\n    \"module-name\": \"^0.0.1-security\",\r\n    \"moq.ts\": \"^10.0.2\",\r\n    \"nodemon\": \"^2.0.20\",\r\n    \"npm-run-all\": \"^4.1.5\",\r\n    \"nx\": \"^15.3.3\",\r\n    \"nyc\": \"^15.1.0\",\r\n    \"rimraf\": \"^3.0.2\",\r\n    \"shelljs\": \"^0.8.5\",\r\n    \"sonarqube-scanner\": \"^2.9.1\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"tslib\": \"^2.4.0\",\r\n    \"typescript\": \"^4.9.4\"\r\n  },\r\n  \"workspaces\": [\r\n    \"src/core\",\r\n    \"src/infrastructure\",\r\n    \"src/webapi\"\r\n  ]\r\n}\r\n```\r\n* Operating system and version: Ubuntu 22.10\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1929/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1929/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1928",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1928/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1928/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1928/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1928",
        "id": 1498176946,
        "node_id": "I_kwDOAlTKGc5ZTF2y",
        "number": 1928,
        "title": "Node Version 19.0.1",
        "user": {
          "login": "Gold-Eman",
          "id": 117606185,
          "node_id": "U_kgDOBwKHKQ",
          "avatar_url": "https://avatars.githubusercontent.com/u/117606185?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Gold-Eman",
          "html_url": "https://github.com/Gold-Eman",
          "followers_url": "https://api.github.com/users/Gold-Eman/followers",
          "following_url": "https://api.github.com/users/Gold-Eman/following{/other_user}",
          "gists_url": "https://api.github.com/users/Gold-Eman/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Gold-Eman/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Gold-Eman/subscriptions",
          "organizations_url": "https://api.github.com/users/Gold-Eman/orgs",
          "repos_url": "https://api.github.com/users/Gold-Eman/repos",
          "events_url": "https://api.github.com/users/Gold-Eman/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Gold-Eman/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-15T10:25:11Z",
        "updated_at": "2022-12-15T10:26:08Z",
        "closed_at": "2022-12-15T10:26:08Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "My node version 19.0.1 has been facing some bug issues which have been unfixable for me with other laptops with older version seeing the code working perfectly on their laptop.\r\n\r\nPlease can you help ion fixing this??\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1928/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1928/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1927",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1927/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1927/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1927/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1927",
        "id": 1496733991,
        "node_id": "I_kwDOAlTKGc5ZNlkn",
        "number": 1927,
        "title": "SyntaxError: Cannot use import statement outside a module",
        "user": {
          "login": "hp8wvvvgnj6asjm7",
          "id": 45887282,
          "node_id": "MDQ6VXNlcjQ1ODg3Mjgy",
          "avatar_url": "https://avatars.githubusercontent.com/u/45887282?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hp8wvvvgnj6asjm7",
          "html_url": "https://github.com/hp8wvvvgnj6asjm7",
          "followers_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/followers",
          "following_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/following{/other_user}",
          "gists_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/subscriptions",
          "organizations_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/orgs",
          "repos_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/repos",
          "events_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/events{/privacy}",
          "received_events_url": "https://api.github.com/users/hp8wvvvgnj6asjm7/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-12-14T14:18:16Z",
        "updated_at": "2023-02-26T05:14:52Z",
        "closed_at": "2022-12-14T17:48:07Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I really went trough all the duplicates of this question, and no solution has worked. This is something different.\r\n\r\n**My project works perfectly on my local machine, but as soon as I run it on a server, I get this error:**\r\n\r\n `SyntaxError: Cannot use import statement outside a module`.\r\n\r\n### Nothing is run in the browser.\r\n\r\nIt is just server side *ts*\r\n\r\n```\r\n/root/ae-system/node_modules/rithmic-api/src/index.ts:1\r\nimport os from 'os'\r\n^^^^^^\r\n\r\nSyntaxError: Cannot use import statement outside a module\r\n    at internalCompileFunction (node:internal/vm:74:18)\r\n    at wrapSafe (node:internal/modules/cjs/loader:1141:20)\r\n    at Module._compile (node:internal/modules/cjs/loader:1182:27)\r\n    at Module._compile (/usr/lib/node_modules/ts-node-dev/node_modules/source-map-support/source-map-support.js:568:25)\r\n    at Module.m._compile (/tmp/ts-node-dev-hook-1410233924574671.js:69:33)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1272:10)\r\n    at require.extensions..jsx.require.extensions..js (/tmp/ts-node-dev-hook-1410233924574671.js:114:20)\r\n    at require.extensions.<computed> (/tmp/ts-node-dev-hook-1410233924574671.js:71:20)\r\n    at Object.nodeDevHook [as .ts] (/usr/lib/node_modules/ts-node-dev/lib/hook.js:63:13)\r\n    at Module.load (node:internal/modules/cjs/loader:1081:32)\r\n[ERROR] 13:49:17 SyntaxError: Cannot use import statement outside a module\r\n```\r\n\r\n> **The error above occurs at a local npm module. The module was not installed from the npm registry but is a custom typescript project.**\r\n\r\n\r\n\r\nThe dependency was added at the main folder:\r\n\r\npackage.json\r\n```\r\n...\r\n  \"dependencies\": {\r\n    \"rithmic-api\": \"file:rithmic-api\",\r\n  }\r\n...\r\n```\r\n\r\nI don't know if it is caused because of this. \r\n\r\n\r\nMy local npm and node versions are almost equal to the server versions:\r\n\r\n`node is > 19`\r\n`npm is > 8`\r\n\r\n\r\nAs for the Typescript configurations:\r\n\r\nthe custom npm module has \r\n\r\ntsconfig.json\r\n```json\r\n\r\n{\r\n    \"compilerOptions\": {\r\n        \"target\": \"ESNext\",\r\n        \"module\": \"CommonJS\",\r\n        \"outDir\": \".dist/src\",\r\n        \"moduleResolution\": \"node\",\r\n        \"listFiles\": false,\r\n        \"alwaysStrict\": true,\r\n        \"noUnusedLocals\": false,\r\n        \"noImplicitReturns\": true,\r\n        \"noImplicitThis\": true,\r\n        \"noImplicitAny\": true,\r\n        \"strictNullChecks\": true,\r\n        \"noFallthroughCasesInSwitch\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"pretty\": true,\r\n        \"sourceMap\": false,\r\n        \"types\": [\"node\"],\r\n        \"esModuleInterop\": true,\r\n        // \"declaration\": true,\r\n        // \"rootDir\": \"sys\",\r\n        // \"skipLibCheck\": true,\r\n        // \"noStrictGenericChecks\": true,\r\n        // \"noUnusedParameters\": false,\r\n        // \"experimentalDecorators\": true,\r\n        // \"emitDecoratorMetadata\": true,\r\n    },\r\n    \"include\": [\"./src/**/*.ts\"],\r\n    \"exclude\": [\"node_modules\"],\r\n}\r\n```\r\n\r\nthe main project folder has\r\n\r\n```json\r\n\r\n{\r\n    \"compilerOptions\": {\r\n        \"target\": \"ESNext\",\r\n        \"module\": \"CommonJS\",\r\n        \"outDir\": \".dist/src\",\r\n        \"moduleResolution\": \"node\",\r\n        \"listFiles\": false,\r\n        \"alwaysStrict\": true,\r\n        \"noUnusedLocals\": false,\r\n        \"noImplicitReturns\": true,\r\n        \"noImplicitThis\": true,\r\n        \"noImplicitAny\": true,\r\n        \"strictNullChecks\": true,\r\n        \"noFallthroughCasesInSwitch\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"pretty\": true,\r\n        \"sourceMap\": false,\r\n        \"types\": [\"node\"],\r\n        \"esModuleInterop\": true,\r\n        // \"declaration\": true,\r\n        // \"rootDir\": \"sys\",\r\n        // \"skipLibCheck\": true,\r\n        // \"noStrictGenericChecks\": true,\r\n        // \"noUnusedParameters\": false,\r\n        // \"experimentalDecorators\": true,\r\n        // \"emitDecoratorMetadata\": true,\r\n    },\r\n    \"include\": [\"src/**/*.ts\"],\r\n    \"exclude\": [\"node_modules\"],\r\n}\r\n```\r\n\r\nThe main scripts to run the project are:\r\n\r\n```json\r\n\"scripts\": {\r\n    \"start\": \"ts-node ./src/index.ts\",\r\n    \"dev\": \"tsnd --cache-directory \\\".cache\\\" --watch \\\"./rithmic-api/src, ./strategy\\\" --respawn --clear --no-warnings ./src/index.ts\",\r\n    \"build\": \"tsc\"\r\n  },\r\n```",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1927/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1927/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1924",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1924/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1924/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1924/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1924",
        "id": 1487243776,
        "node_id": "I_kwDOAlTKGc5YpYoA",
        "number": 1924,
        "title": "REPL with ES modules",
        "user": {
          "login": "ckoncz-hwx",
          "id": 42937500,
          "node_id": "MDQ6VXNlcjQyOTM3NTAw",
          "avatar_url": "https://avatars.githubusercontent.com/u/42937500?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ckoncz-hwx",
          "html_url": "https://github.com/ckoncz-hwx",
          "followers_url": "https://api.github.com/users/ckoncz-hwx/followers",
          "following_url": "https://api.github.com/users/ckoncz-hwx/following{/other_user}",
          "gists_url": "https://api.github.com/users/ckoncz-hwx/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ckoncz-hwx/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ckoncz-hwx/subscriptions",
          "organizations_url": "https://api.github.com/users/ckoncz-hwx/orgs",
          "repos_url": "https://api.github.com/users/ckoncz-hwx/repos",
          "events_url": "https://api.github.com/users/ckoncz-hwx/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ckoncz-hwx/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-12-09T18:37:49Z",
        "updated_at": "2023-12-20T09:59:43Z",
        "closed_at": "2023-02-14T03:57:30Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nIs there a way to use ts-node REPL with ES modules?\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n### Expected Behavior\r\n`const u = await import('./Util')`\r\nshould work in the REPL when package type is \"module\" and Typescript is transpiling to ES modules.\r\n\r\n\r\n### Actual Behavior\r\n```\r\n$ npx ts-node-esm\r\n> 2+2\r\n/Users/ckoncz/work/git/csaba/ts-node-esm-examples/<repl>.ts:3\r\nexport {};\r\n^^^^^^\r\n\r\nUncaught SyntaxError: Unexpected token 'export'\r\n> 2+2\r\n4\r\n> const u = await import('./Util')\r\nUncaught:\r\nTypeError [ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING]: A dynamic import callback was not specified.\r\n    at Object.execCommand (/Users/ckoncz/work/git/csaba/ts-node-esm-examples/node_modules/ts-node/src/repl.ts:633:32)\r\n    at runInContext (/Users/ckoncz/work/git/csaba/ts-node-esm-examples/node_modules/ts-node/src/repl.ts:673:19)\r\n    at Script.runInThisContext (node:vm:129:12)\r\n    at /Users/ckoncz/work/git/csaba/ts-node-esm-examples/<repl>.ts:5:2\r\n    at /Users/ckoncz/work/git/csaba/ts-node-esm-examples/<repl>.ts:1:18\r\n    at importModuleDynamicallyCallback (node:internal/process/esm_loader:39:9)\r\n    at new NodeError (node:internal/errors:387:5)\r\n    at __node_internal_captureLargerStackTrace (node:internal/errors:478:5) {\r\n  code: 'ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING'\r\n}\r\n>\r\n```\r\n\r\nTried it without await:\r\n```\r\n> import('./Util').then(u=>global.u=u)\r\nPromise {\r\n  <pending>,\r\n  [Symbol(async_id_symbol)]: 84,\r\n  [Symbol(trigger_async_id_symbol)]: 83\r\n}\r\n> Uncaught:\r\nTypeError [ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING]: A dynamic import callback was not specified.\r\n    at Object.execCommand (/Users/ckoncz/work/git/csaba/ts-node-esm-examples/node_modules/ts-node/src/repl.ts:639:28)\r\n    at runInContext (/Users/ckoncz/work/git/csaba/ts-node-esm-examples/node_modules/ts-node/src/repl.ts:673:19)\r\n    at Script.runInThisContext (node:vm:129:12)\r\n    at /Users/ckoncz/work/git/csaba/ts-node-esm-examples/<repl>.ts:1:11\r\n    at importModuleDynamicallyCallback (node:internal/process/esm_loader:39:9)\r\n    at new NodeError (node:internal/errors:387:5)\r\n    at __node_internal_captureLargerStackTrace (node:internal/errors:478:5) {\r\n  code: 'ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING'\r\n}\r\n```\r\n\r\nAdding '.js' extension does not help:\r\n```\r\n> import('./Util.js').then(u=>global.u=u)\r\nPromise {\r\n  <pending>,\r\n  [Symbol(async_id_symbol)]: 143,\r\n  [Symbol(trigger_async_id_symbol)]: 142\r\n}\r\n> Uncaught:\r\nTypeError [ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING]: A dynamic import callback was not specified.\r\n    at Object.execCommand (/Users/ckoncz/work/git/csaba/ts-node-esm-examples/node_modules/ts-node/src/repl.ts:639:28)\r\n    at runInContext (/Users/ckoncz/work/git/csaba/ts-node-esm-examples/node_modules/ts-node/src/repl.ts:673:19)\r\n    at Script.runInThisContext (node:vm:129:12)\r\n    at /Users/ckoncz/work/git/csaba/ts-node-esm-examples/<repl>.ts:1:11\r\n    at importModuleDynamicallyCallback (node:internal/process/esm_loader:39:9)\r\n    at new NodeError (node:internal/errors:387:5)\r\n    at __node_internal_captureLargerStackTrace (node:internal/errors:478:5) {\r\n  code: 'ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING'\r\n}\r\n```\r\n\r\n### Steps to reproduce the problem\r\n - Clone https://github.com/felipeplets/esm-examples/commit/61e11ac535a45a6c1f0f2bf5499e40d622c8c8cd\r\n - npm install\r\n - Start REPL with `npx ts-node-esm`\r\n ( the first line always throws an error. Then the next one might work:\r\n ```\r\n $ npx ts-node-esm\r\n> 2+2\r\n/Users/ckoncz/work/git/csaba/ts-node-esm-examples/dist/<repl>.ts:3\r\nexport {};\r\n^^^^^^\r\n\r\nUncaught SyntaxError: Unexpected token 'export'\r\n> 2+2\r\n4\r\n```\r\n  - try to import Util.ts in the REPL.\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: v16.18.1\r\n* TypeScript version: 4.9.3\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n        \"lib\": [\"ES2022\", \"DOM\"],\r\n        \"module\": \"ES2022\",\r\n        \"moduleResolution\": \"Node\",\r\n        \"target\": \"ES2022\",\r\n        \"esModuleInterop\": true,\r\n        \"outDir\": \"dist/\"\r\n    },\r\n    \"ts-node\": {\r\n        \"esm\": true,\r\n        \"experimentalSpecifierResolution\": \"node\"\r\n    }\r\n}\r\n```\r\n* package.json:\r\nhttps://github.com/felipeplets/esm-examples/blob/61e11ac535a45a6c1f0f2bf5499e40d622c8c8cd/package.json\r\n\r\n* Operating system and version: macOS 12.5.1\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1924/reactions",
          "total_count": 1,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1924/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1920",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1920/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1920/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1920/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1920",
        "id": 1482795482,
        "node_id": "I_kwDOAlTKGc5YYana",
        "number": 1920,
        "title": "Tôi k biet",
        "user": {
          "login": "Hoaiui",
          "id": 120051371,
          "node_id": "U_kgDOByfWqw",
          "avatar_url": "https://avatars.githubusercontent.com/u/120051371?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Hoaiui",
          "html_url": "https://github.com/Hoaiui",
          "followers_url": "https://api.github.com/users/Hoaiui/followers",
          "following_url": "https://api.github.com/users/Hoaiui/following{/other_user}",
          "gists_url": "https://api.github.com/users/Hoaiui/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Hoaiui/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Hoaiui/subscriptions",
          "organizations_url": "https://api.github.com/users/Hoaiui/orgs",
          "repos_url": "https://api.github.com/users/Hoaiui/repos",
          "events_url": "https://api.github.com/users/Hoaiui/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Hoaiui/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-12-07T20:38:50Z",
        "updated_at": "2023-02-14T04:51:10Z",
        "closed_at": "2023-02-14T04:51:10Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\n\r\n\r\n### Actual Behavior\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1920/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1920/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1914",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1914/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1914/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1914/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1914",
        "id": 1464927398,
        "node_id": "I_kwDOAlTKGc5XUQSm",
        "number": 1914,
        "title": "When using ts-node I get \"error TS7053\" but when I transpile with tsc and run with node I don't",
        "user": {
          "login": "Jonas-Pamminger",
          "id": 85544687,
          "node_id": "MDQ6VXNlcjg1NTQ0Njg3",
          "avatar_url": "https://avatars.githubusercontent.com/u/85544687?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Jonas-Pamminger",
          "html_url": "https://github.com/Jonas-Pamminger",
          "followers_url": "https://api.github.com/users/Jonas-Pamminger/followers",
          "following_url": "https://api.github.com/users/Jonas-Pamminger/following{/other_user}",
          "gists_url": "https://api.github.com/users/Jonas-Pamminger/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Jonas-Pamminger/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Jonas-Pamminger/subscriptions",
          "organizations_url": "https://api.github.com/users/Jonas-Pamminger/orgs",
          "repos_url": "https://api.github.com/users/Jonas-Pamminger/repos",
          "events_url": "https://api.github.com/users/Jonas-Pamminger/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Jonas-Pamminger/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-11-25T21:06:41Z",
        "updated_at": "2022-11-26T15:11:10Z",
        "closed_at": "2022-11-26T15:11:10Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Expected Behavior\r\n\r\nShould run without errors when using ts-node because with tsc .\\test2.ts ; node .\\test2.js I don't get error.\r\n\r\n### Actual Behavior\r\n\r\nWhen I use ts-node I get: \r\n\r\n`C:\\Users\\User\\OneDrive - HTBLA Leonding\\Desktop\\Schule\\3 Klasse\\WMC\\00-study\\test1\\0> ts-node .\\testProject.ts\r\nC:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:859\r\n    return new TSError(diagnosticText, diagnosticCodes, diagnostics);\r\n           ^\r\nTSError: ⨯ Unable to compile TypeScript:\r\ntestProject.ts:29:30 - error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Person'.\r\n  No index signature with a parameter of type 'string' was found on type 'Person'.\r\n\r\n29     console.log(key + \"- \" + jonas[key]);\r\n                                ~~~~~~~~~~\r\n\r\n    at createTSError (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:859:12)\r\n    at reportTSError (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:863:19)\r\n    at getOutput (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:1077:36)\r\n    at Object.compile (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:1433:41)\r\n    at Module.m._compile (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:1617:30)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1203:10)\r\n    at Object.require.extensions.<computed> [as .ts] (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\ts-node\\src\\index.ts:1621:12)\r\n    at Module.load (node:internal/modules/cjs/loader:1027:32)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:868:12)\r\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12) {\r\n  diagnosticCodes: [ 7053 ]\r\n}`\r\n\r\n### Steps to reproduce the problem\r\n\r\n1. Insert Code and save as testProject.ts\r\n`let jonas = {\r\n    name: 'Jonas',\r\n    age: 16,\r\n    food: ['Schnitzel', 'Strudel', 'Burger', 'Apple']\r\n}\r\n\r\nfor(const key in jonas){\r\n    console.log(key + \"- \" + jonas[key]);\r\n}`\r\n\r\n2. Run ts-node testProject.ts\r\n\r\n### Minimal reproduction\r\n\r\n1. Insert Code and save as testProject.ts\r\n`let jonas = {\r\n    name: 'Jonas',\r\n    age: 16,\r\n    food: ['Schnitzel', 'Strudel', 'Burger', 'Apple']\r\n}\r\n\r\nfor(const key in jonas){\r\n    console.log(key + \"- \" + jonas[key]);\r\n}`\r\n\r\n2. Run ts-node testProject.ts\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.9.1\r\n* node version: v18.10.0\r\n* TypeScript version: Version 4.8.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version: WIN 11 Version 22H2\r\n* If Windows, are you using WSL or WSL2?: \r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1914/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1914/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1910",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1910/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1910/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1910/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1910",
        "id": 1447172796,
        "node_id": "I_kwDOAlTKGc5WQhq8",
        "number": 1910,
        "title": "Import of a typescript file fails if a folder named node_modules is anywhere within the path",
        "user": {
          "login": "erichosick",
          "id": 295228,
          "node_id": "MDQ6VXNlcjI5NTIyOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/295228?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/erichosick",
          "html_url": "https://github.com/erichosick",
          "followers_url": "https://api.github.com/users/erichosick/followers",
          "following_url": "https://api.github.com/users/erichosick/following{/other_user}",
          "gists_url": "https://api.github.com/users/erichosick/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/erichosick/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/erichosick/subscriptions",
          "organizations_url": "https://api.github.com/users/erichosick/orgs",
          "repos_url": "https://api.github.com/users/erichosick/repos",
          "events_url": "https://api.github.com/users/erichosick/events{/privacy}",
          "received_events_url": "https://api.github.com/users/erichosick/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-11-14T00:20:55Z",
        "updated_at": "2022-11-14T06:17:35Z",
        "closed_at": "2022-11-14T06:17:35Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Expected Behavior\r\n\r\nThe [module resolution](https://www.typescriptlang.org/docs/handbook/module-resolution.html) of a typescript file using the [import declaration](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import) should successfully import the typescript file even when part of the path contains a directory named `node_modules`.\r\n\r\n```typescript\r\n// this works\r\nimport { something } from './source/node_modules2/index';\r\n```\r\n\r\n### Actual Behavior\r\n\r\nPlacing a typescript file anywhere in a project where part of the path contains a directory named `node_modules` results in failure to load the typescript file with the error `SyntaxError: Unexpected token ...`. Renaming the directory to anything else, even `node_modules2`, results in the successful import of the file.\r\n\r\n```typescript\r\n// this does not work\r\nimport { something } from './source/node_modules/index';\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nGiven a typescript file:\r\n\r\n```typescript\r\n// File: add.ts located in sub-folder2/node_modules2 and sub-folder/node_modules\r\nconst add = (left: number, right: number): number => {\r\n  return left + right;\r\n};\r\n\r\nexport default add;\r\n```\r\n\r\n```bash\r\n// outputs 2\r\n$ yarn ts-node works\r\n$ /.../typescript-node-module-issue/node_modules/.bin/ts-node works\r\n2\r\n```\r\n\r\nAn import as follows works because the path **does not** contain a folder named `node_modules`.\r\n\r\n```typescript\r\n// File: works.ts\r\nimport add from './sub-folder2/node_modules2/add';\r\nconsole.log(add(1, 1));\r\n```\r\n\r\nHowever, when the path **does** contain a folder named `node_modules` then the import fails with the error `SyntaxError: Unexpected token ...`:\r\n\r\n```typescript\r\n// File: fails.ts\r\nimport add from './sub-folder/node_modules/add';\r\nconsole.log(add(1, 1));\r\n```\r\n\r\n```bash\r\n// does not work\r\n$ yarn ts-node fails\r\n$ /.../typescript-node-module-issue/node_modules/.bin/ts-node fails\r\n/.../typescript-node-module-issue/sub-folder/node_modules/add.ts:1\r\nconst add = (left: number, right: number): number => {\r\n                 ^\r\n\r\nSyntaxError: Unexpected token ':'\r\n    at Object.compileFunction (node:vm:360:18)\r\n    at wrapSafe (node:internal/modules/cjs/loader:1084:15)\r\n    at Module._compile (node:internal/modules/cjs/loader:1119:27)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1209:10)\r\n    at Object.require.extensions.<computed> [as .ts] (/.../typescript-node-module-issue/node_modules/ts-node/src/index.ts:1608:43)\r\n    at Module.load (node:internal/modules/cjs/loader:1033:32)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:868:12)\r\n    at Module.require (node:internal/modules/cjs/loader:1057:19)\r\n    at require (node:internal/modules/cjs/helpers:103:18)\r\n    at Object.<anonymous> (/.../typescript-node-module-issue/fails.ts:1:1)\r\n```\r\n\r\n\r\n### Minimal reproduction\r\n\r\nSee [typescript-node-module-issue](https://github.com/erichosick/typescript-node-module-issue) which contains the minimal code to reproduce the issue.\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n\r\n* ts-node v10.9.1\r\n* node v16.18.0\r\n* compiler v4.8.4\r\n\r\n* tsconfig.json, if you're using one:\r\nThere is no tsconfig.json file\r\n\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"typescript-node-module-issue\",\r\n  \"version\": \"1.0.0\",\r\n  \"license\": \"MIT\",\r\n  \"devDependencies\": {\r\n    \"@types/node\": \"^18.11.9\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^4.8.4\"\r\n  }\r\n}\r\n```\r\n* Operating system and version:\r\n* macOS Monterey\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1910/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1910/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1905",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1905/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1905/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1905/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1905",
        "id": 1428351283,
        "node_id": "I_kwDOAlTKGc5VIukz",
        "number": 1905,
        "title": "Breakpoints are broken if the full path contains parentheses.",
        "user": {
          "login": "fushihara",
          "id": 1039534,
          "node_id": "MDQ6VXNlcjEwMzk1MzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1039534?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fushihara",
          "html_url": "https://github.com/fushihara",
          "followers_url": "https://api.github.com/users/fushihara/followers",
          "following_url": "https://api.github.com/users/fushihara/following{/other_user}",
          "gists_url": "https://api.github.com/users/fushihara/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/fushihara/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/fushihara/subscriptions",
          "organizations_url": "https://api.github.com/users/fushihara/orgs",
          "repos_url": "https://api.github.com/users/fushihara/repos",
          "events_url": "https://api.github.com/users/fushihara/events{/privacy}",
          "received_events_url": "https://api.github.com/users/fushihara/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 293610454,
            "node_id": "MDU6TGFiZWwyOTM2MTA0NTQ=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/external",
            "name": "external",
            "color": "207de5",
            "default": false,
            "description": ""
          },
          {
            "id": 508009869,
            "node_id": "MDU6TGFiZWw1MDgwMDk4Njk=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/windows",
            "name": "windows",
            "color": "c2e0c6",
            "default": false,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-10-29T16:40:57Z",
        "updated_at": "2022-10-30T19:47:06Z",
        "closed_at": "2022-10-30T19:47:06Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "If the full path of the project contains parentheses, breakpoint behavior will be broken.\r\nI don't believe this at all, but I reproduced it on a new installation of nodejs and vscode on a windows PC that I don't use regularly.\r\n\r\nIf I press F5 to run debug with the first screenshot, the breakpoint stops at a different ts file, as shown in the second screenshot.\r\nThe full path of the project at this time is a path like `c:\\Users\\xxxxxx\\(a)\\`\r\n\r\nIf I change the full path of the project to `c:\\Users\\xxxxxx\\a\\`, the breakpoint works on the open ts file as shown in the third screenshot. I think this is the normal state.\r\n\r\nThe same phenomenon occurred when the full path of the project included in the `[a-b]` format.\r\n\r\nThe windows version is 19044.1682 node.js version is 18.12.0\r\nThe contents of the other files are as follows\r\n\r\n![image](https://user-images.githubusercontent.com/1039534/198842945-caa1955d-28c1-4ba7-a1fb-04bf85834380.png)\r\n![image](https://user-images.githubusercontent.com/1039534/198842955-79dfc6c3-9c0e-4fa0-a74a-2895d7691159.png)\r\n![image](https://user-images.githubusercontent.com/1039534/198842963-a132cb8f-4e80-46e3-b667-17d3ca0e2949.png)\r\n\r\n### Search Terms\r\nts-node vscode breakpoint not working js\r\n\r\n### Minimal reproduction\r\n`/vscode/launch.json`\r\n```json:.\r\n{\r\n  \"version\": \"0.2.0\",\r\n  \"configurations\": [\r\n    {\r\n      \"name\": \"index.ts\",\r\n      \"type\": \"node\",\r\n      \"request\": \"launch\",\r\n      \"runtimeArgs\": [\"--nolazy\", \"-r\", \"ts-node/register\"],\r\n      \"args\": [\"${workspaceFolder}/src/index.ts\"]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n`/src/index.ts`\r\n```ts\r\ndebugger;\r\n```\r\n\r\n`/package.json`\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"ts-node\": \"10.9.1\",\r\n    \"typescript\": \"4.8.4\"\r\n  }\r\n}\r\n```\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1905/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1905/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1904",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1904/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1904/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1904/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1904",
        "id": 1428343590,
        "node_id": "I_kwDOAlTKGc5VIssm",
        "number": 1904,
        "title": "Could not find a declaration file for module",
        "user": {
          "login": "blessanm86",
          "id": 937065,
          "node_id": "MDQ6VXNlcjkzNzA2NQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/937065?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/blessanm86",
          "html_url": "https://github.com/blessanm86",
          "followers_url": "https://api.github.com/users/blessanm86/followers",
          "following_url": "https://api.github.com/users/blessanm86/following{/other_user}",
          "gists_url": "https://api.github.com/users/blessanm86/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/blessanm86/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/blessanm86/subscriptions",
          "organizations_url": "https://api.github.com/users/blessanm86/orgs",
          "repos_url": "https://api.github.com/users/blessanm86/repos",
          "events_url": "https://api.github.com/users/blessanm86/events{/privacy}",
          "received_events_url": "https://api.github.com/users/blessanm86/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-10-29T16:24:09Z",
        "updated_at": "2022-10-29T19:13:26Z",
        "closed_at": "2022-10-29T19:13:26Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n`Could not find a declaration file for module 'json-to-pretty-yaml'`\r\n\r\nI am trying to upgrade from v9.1.1 to v10.9.1\r\nI keep getting the above error but my I have a `.d.ts` file in the directory for this module. It worked totally fine with the older version.\r\n\r\nI tried many things like adding types, typeRoots and paths in the tsconfig. Nothing seems to have any affect.\r\nThe code works fine if I run tsc. \r\n\r\nThis is my tsconfig\r\n```\r\n{\r\n  \"extends\": \"../../../tsconfig.base.json\",\r\n  \"compilerOptions\": {\r\n    \"module\": \"commonjs\",\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"noImplicitOverride\": true,\r\n    \"noPropertyAccessFromIndexSignature\": true,\r\n    \"noImplicitReturns\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"files\": [],\r\n  \"include\": [],\r\n  \"references\": [\r\n    {\r\n      \"path\": \"./tsconfig.lib.json\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Specifications\r\n\r\n```\r\nts-node v10.9.1\r\nnode v16.10.0\r\ncompiler v4.8.4\r\n```\r\n\r\n* Operating system and version: Mac Monterey\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1904/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1904/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1902",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1902/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1902/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1902/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1902",
        "id": 1419745569,
        "node_id": "I_kwDOAlTKGc5Un5kh",
        "number": 1902,
        "title": "for ES6+ module settings, REPL error on first command: `Unexpected token 'export'`",
        "user": {
          "login": "yilmazdurmaz",
          "id": 1812105,
          "node_id": "MDQ6VXNlcjE4MTIxMDU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1812105?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/yilmazdurmaz",
          "html_url": "https://github.com/yilmazdurmaz",
          "followers_url": "https://api.github.com/users/yilmazdurmaz/followers",
          "following_url": "https://api.github.com/users/yilmazdurmaz/following{/other_user}",
          "gists_url": "https://api.github.com/users/yilmazdurmaz/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/yilmazdurmaz/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/yilmazdurmaz/subscriptions",
          "organizations_url": "https://api.github.com/users/yilmazdurmaz/orgs",
          "repos_url": "https://api.github.com/users/yilmazdurmaz/repos",
          "events_url": "https://api.github.com/users/yilmazdurmaz/events{/privacy}",
          "received_events_url": "https://api.github.com/users/yilmazdurmaz/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-10-23T10:30:16Z",
        "updated_at": "2023-02-14T03:57:30Z",
        "closed_at": "2023-02-14T03:57:30Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nREPL\r\nUnexpected token 'export'\r\n\r\n#1563 has it, describes wrong, closed with no fix.\r\n\r\n### Expected Behavior\r\n\r\nWhen ts-node starts with ES6+ module types, it behaves as usual as pre-ES6 module types, which is having a smooth \"undefined\" message upon pressing \"enter\" key the first time with an empty line or having some result if there is an actual command.\r\n\r\n### Actual Behavior\r\n\r\nWhen ts-node starts with ES6+ module types, the first line results in an error whether full or empty (empty line gives `...<repl>.ts:2`)\r\n```\r\nc:\\Workspace\\test>npx ts-node\r\n> console.log(\"hello\")         <===== first command results in error\r\nc:\\Workspace\\test\\<repl>.ts:3\r\nexport {};\r\n^^^^^^\r\n\r\nUncaught SyntaxError: Unexpected token 'export'\r\n> console.log(\"hello\")        <===== later commands do not seem to have the problem\r\nhello\r\nundefined\r\n>\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n- create an empty folder, open a terminal and invoke `npm install ts-node`\r\n- create a new `tsconfig.json` with the following content\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n      \"target\": \"ESNext\",\r\n      \"module\": \"ESNext\",\r\n      \"moduleResolution\": \"NodeNext\"\r\n}\r\n```\r\n- start REPL with `npx ts-node`\r\n- just press enter or try some command if you want. the first press on \"enter\" will result in this error \r\n\r\n### Minimal reproduction\r\n\r\nabove are the minimal steps\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\nts-node v10.9.1\r\nnode v18.9.0\r\ncompiler v4.8.4\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n      \"target\": \"ESNext\",\r\n      \"module\": \"ESNext\",\r\n      \"moduleResolution\": \"NodeNext\"\r\n    }\r\n}\r\n```\r\n* package.json: (having `\"type\":\"module\"` has no effect)\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"ts-node\": \"^10.9.1\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: Windows 10 21H2\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1902/reactions",
          "total_count": 3,
          "+1": 3,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1902/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1898",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1898/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1898/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1898/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1898",
        "id": 1405062438,
        "node_id": "I_kwDOAlTKGc5Tv40m",
        "number": 1898,
        "title": "TS node changes the meaning of `this` in commonJS modules",
        "user": {
          "login": "dkovacevic15",
          "id": 24757821,
          "node_id": "MDQ6VXNlcjI0NzU3ODIx",
          "avatar_url": "https://avatars.githubusercontent.com/u/24757821?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dkovacevic15",
          "html_url": "https://github.com/dkovacevic15",
          "followers_url": "https://api.github.com/users/dkovacevic15/followers",
          "following_url": "https://api.github.com/users/dkovacevic15/following{/other_user}",
          "gists_url": "https://api.github.com/users/dkovacevic15/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/dkovacevic15/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/dkovacevic15/subscriptions",
          "organizations_url": "https://api.github.com/users/dkovacevic15/orgs",
          "repos_url": "https://api.github.com/users/dkovacevic15/repos",
          "events_url": "https://api.github.com/users/dkovacevic15/events{/privacy}",
          "received_events_url": "https://api.github.com/users/dkovacevic15/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 236391279,
            "node_id": "MDU6TGFiZWwyMzYzOTEyNzk=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/duplicate",
            "name": "duplicate",
            "color": "cccccc",
            "default": true,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-10-11T18:28:51Z",
        "updated_at": "2022-10-13T14:30:38Z",
        "closed_at": "2022-10-13T14:30:31Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "<img width=\"564\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24757821/195170213-af4b69d3-cfeb-4a0c-bb2f-b23f7029d9e8.png\">\r\n\r\nThis is probably my mistake, but after reading the docs for both Typescript and ts-node and fiddling with various flags, I still can't find what's causing this behavior or how to change it. This seems like a good question to add to the FAQ :)\r\n\r\nHere's my tsconfig:\r\n\r\n```javascript\r\n\r\n{\r\n    \"compilerOptions\": {\r\n        /* Visit https://aka.ms/tsconfig to read more about this file */\r\n        /* Projects */\r\n        // \"incremental\": true,                              /* Save .tsbuildinfo files to allow for incremental compilation of projects. */\r\n        // \"composite\": true,                                /* Enable constraints that allow a TypeScript project to be used with project references. */\r\n        // \"tsBuildInfoFile\": \"./.tsbuildinfo\",              /* Specify the path to .tsbuildinfo incremental compilation file. */\r\n        // \"disableSourceOfProjectReferenceRedirect\": true,  /* Disable preferring source files instead of declaration files when referencing composite projects. */\r\n        // \"disableSolutionSearching\": true,                 /* Opt a project out of multi-project reference checking when editing. */\r\n        // \"disableReferencedProjectLoad\": true,             /* Reduce the number of projects loaded automatically by TypeScript. */\r\n        /* Language and Environment */\r\n        \"target\": \"es2015\", /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */\r\n        // \"lib\": [],                                        /* Specify a set of bundled library declaration files that describe the target runtime environment. */\r\n        // \"jsx\": \"preserve\",                                /* Specify what JSX code is generated. */\r\n        \"experimentalDecorators\": true,                   /* Enable experimental support for TC39 stage 2 draft decorators. */\r\n        \"emitDecoratorMetadata\": true,                    /* Emit design-type metadata for decorated declarations in source files. */\r\n        // \"jsxFactory\": \"\",                                 /* Specify the JSX factory function used when targeting React JSX emit, e.g. 'React.createElement' or 'h'. */\r\n        // \"jsxFragmentFactory\": \"\",                         /* Specify the JSX Fragment reference used for fragments when targeting React JSX emit e.g. 'React.Fragment' or 'Fragment'. */\r\n        // \"jsxImportSource\": \"\",                            /* Specify module specifier used to import the JSX factory functions when using 'jsx: react-jsx*'. */\r\n        // \"reactNamespace\": \"\",                             /* Specify the object invoked for 'createElement'. This only applies when targeting 'react' JSX emit. */\r\n        // \"noLib\": true,                                    /* Disable including any library files, including the default lib.d.ts. */\r\n        // \"useDefineForClassFields\": true,                  /* Emit ECMAScript-standard-compliant class fields. */\r\n        // \"moduleDetection\": \"auto\",                        /* Control what method is used to detect module-format JS files. */\r\n        /* Modules */\r\n        \"module\": \"commonjs\", /* Specify what module code is generated. */\r\n        // \"rootDir\": \"./\",                                  /* Specify the root folder within your source files. */\r\n        // \"moduleResolution\": \"node\",                       /* Specify how TypeScript looks up a file from a given module specifier. */\r\n        // \"baseUrl\": \"./\",                                  /* Specify the base directory to resolve non-relative module names. */\r\n        // \"paths\": {},                                      /* Specify a set of entries that re-map imports to additional lookup locations. */\r\n        // \"rootDirs\": [],                                   /* Allow multiple folders to be treated as one when resolving modules. */\r\n        // \"typeRoots\": [],                                  /* Specify multiple folders that act like './node_modules/@types'. */\r\n        // \"types\": [],                                      /* Specify type package names to be included without being referenced in a source file. */\r\n        // \"allowUmdGlobalAccess\": true,                     /* Allow accessing UMD globals from modules. */\r\n        // \"moduleSuffixes\": [],                             /* List of file name suffixes to search when resolving a module. */\r\n        // \"resolveJsonModule\": true,                        /* Enable importing .json files. */\r\n        // \"noResolve\": true,                                /* Disallow 'import's, 'require's or '<reference>'s from expanding the number of files TypeScript should add to a project. */\r\n        /* JavaScript Support */\r\n        \"allowJs\": true, /* Allow JavaScript files to be a part of your program. Use the 'checkJS' option to get errors from these files. */\r\n        \"checkJs\": false, /* Enable error reporting in type-checked JavaScript files. */\r\n        // \"maxNodeModuleJsDepth\": 1,                        /* Specify the maximum folder depth used for checking JavaScript files from 'node_modules'. Only applicable with 'allowJs'. */\r\n        /* Emit */\r\n        // \"declaration\": true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */\r\n        // \"declarationMap\": true,                           /* Create sourcemaps for d.ts files. */\r\n        // \"emitDeclarationOnly\": true,                      /* Only output d.ts files and not JavaScript files. */\r\n        // \"sourceMap\": true,                                /* Create source map files for emitted JavaScript files. */\r\n        // \"outFile\": \"./\",                                  /* Specify a file that bundles all outputs into one JavaScript file. If 'declaration' is true, also designates a file that bundles all .d.ts output. */\r\n        // \"outDir\": \"./\",                                   /* Specify an output folder for all emitted files. */\r\n        // \"removeComments\": true,                           /* Disable emitting comments. */\r\n        \"noEmit\": true, /* Disable emitting files from a compilation. */\r\n        // \"importHelpers\": true,                            /* Allow importing helper functions from tslib once per project, instead of including them per-file. */\r\n        // \"importsNotUsedAsValues\": \"remove\",               /* Specify emit/checking behavior for imports that are only used for types. */\r\n        // \"downlevelIteration\": true,                       /* Emit more compliant, but verbose and less performant JavaScript for iteration. */\r\n        // \"sourceRoot\": \"\",                                 /* Specify the root path for debuggers to find the reference source code. */\r\n        // \"mapRoot\": \"\",                                    /* Specify the location where debugger should locate map files instead of generated locations. */\r\n        // \"inlineSourceMap\": true,                          /* Include sourcemap files inside the emitted JavaScript. */\r\n        // \"inlineSources\": true,                            /* Include source code in the sourcemaps inside the emitted JavaScript. */\r\n        // \"emitBOM\": true,                                  /* Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files. */\r\n        // \"newLine\": \"crlf\",                                /* Set the newline character for emitting files. */\r\n        // \"stripInternal\": true,                            /* Disable emitting declarations that have '@internal' in their JSDoc comments. */\r\n        // \"noEmitHelpers\": true,                            /* Disable generating custom helper functions like '__extends' in compiled output. */\r\n        // \"noEmitOnError\": true,                            /* Disable emitting files if any type checking errors are reported. */\r\n        // \"preserveConstEnums\": true,                       /* Disable erasing 'const enum' declarations in generated code. */\r\n        // \"declarationDir\": \"./\",                           /* Specify the output directory for generated declaration files. */\r\n        // \"preserveValueImports\": true,                     /* Preserve unused imported values in the JavaScript output that would otherwise be removed. */\r\n        /* Interop Constraints */\r\n        // \"isolatedModules\": true,                          /* Ensure that each file can be safely transpiled without relying on other imports. */\r\n        // \"allowSyntheticDefaultImports\": true,             /* Allow 'import x from y' when a module doesn't have a default export. */\r\n        \"esModuleInterop\": true, /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables 'allowSyntheticDefaultImports' for type compatibility. */\r\n        // \"preserveSymlinks\": true,                         /* Disable resolving symlinks to their realpath. This correlates to the same flag in node. */\r\n        \"forceConsistentCasingInFileNames\": true, /* Ensure that casing is correct in imports. */\r\n        /* Type Checking */\r\n        // \"strict\": false,                                      /* Enable all strict type-checking options. */\r\n        // \"noImplicitAny\": true,                            /* Enable error reporting for expressions and declarations with an implied 'any' type. */\r\n        // \"strictNullChecks\": true,                         /* When type checking, take into account 'null' and 'undefined'. */\r\n        // \"strictFunctionTypes\": true,                      /* When assigning functions, check to ensure parameters and the return values are subtype-compatible. */\r\n        // \"strictBindCallApply\": true,                      /* Check that the arguments for 'bind', 'call', and 'apply' methods match the original function. */\r\n        // \"strictPropertyInitialization\": true,             /* Check for class properties that are declared but not set in the constructor. */\r\n        // \"noImplicitThis\": true,                           /* Enable error reporting when 'this' is given the type 'any'. */\r\n        // \"useUnknownInCatchVariables\": true,               /* Default catch clause variables as 'unknown' instead of 'any'. */\r\n        // \"alwaysStrict\": true,                             /* Ensure 'use strict' is always emitted. */\r\n        // \"noUnusedLocals\": true,                           /* Enable error reporting when local variables aren't read. */\r\n        // \"noUnusedParameters\": true,                       /* Raise an error when a function parameter isn't read. */\r\n        // \"exactOptionalPropertyTypes\": true,               /* Interpret optional property types as written, rather than adding 'undefined'. */\r\n        // \"noImplicitReturns\": true,                        /* Enable error reporting for codepaths that do not explicitly return in a function. */\r\n        // \"noFallthroughCasesInSwitch\": true,               /* Enable error reporting for fallthrough cases in switch statements. */\r\n        // \"noUncheckedIndexedAccess\": true,                 /* Add 'undefined' to a type when accessed using an index. */\r\n        // \"noImplicitOverride\": true,                       /* Ensure overriding members in derived classes are marked with an override modifier. */\r\n        // \"noPropertyAccessFromIndexSignature\": true,       /* Enforces using indexed accessors for keys declared using an indexed type. */\r\n        // \"allowUnusedLabels\": true,                        /* Disable error reporting for unused labels. */\r\n        // \"allowUnreachableCode\": true,                     /* Disable error reporting for unreachable code. */\r\n        /* Completeness */\r\n        // \"skipDefaultLibCheck\": true,                      /* Skip type checking .d.ts files that are included with TypeScript. */\r\n        \"skipLibCheck\": true /* Skip type checking all .d.ts files. */\r\n    },\r\n    \"files\": [\r\n        \"index.js\"\r\n    ],\r\n    \"exclude\": [\r\n        \"node_modules/\"\r\n    ],\r\n    \"ts-node\": {\r\n        \"transpileOnly\": true,\r\n        \"swc\": true,\r\n\r\n    }\r\n}\r\n```",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1898/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1898/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1890",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1890/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1890/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1890/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1890",
        "id": 1376658784,
        "node_id": "I_kwDOAlTKGc5SDiVg",
        "number": 1890,
        "title": "ts-node is including cwd tsconfig.json when --project is specified",
        "user": {
          "login": "sgpinkus",
          "id": 3386865,
          "node_id": "MDQ6VXNlcjMzODY4NjU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3386865?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sgpinkus",
          "html_url": "https://github.com/sgpinkus",
          "followers_url": "https://api.github.com/users/sgpinkus/followers",
          "following_url": "https://api.github.com/users/sgpinkus/following{/other_user}",
          "gists_url": "https://api.github.com/users/sgpinkus/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sgpinkus/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sgpinkus/subscriptions",
          "organizations_url": "https://api.github.com/users/sgpinkus/orgs",
          "repos_url": "https://api.github.com/users/sgpinkus/repos",
          "events_url": "https://api.github.com/users/sgpinkus/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sgpinkus/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-09-17T04:11:56Z",
        "updated_at": "2022-10-26T09:42:37Z",
        "closed_at": "2022-09-17T11:07:08Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\"--project\", \"tsconfig\", \"tsconfig.json\", \"override\", \"include even when\"\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nIf `--project=<some-tsconfig.json>` is specified, `<some-tsconfig.json>` and *only* `<some-tsconfig.json>` should be used. AFAICT there is no way to stop ts-node from loading the cwd tsconfig.json.\r\n\r\n### Actual Behavior\r\nIf `--project=<some-tsconfig.json>` is specified and there is a \"tsconfig.json\" in cwd the tsconfig.json file is loaded and used. \r\n\r\n### Steps to reproduce the problem\r\nI know it happening because options from the tsconfig.json are being picked up. Specific example, I set isolatedModules: false in `--project` tsconfig but compiler thinks it is set true due to the tsconfig.json file present:\r\n\r\n```\r\n$ ./node_modules/.bin/ts-node --project tsconfig.node.json  ./src/scripts/test.ts\r\n...\r\nsrc/scripts/test.ts:1:1 - error TS1208: 'test.ts' cannot be compiled under '--isolatedModules' because it is considered a global script file. Add an import, export, or an empty 'export {}' statement to make it a module.\r\n```\r\n\r\n*tsconfig.json:*\r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"isolatedModules\": true\r\n  }\r\n}\r\n```\r\n\r\n*tsconfig.node.json:\"\r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \".\",\r\n    \"emitDecoratorMetadata\": true,\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"importsNotUsedAsValues\": \"error\",\r\n    \"isolatedModules\": false,\r\n    \"lib\": [\"es7\"],\r\n    \"moduleResolution\": \"node\",\r\n    \"noImplicitAny\": false,\r\n    \"outDir\": \"./dist/\",\r\n    \"preserveValueImports\": true,\r\n    \"removeComments\": false,\r\n    \"skipLibCheck\": true,\r\n    \"sourceMap\": false,\r\n    \"strict\": true,\r\n    \"suppressImplicitAnyIndexErrors\": true,\r\n    \"target\": \"esnext\",\r\n    \"types\": [\"node\"],\r\n    \"useDefineForClassFields\": true,\r\n    \"paths\": {\r\n      \"@/*\": [\"./src/*\"]\r\n    },\r\n    \"plugins\": [\r\n      { \"transform\": \"typescript-transform-paths\" },\r\n      { \"transform\": \"typescript-transform-paths\", \"afterDeclarations\": true }\r\n    ]\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules/*\",\r\n    \"**/*-aot.ts\"\r\n  ],\r\n  \"include\": [\r\n    \"src/scripts/*.ts\"\r\n  ],\r\n  \"ts-node\": {\r\n    \"compiler\": \"ttypescript\",\r\n    \"require\": [ \"typescript-transform-paths/register\" ]\r\n  }\r\n}\r\n```\r\n\r\nIf I remove tsconfig.json the error goes away.\r\n\r\n### Minimal reproduction\r\nAs above.\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n\r\n tsconfig is as above.\r\n\r\n```\r\n$ ./node_modules/.bin/ts-node -vv\r\nts-node v10.9.1\r\nnode v16.17.0\r\ncompiler v4.7.4\r\n$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tDebian\r\nDescription:\tDebian GNU/Linux 10 (buster)\r\nRelease:\t10\r\nCodename:\tbuster\r\n\r\n```\r\n\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1890/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1890/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1889",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1889/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1889/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1889/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1889",
        "id": 1374427723,
        "node_id": "I_kwDOAlTKGc5R7BpL",
        "number": 1889,
        "title": "[Bug] ts-node fails on node v16.17.0 in npm run",
        "user": {
          "login": "c-vetter",
          "id": 445565,
          "node_id": "MDQ6VXNlcjQ0NTU2NQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/445565?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/c-vetter",
          "html_url": "https://github.com/c-vetter",
          "followers_url": "https://api.github.com/users/c-vetter/followers",
          "following_url": "https://api.github.com/users/c-vetter/following{/other_user}",
          "gists_url": "https://api.github.com/users/c-vetter/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/c-vetter/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/c-vetter/subscriptions",
          "organizations_url": "https://api.github.com/users/c-vetter/orgs",
          "repos_url": "https://api.github.com/users/c-vetter/repos",
          "events_url": "https://api.github.com/users/c-vetter/events{/privacy}",
          "received_events_url": "https://api.github.com/users/c-vetter/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-09-15T12:09:27Z",
        "updated_at": "2022-09-21T20:20:51Z",
        "closed_at": "2022-09-21T20:20:50Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "After updating to node v16.17.0, `ts-node` fails when running inside `npm run`.\r\nWorks fine with node v16.15.0, which I've reverted back to.\r\n\r\nMay be specific to Windows.\r\n\r\n### Search Terms\r\n+ windows\r\n+ argument not recognized\r\n+ npm npx\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n```ps\r\n$ npx ts-node test.ts\r\nworks\r\n$ npm test\r\n\r\n> test\r\n> ts-node test.ts\r\n\r\nworks\r\n```\r\n\r\n### Actual Behavior\r\n```ps\r\n$ npx ts-node test.ts\r\nworks\r\n$ npm test\r\n\r\n> test\r\n> ts-node test.ts\r\n\r\nThe argument '/C/Users/rp/AppData/Local/Temp/test-a99da100.sh' is not recognized as the name of a script file. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nUsage: pwsh[.exe] [-Login] [[-File] <filePath> [args]]\r\n                  [-Command { - | <script-block> [-args <arg-array>]\r\n                                | <string> [<CommandParameters>] } ]\r\n                  [-ConfigurationName <string>] [-CustomPipeName <string>]\r\n                  [-EncodedCommand <Base64EncodedCommand>]\r\n                  [-ExecutionPolicy <ExecutionPolicy>] [-InputFormat {Text | XML}]\r\n                  [-Interactive] [-MTA] [-NoExit] [-NoLogo] [-NonInteractive] [-NoProfile]\r\n                  [-OutputFormat {Text | XML}] [-SettingsFile <filePath>] [-SSHServerMode] [-STA]\r\n                  [-Version] [-WindowStyle <style>] [-WorkingDirectory <directoryPath>]\r\n\r\n       pwsh[.exe] -h | -Help | -? | /?\r\n\r\nPowerShell Online Help https://aka.ms/powershell-docs\r\n\r\nAll parameters are case-insensitive.\r\n```\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\nRun these in [the repro](https://github.com/c-vetter/repro_ts-node_lts-npm-fail):\r\n+ `npx ts-node test.ts`\r\n+ `npm test`\r\n\r\n### Minimal reproduction\r\nhttps://github.com/c-vetter/repro_ts-node_lts-npm-fail\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: 16.17.0\r\n* TypeScript version: 4.8.3\r\n* tsconfig.json, if you're using one: `null`\r\n* package.json:\r\n```json\r\n{\r\n\t\"scripts\": {\r\n\t\t\"test\": \"ts-node test.ts\"\r\n\t},\r\n\t\"dependencies\": {\r\n\t\t\"ts-node\": \"10.9.1\",\r\n\t\t\"typescript\": \"4.8.3\"\r\n\t}\r\n}\r\n```\r\n* Operating system and version: Windows 10 Pro (Microsoft Windows NT 10.0.19044.0 x64)\r\n* If Windows, are you using WSL or WSL2?: Nope, native Powershell Core\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1889/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1889/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1885",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1885/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1885/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1885/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1885",
        "id": 1369011025,
        "node_id": "I_kwDOAlTKGc5RmXNR",
        "number": 1885,
        "title": "[BUG] Top Level Await",
        "user": {
          "login": "angelhdzmultimedia",
          "id": 10191085,
          "node_id": "MDQ6VXNlcjEwMTkxMDg1",
          "avatar_url": "https://avatars.githubusercontent.com/u/10191085?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/angelhdzmultimedia",
          "html_url": "https://github.com/angelhdzmultimedia",
          "followers_url": "https://api.github.com/users/angelhdzmultimedia/followers",
          "following_url": "https://api.github.com/users/angelhdzmultimedia/following{/other_user}",
          "gists_url": "https://api.github.com/users/angelhdzmultimedia/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/angelhdzmultimedia/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/angelhdzmultimedia/subscriptions",
          "organizations_url": "https://api.github.com/users/angelhdzmultimedia/orgs",
          "repos_url": "https://api.github.com/users/angelhdzmultimedia/repos",
          "events_url": "https://api.github.com/users/angelhdzmultimedia/events{/privacy}",
          "received_events_url": "https://api.github.com/users/angelhdzmultimedia/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-09-11T17:24:54Z",
        "updated_at": "2022-09-11T18:37:23Z",
        "closed_at": "2022-09-11T18:37:23Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nBeing able to use top level await in a node typescript project.\r\n\r\n\r\n### Actual Behavior\r\nTons of errors no matter what combination of tsconfig.json, package.json and compiler flags I try.\r\n\r\n### Other solutions\r\nI tried one setup using nodemon and babel and it worked, but with ts-node or ts-node-dev I can't get it working\r\nand my search history is huge! Can't find a solution.\r\nEven a solution I left someone else in the past, isn't currently working!!!\r\nThe solution was: `nodemon -I --exec node --experimental-specifier-resolution=node  --loader ts-node/esm ./src/main.ts`\r\n\r\n**Please, help!!!**\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.9.1\r\n* node version: 18.1.0\r\n* TypeScript version: 4.8.3\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version: Windows 10.0.19044 Build 19044\r\n\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1885/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1885/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1882",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1882/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1882/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1882/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1882",
        "id": 1368984007,
        "node_id": "I_kwDOAlTKGc5RmQnH",
        "number": 1882,
        "title": "Unexpected early exit (code 13) when trying to `import {}` from a dynamic `import()`",
        "user": {
          "login": "brianjenkins94",
          "id": 9398474,
          "node_id": "MDQ6VXNlcjkzOTg0NzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9398474?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/brianjenkins94",
          "html_url": "https://github.com/brianjenkins94",
          "followers_url": "https://api.github.com/users/brianjenkins94/followers",
          "following_url": "https://api.github.com/users/brianjenkins94/following{/other_user}",
          "gists_url": "https://api.github.com/users/brianjenkins94/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/brianjenkins94/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/brianjenkins94/subscriptions",
          "organizations_url": "https://api.github.com/users/brianjenkins94/orgs",
          "repos_url": "https://api.github.com/users/brianjenkins94/repos",
          "events_url": "https://api.github.com/users/brianjenkins94/events{/privacy}",
          "received_events_url": "https://api.github.com/users/brianjenkins94/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-09-11T15:42:40Z",
        "updated_at": "2022-09-11T16:10:13Z",
        "closed_at": "2022-09-11T16:10:13Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "This is a weird one where I could just be doing something stupid, but I'm reasonably certain this is code that has worked for me in the past.\r\n\r\n[I've run into the exit code 13 problem before](https://discord.com/channels/508357248330760243/508357707602853888/987721150643724328) but it turned out to be a conditional logic issue where I wasn't returning anything.\r\n\r\nFor reference:\r\n\r\n> 13 Unfinished Top-Level Await: await was used outside of a function in the top-level code, but the passed Promise never resolved.\r\n\r\nhttps://nodejs.org/api/process.html#exit-codes\r\n\r\n### Search Terms\r\n\r\n`exit code 13`, `dynamic import`\r\n\r\n### Expected Behavior\r\n\r\nThe `BASE_URL` gets `console.log`d.\r\n\r\n### Actual Behavior\r\n\r\nUnexpected early exit (code 13) on the dynamic `import()`.\r\n\r\n### Steps to reproduce the problem\r\n\r\n```\r\nnode --experimental-specifier-resolution=node --loader=ts-node/esm server.ts\r\n```\r\n\r\n### Minimal reproduction\r\n\r\n```ts\r\n// server.ts\r\nimport * as path from \"path\";\r\nimport * as url from \"url\";\r\n\r\nconst __filename = url.fileURLToPath(import.meta.url);\r\nconst __dirname = path.dirname(__filename);\r\n\r\nexport const BASE_URL = new URL(\"http://localhost:8080\");\r\n\r\nconst exports = await import(url.pathToFileURL(path.join(__dirname, \"index.ts\")).toString());\r\n\r\nconsole.log(exports); // <-- we never get here\r\n```\r\n\r\n```ts\r\n// index.ts\r\n\r\n// The error appears to be contingent on this import:\r\nimport { BASE_URL } from \"./server\";\r\n\r\nexport async function get(request, response) {\r\n\tconsole.log(BASE_URL);\r\n}\r\n```\r\n\r\n### Specifications\r\n\r\nWindows (git-bash):\r\n\r\n```\r\n> npx ts-node -vvv\r\nts-node v10.9.1 C:\\Users\\User\\Desktop\\ts-node-repro\\node_modules\\ts-node\r\nnode v18.6.0\r\ncompiler v4.8.3 C:\\Users\\User\\Desktop\\ts-node-repro\\node_modules\\typescript\\lib\\typescript.js\r\n```\r\n\r\nLinux (devcontainer):\r\n```\r\n# npx ts-node -vvv\r\nts-node v10.9.1 /workspaces/prizmdoc-viewer-spreadsheet-look-and-feel/node_modules/ts-node\r\nnode v18.9.0\r\ncompiler v4.8.3 /workspaces/prizmdoc-viewer-spreadsheet-look-and-feel/node_modules/typescript/lib/typescript.js\r\n```\r\n\r\n* tsconfig.json:\r\n```ts\r\n{\r\n\t\"compilerOptions\": {\r\n\t\t\"allowJs\": true,\r\n\t\t\"allowSyntheticDefaultImports\": true,\r\n\t\t\"alwaysStrict\": true,\r\n\t\t\"esModuleInterop\": true,\r\n\t\t//\"exactOptionalPropertyTypes\": true,\r\n\t\t\"experimentalDecorators\": true,\r\n\t\t\"module\": \"ESNext\",\r\n\t\t\"moduleResolution\": \"Node\",\r\n\t\t\"noImplicitOverride\": true,\r\n\t\t\"noImplicitReturns\": true,\r\n\t\t\"noPropertyAccessFromIndexSignature\": true,\r\n\t\t\"target\": \"ES2022\"\r\n\t}\r\n}\r\n```\r\n\r\n* package.json:\r\n```ts\r\n{\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"start\": \"node --experimental-specifier-resolution=node --loader=ts-node/esm server.ts\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@types/node\": \"latest\",\r\n    \"ts-node\": \"latest\",\r\n    \"typescript\": \"latest\"\r\n  }\r\n}\r\n```\r\n\r\n* Operating system and version:\r\n\r\nI've tried on Windows (21H2) and Linux via a devcontainer (Linux docker-desktop 5.10.16.3-microsoft-standard-WSL2), same results.\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1882/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1882/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1881",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1881/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1881/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1881/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1881",
        "id": 1368953267,
        "node_id": "I_kwDOAlTKGc5RmJGz",
        "number": 1881,
        "title": "Wrong root(cwd) determination for esm modules",
        "user": {
          "login": "ThePlenkov",
          "id": 6381507,
          "node_id": "MDQ6VXNlcjYzODE1MDc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6381507?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ThePlenkov",
          "html_url": "https://github.com/ThePlenkov",
          "followers_url": "https://api.github.com/users/ThePlenkov/followers",
          "following_url": "https://api.github.com/users/ThePlenkov/following{/other_user}",
          "gists_url": "https://api.github.com/users/ThePlenkov/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ThePlenkov/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ThePlenkov/subscriptions",
          "organizations_url": "https://api.github.com/users/ThePlenkov/orgs",
          "repos_url": "https://api.github.com/users/ThePlenkov/repos",
          "events_url": "https://api.github.com/users/ThePlenkov/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ThePlenkov/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-09-11T13:52:54Z",
        "updated_at": "2022-09-11T16:19:32Z",
        "closed_at": "2022-09-11T16:19:32Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi! During debug I have noticed something interesting. To use top-level await I've changed package to module and activated esm for ts-node. However right after this import for json files stopped working.\r\nHere is what I have in IDE\r\n![image](https://user-images.githubusercontent.com/6381507/189531052-a4581fb8-59cc-4334-bcb2-85b6d1f93be1.png)\r\n\r\nAnd here is the  base path ts-node is trying to resolve workspace.json against to.\r\n\r\n![image](https://user-images.githubusercontent.com/6381507/189531106-961eb258-7c84-4133-bb76-9e0e6e96dc70.png)\r\n\r\nI think you should take root path from tsconfig to resolve imports, same as typescript does. Otherwise is different logic\r\n\r\nFor now I'd prefer not to use ts-node with esm: true. \r\n\r\nThanks!",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1881/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1881/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1876",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1876/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1876/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1876/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1876",
        "id": 1353006858,
        "node_id": "I_kwDOAlTKGc5QpT8K",
        "number": 1876,
        "title": "Package's main script not treated as module depending if it's file-system local or not",
        "user": {
          "login": "hydroper",
          "id": 110610266,
          "node_id": "U_kgDOBpfHWg",
          "avatar_url": "https://avatars.githubusercontent.com/u/110610266?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hydroper",
          "html_url": "https://github.com/hydroper",
          "followers_url": "https://api.github.com/users/hydroper/followers",
          "following_url": "https://api.github.com/users/hydroper/following{/other_user}",
          "gists_url": "https://api.github.com/users/hydroper/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/hydroper/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/hydroper/subscriptions",
          "organizations_url": "https://api.github.com/users/hydroper/orgs",
          "repos_url": "https://api.github.com/users/hydroper/repos",
          "events_url": "https://api.github.com/users/hydroper/events{/privacy}",
          "received_events_url": "https://api.github.com/users/hydroper/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-08-27T10:23:15Z",
        "updated_at": "2022-08-29T22:11:01Z",
        "closed_at": "2022-08-29T22:11:01Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\nThere's a similiar issue, #922. However it is closed and the suggested solutions don't work for me.\r\n\r\n### Expected Behavior\r\n\r\nNo error. I've confirmed this is a bug. When I change the dependency:\r\n\r\n```\r\n\"com.matheusdiasdesouzads.js.language-objects\": \"^1.0.0\"\r\n```\r\n\r\nto...\r\n\r\n```\r\n\"com.matheusdiasdesouzads.js.language-objects\": \"file:../language-objects-js\"\r\n```\r\n\r\nI don't get `SyntaxError: Cannot use import statement outside a module` anymore.\r\n\r\n### Actual Behavior\r\n\r\nI'm getting:\r\n\r\n```\r\nmy-outer-package\\node_modules\\com.matheusdiasdesouzads.js.language-objects\\src\\index.ts:1\r\nimport Language, {Direction} from './language';\r\n^^^^^^\r\n\r\nSyntaxError: Cannot use import statement outside a module\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n- 1. `git clone https://github.com/matheusdiasdesouzads/message-locator-js`\r\n- 2. `cd message-locator-js`\r\n- 3. `ts-node src/index.ts`\r\n\r\n### Minimal reproduction\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\nThe repository https://github.com/matheusdiasdesouzads/message-locator-js is pretty short and only depends on https://github.com/matheusdiasdesouzads/language-objects-js, which is also short.\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.9.1\r\n* node version: v16.17.0\r\n* TypeScript version: v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"out\": \"dist/message-locator.js\", \r\n    \"sourceMap\": true, \r\n    \"target\": \"es6\",\r\n    \"lib\": [\"es2015\", \"dom\"],\r\n    \"noImplicitAny\": true\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"com.matheusdiasdesouzads.js.message-locator\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"src/index.ts\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"matheusdiasdesouzads\",\r\n  \"repository\": \"https://github.com/matheusdiasdesouzads/message-locator-js\",\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"axios\": \"^0.27.2\",\r\n    \"com.matheusdiasdesouzads.js.language-objects\": \"^1.1.0\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: Windows 10 21H2 build 19044.1288\r\n* If Windows, are you using WSL or WSL2?:\r\nWindows 10, not WSL.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1876/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1876/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1874",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1874/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1874/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1874/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1874",
        "id": 1352784179,
        "node_id": "I_kwDOAlTKGc5Qodkz",
        "number": 1874,
        "title": "Dollar sign get removed from process.argv on transpilation",
        "user": {
          "login": "OlivierCuyp",
          "id": 815949,
          "node_id": "MDQ6VXNlcjgxNTk0OQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/815949?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/OlivierCuyp",
          "html_url": "https://github.com/OlivierCuyp",
          "followers_url": "https://api.github.com/users/OlivierCuyp/followers",
          "following_url": "https://api.github.com/users/OlivierCuyp/following{/other_user}",
          "gists_url": "https://api.github.com/users/OlivierCuyp/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/OlivierCuyp/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/OlivierCuyp/subscriptions",
          "organizations_url": "https://api.github.com/users/OlivierCuyp/orgs",
          "repos_url": "https://api.github.com/users/OlivierCuyp/repos",
          "events_url": "https://api.github.com/users/OlivierCuyp/events{/privacy}",
          "received_events_url": "https://api.github.com/users/OlivierCuyp/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-26T22:22:04Z",
        "updated_at": "2022-08-26T22:24:11Z",
        "closed_at": "2022-08-26T22:24:11Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nprocess.argv script argument dollar sign $\r\n\r\n### Expected Behavior\r\n\r\nKeep `$` in process.argv when it correctly passed to script argument.\r\n\r\n### Actual Behavior\r\n\r\nWhen creating a script that takes arguments, and if an argument is passed with a `$`, it disappear from it in process.argv.\r\n\r\n### Steps to reproduce the problem\r\n\r\n1. Create a script that logs process.argv\r\n2. Run the script with an argument containing a `$`\r\n\r\n### Minimal reproduction\r\n\r\ndollar.ts:\r\n```js\r\nconsole.log(process.argv);\r\n```\r\n\r\nexecution (in bash terminal):\r\n```shell\r\n> npx ts-node ./scripts/dollar.ts --test='$7test'\r\n[\r\n  '/Users/me/project/scripts/node_modules/.bin/ts-node',\r\n  '/Users/me/project/scripts/dollar.ts',\r\n  '--test=test' // <---  '$7' disappeared\r\n]\r\n```\r\n\r\nIn pure JS, there is no issue with the same script:\r\n\r\n```shell\r\n> node ./scripts/dollar.js --test='$7test'\r\n[\r\n  '/Users/me/project/scripts/node_modules/.bin/ts-node',\r\n  '/Users/me/project/scripts/dollar.ts',\r\n  '--test=$7test' // <--- all good !\r\n]\r\n```\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:  10.9.1\r\n* node version: 16.15.1\r\n* TypeScript version: 4.8.2\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"ts-node\": {\r\n    \"files\": true,\r\n    \"transpileOnly\": true\r\n  },\r\n  \"compilerOptions\": {\r\n    \"target\": \"es6\",\r\n    \"module\": \"commonjs\",\r\n    \"sourceMap\": true,\r\n    \"strict\": true,\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"dollar\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"dollar.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^4.8.2\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: OSX 12.5.1\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1874/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1874/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1872",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1872/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1872/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1872/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1872",
        "id": 1352781544,
        "node_id": "I_kwDOAlTKGc5Qoc7o",
        "number": 1872,
        "title": "Getting \"Cannot use import statement outside a module\"",
        "user": {
          "login": "hydroper",
          "id": 110610266,
          "node_id": "U_kgDOBpfHWg",
          "avatar_url": "https://avatars.githubusercontent.com/u/110610266?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hydroper",
          "html_url": "https://github.com/hydroper",
          "followers_url": "https://api.github.com/users/hydroper/followers",
          "following_url": "https://api.github.com/users/hydroper/following{/other_user}",
          "gists_url": "https://api.github.com/users/hydroper/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/hydroper/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/hydroper/subscriptions",
          "organizations_url": "https://api.github.com/users/hydroper/orgs",
          "repos_url": "https://api.github.com/users/hydroper/repos",
          "events_url": "https://api.github.com/users/hydroper/events{/privacy}",
          "received_events_url": "https://api.github.com/users/hydroper/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-26T22:17:14Z",
        "updated_at": "2022-08-26T22:18:19Z",
        "closed_at": "2022-08-26T22:18:19Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\nThere's a similiar issue, #922. However it is closed and the suggested solutions don't work for me.\r\n\r\n### Expected Behavior\r\n\r\nNo error.\r\n\r\n### Actual Behavior\r\n\r\nI'm getting:\r\n\r\n```\r\nmy-outer-package\\node_modules\\com.matheusdiasdesouzads.js.language-objects\\src\\index.ts:1\r\nimport Language, {Direction} from './language';\r\n^^^^^^\r\n\r\nSyntaxError: Cannot use import statement outside a module\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n- 1. `git clone https://github.com/matheusdiasdesouzads/message-locator-js`\r\n- 2. `cd message-locator-js`\r\n- 3. `ts-node src/index.ts`\r\n\r\n### Minimal reproduction\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\nThe repository https://github.com/matheusdiasdesouzads/message-locator-js is pretty short and only depends on https://github.com/matheusdiasdesouzads/language-objects-js, which is also short.\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.9.1\r\n* node version: v16.17.0\r\n* TypeScript version: v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"out\": \"dist/message-locator.js\", \r\n    \"sourceMap\": true, \r\n    \"target\": \"es6\",\r\n    \"lib\": [\"es2015\", \"dom\"],\r\n    \"noImplicitAny\": true\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"com.matheusdiasdesouzads.js.message-locator\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"src/index.ts\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"matheusdiasdesouzads\",\r\n  \"repository\": \"https://github.com/matheusdiasdesouzads/message-locator-js\",\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"axios\": \"^0.27.2\",\r\n    \"com.matheusdiasdesouzads.js.language-objects\": \"^1.1.0\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: Windows 10 21H2 build 19044.1288\r\n* If Windows, are you using WSL or WSL2?:\r\nWindows 10, not WSL.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1872/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1872/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1871",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1871/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1871/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1871/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1871",
        "id": 1352471551,
        "node_id": "I_kwDOAlTKGc5QnRP_",
        "number": 1871,
        "title": "ts-loader does not resolve .cjs imports in a \"type\": \"module\" project",
        "user": {
          "login": "phil-lgr",
          "id": 9644867,
          "node_id": "MDQ6VXNlcjk2NDQ4Njc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9644867?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/phil-lgr",
          "html_url": "https://github.com/phil-lgr",
          "followers_url": "https://api.github.com/users/phil-lgr/followers",
          "following_url": "https://api.github.com/users/phil-lgr/following{/other_user}",
          "gists_url": "https://api.github.com/users/phil-lgr/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/phil-lgr/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/phil-lgr/subscriptions",
          "organizations_url": "https://api.github.com/users/phil-lgr/orgs",
          "repos_url": "https://api.github.com/users/phil-lgr/repos",
          "events_url": "https://api.github.com/users/phil-lgr/events{/privacy}",
          "received_events_url": "https://api.github.com/users/phil-lgr/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2022-08-26T16:18:44Z",
        "updated_at": "2022-08-26T18:09:08Z",
        "closed_at": "2022-08-26T18:09:08Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\ntype module, esm, cjs\r\n\r\n### Expected Behavior\r\n\r\nts-loader loads .cts file as CommonJS and then compile the subsequent imports as CommonJS as well.\r\n\r\nThis is taken from the docs: https://github.com/TypeStrong/ts-node#err_unknown_file_extension\r\n\r\ne.g. `ts-node node_modules/webpack/bin/webpack --config webpack.config.cts` where webpack.config.cts is:\r\n\r\n```ts\r\nimport * as webpack from 'webpack';\r\nimport { commonOutput } from './webpack.common.config.cjs';\r\n\r\nconst config: webpack.Configuration = {\r\n  mode: 'production',\r\n  entry: './foo.js',\r\n  output: {\r\n    // commenting this line (not importing from './webpack.common.config.cjs')\r\n    // will remove the error\r\n    ...commonOutput,\r\n  },\r\n};\r\n\r\nexport default config;\r\n```\r\n\r\nWebpack's configuration doc page: https://webpack.js.org/configuration/\r\n\r\n### Actual Behavior\r\n\r\nts-node loads the first entry file (.cts), but throw an error when importing other .cjs files:\r\n\r\n```\r\n$ ts-node node_modules/webpack/bin/webpack --config webpack.config.cts\r\n[webpack-cli] Failed to load '/Users/phil/Code/ts-node-webpack/webpack.config.cts' config\r\n[webpack-cli] Error: Cannot find module './webpack.common.config.cjs'\r\nRequire stack:\r\n- /Users/phil/Code/ts-node-webpack/webpack.config.cts\r\n- /Users/phil/Code/ts-node-webpack/node_modules/webpack-cli/lib/webpack-cli.js\r\n- /Users/phil/Code/ts-node-webpack/node_modules/webpack-cli/lib/bootstrap.js\r\n- /Users/phil/Code/ts-node-webpack/node_modules/webpack-cli/bin/cli.js\r\n- /Users/phil/Code/ts-node-webpack/node_modules/webpack/bin/webpack.js\r\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)\r\n    at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (/Users/phil/Code/ts-node-webpack/node_modules/@cspotcode/source-map-support/source-map-support.js:811:30)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:778:27)\r\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\r\n    at require (node:internal/modules/cjs/helpers:102:18)\r\n    at Object.<anonymous> (/Users/phil/Code/ts-node-webpack/webpack.config.cts:2:1)\r\n    at Module._compile (node:internal/modules/cjs/loader:1105:14)\r\n    at Module.m._compile (/Users/phil/Code/ts-node-webpack/node_modules/ts-node/src/index.ts:1618:23)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1159:10)\r\n    at Object.require.extensions.<computed> [as .js] (/Users/phil/Code/ts-node-webpack/node_modules/ts-node/src/index.ts:1621:12) {\r\n  code: 'MODULE_NOT_FOUND',\r\n  requireStack: [\r\n    '/Users/phil/Code/ts-node-webpack/webpack.config.cts',\r\n    '/Users/phil/Code/ts-node-webpack/node_modules/webpack-cli/lib/webpack-cli.js',\r\n    '/Users/phil/Code/ts-node-webpack/node_modules/webpack-cli/lib/bootstrap.js',\r\n    '/Users/phil/Code/ts-node-webpack/node_modules/webpack-cli/bin/cli.js'\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nReproduction repo here: https://github.com/phil-lgr/ts-node-webpack-5-repro\r\n\r\nBut basically, in a .cts file, if I import another .cts, it errors, but if I don't use commonOuput, it is fine (    // ...commonOutput,):\r\n\r\n```ts\r\nimport * as webpack from 'webpack';\r\nimport { commonOutput } from './webpack.common.config.cjs';\r\n\r\nconst config: webpack.Configuration = {\r\n  mode: 'production',\r\n  entry: './foo.js',\r\n  output: {\r\n    // commenting this line (not importing from './webpack.common.config.cjs')\r\n    // will remove the error\r\n    // ...commonOutput,\r\n  },\r\n};\r\n\r\nexport default config;\r\n```\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/phil-lgr/ts-node-webpack-5-repro\r\n\r\n### Specifications\r\n\r\n```\r\nts-node v10.9.1\r\nnode v16.15.1\r\ncompiler v4.8.2\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"ts-node-webpack\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"license\": \"MIT\",\r\n  \"scripts\": {\r\n    \"build\": \"ts-node node_modules/webpack/bin/webpack --config webpack.config.cts\"\r\n  },\r\n  \"type\": \"module\",\r\n  \"dependencies\": {\r\n    \"@types/node\": \"^16\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^4.8.2\",\r\n    \"webpack\": \"^5.74.0\",\r\n    \"webpack-cli\": \"^4.10.0\"\r\n  }\r\n}\r\n```\r\nMacOS 12.4\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1871/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1871/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1869",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1869/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1869/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1869/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1869",
        "id": 1347778935,
        "node_id": "I_kwDOAlTKGc5QVXl3",
        "number": 1869,
        "title": "SWC and multiline comments breaks debug sourcemaps",
        "user": {
          "login": "Kaizer69",
          "id": 13591248,
          "node_id": "MDQ6VXNlcjEzNTkxMjQ4",
          "avatar_url": "https://avatars.githubusercontent.com/u/13591248?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Kaizer69",
          "html_url": "https://github.com/Kaizer69",
          "followers_url": "https://api.github.com/users/Kaizer69/followers",
          "following_url": "https://api.github.com/users/Kaizer69/following{/other_user}",
          "gists_url": "https://api.github.com/users/Kaizer69/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Kaizer69/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Kaizer69/subscriptions",
          "organizations_url": "https://api.github.com/users/Kaizer69/orgs",
          "repos_url": "https://api.github.com/users/Kaizer69/repos",
          "events_url": "https://api.github.com/users/Kaizer69/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Kaizer69/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2022-08-23T11:14:50Z",
        "updated_at": "2022-11-28T18:24:53Z",
        "closed_at": "2022-08-31T19:35:18Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Expected Behavior\r\n\r\nDebug Typescript with SWC\r\n\r\n\r\n### Actual Behavior\r\n\r\nDebugging with Webstorm and default flags and multiline comments (/** */) put the debugger at wrong breakpoints lines.\r\nDebugging instead with ts-node works correctly.\r\n\r\n### Steps to reproduce the problem\r\n\r\npreserveAllComments: false in .swcrc\r\n\r\nIf you don't want to read .swcrc (see other issues regard this), you should put a flag in tsnode for setting *preserveAllComments* flag\r\n\r\nIt's a fault of SWC, but because we cannot set any of options of swcrc, the problem is also in ts-node",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1869/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1869/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1866",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1866/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1866/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1866/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1866",
        "id": 1343325659,
        "node_id": "I_kwDOAlTKGc5QEYXb",
        "number": 1866,
        "title": "timeout does not exist on AbortSignal;",
        "user": {
          "login": "cancan101",
          "id": 51059,
          "node_id": "MDQ6VXNlcjUxMDU5",
          "avatar_url": "https://avatars.githubusercontent.com/u/51059?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cancan101",
          "html_url": "https://github.com/cancan101",
          "followers_url": "https://api.github.com/users/cancan101/followers",
          "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
          "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
          "organizations_url": "https://api.github.com/users/cancan101/orgs",
          "repos_url": "https://api.github.com/users/cancan101/repos",
          "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cancan101/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-08-18T16:13:35Z",
        "updated_at": "2022-08-18T16:53:02Z",
        "closed_at": "2022-08-18T16:53:02Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\ntimeout does not exist on AbortSignal;\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nNo error / `Function: timeout]`\r\n\r\nAccording to: https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/timeout this should exist in node 17.3+\r\n\r\n\r\n### Actual Behavior\r\n```\r\n[eval].ts:1:13 - error TS2339: Property 'timeout' does not exist on type '{ new (): AbortSignal; prototype: AbortSignal; }'.\r\n\r\n1 AbortSignal.timeout\r\n              ~~~~~~~\r\n```\r\n\r\n\r\n### Steps to reproduce the problem\r\nRun: `npx ts-node -e \"AbortSignal.timeout\"`\r\n\r\n\r\n### Minimal reproduction\r\n```\r\nnpx ts-node -e \"AbortSignal.timeout\"\r\n```\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\nts-node v10.9.1 \r\nnode v18.0.0\r\ncompiler v4.7.4 \r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1866/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1866/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1865",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1865/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1865/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1865/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1865",
        "id": 1341844574,
        "node_id": "I_kwDOAlTKGc5P-uxe",
        "number": 1865,
        "title": "ERR_LOADER_CHAIN_INCOMPLETE with node v16.17",
        "user": {
          "login": "samuelint",
          "id": 5473142,
          "node_id": "MDQ6VXNlcjU0NzMxNDI=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5473142?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/samuelint",
          "html_url": "https://github.com/samuelint",
          "followers_url": "https://api.github.com/users/samuelint/followers",
          "following_url": "https://api.github.com/users/samuelint/following{/other_user}",
          "gists_url": "https://api.github.com/users/samuelint/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/samuelint/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/samuelint/subscriptions",
          "organizations_url": "https://api.github.com/users/samuelint/orgs",
          "repos_url": "https://api.github.com/users/samuelint/repos",
          "events_url": "https://api.github.com/users/samuelint/events{/privacy}",
          "received_events_url": "https://api.github.com/users/samuelint/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-08-17T14:22:29Z",
        "updated_at": "2022-08-17T14:44:41Z",
        "closed_at": "2022-08-17T14:27:19Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n* ERR_LOADER_CHAIN_INCOMPLETE\r\n* \"ts-node/esm 'resolve'\" did not call the next hook in its chain and did not explicitly signal a short circuit\r\n\r\n### Expected Behavior\r\nno error when executing `mocha 'src/**/*.spec.ts'`\r\n\r\n\r\n### Actual Behavior\r\nWhen executing \r\n`mocha 'src/**/*.spec.ts'`\r\n\r\nthe following error happen on node v16.17 **but not** on node v16.16\r\n```bash\r\nError [ERR_LOADER_CHAIN_INCOMPLETE]: \"ts-node/esm 'resolve'\" did not call the next hook in its chain and did not explicitly signal a short circuit. If this is intentional, include `shortCircuit: true` in the hook's return.\r\n    at new NodeError (node:internal/errors:[38]7:5)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:852:13)\r\n    at async ESMLoader.getModuleJob (node:internal/modules/esm/loader:431:7)\r\n    at async Promise.all (index 0)\r\n    at async ESMLoader.import (node:internal/modules/esm/loader:533:24)\r\n    at async loadESM (node:internal/process/esm_loader:91:5)\r\n    at async handleMainPromise (node:internal/modules/run_main:65:12) {\r\n  code: 'ERR_LOADER_CHAIN_INCOMPLETE'\r\n}\r\nerror Command failed with exit code 1.\r\n```\r\n\r\n### Steps to reproduce the problem\r\nUse node `v16.17` or `node16:latest`\r\nUse \r\n* mocha `^9.2.2`\r\n* typescript `^4.6.3`\r\n* ts-node `^10.7.0`\r\n\r\n\r\n\r\n\r\n### Minimal reproduction\r\n* Have any mocha + ts-node + node 16.17 project\r\n\r\n### Specifications\r\n* ts-node version: `^10.7.0`\r\n* node version: `16.17`\r\n* TypeScript version:`^4.6.3`\r\n* mocha `^9.2.2`\r\n\r\n```json\r\n/* Visit https://aka.ms/tsconfig.json to read more about this file */\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2020\",\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"node\",\r\n    \"lib\": [\r\n      \"es2019\",\r\n      \"es2020.promise\",\r\n      \"es2020.bigint\",\r\n      \"es2020.string\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"declaration\": true,\r\n    \"declarationMap\": true,\r\n    \"sourceMap\": true,\r\n    \"outDir\": \"./dist\",\r\n    \"rootDir\": \"./src\",\r\n\r\n    \"removeComments\": true,\r\n\r\n    \"strict\": true,\r\n    \"noImplicitAny\": true,\r\n    \"strictNullChecks\": true,\r\n    \"strictFunctionTypes\": true,\r\n    \"strictBindCallApply\": true,\r\n    \"strictPropertyInitialization\": true,\r\n    \"noImplicitThis\": true,\r\n    \"alwaysStrict\": true,\r\n\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": false,\r\n    \"noImplicitReturns\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"skipLibCheck\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"esModuleInterop\": true,\r\n\r\n    \"experimentalDecorators\": true,\r\n    \"emitDecoratorMetadata\": true\r\n  },\r\n  \"ts-node\": {\r\n    \"esm\": true\r\n  },\r\n  \"include\": [\"src/**/*.ts\"],\r\n  \"exclude\": [\"node_modules\", \"**/node_modules/*\", \"**/*.spec.ts\"]\r\n}\r\n```\r\n\r\n\r\n* package.json:\r\n```\r\n{\r\n  \"version\": \"1.0.0\",\r\n  \"private\": true,\r\n  \"type\": \"module\",\r\n  \"engines\": {\r\n    \"node\": \">=16.14.0\"\r\n  },\r\n  \"scripts\": {\r\n    \"start\": \"nodemon --watch src -e ts,tsx --ignore '*.spec.ts*' --exec 'yarn server'\",\r\n    \"server\": \"node --loader ts-node/esm --es-module-specifier-resolution=node --no-warnings ./src/index.ts\",\r\n    \"server:prod\": \"yarn build && node --es-module-specifier-resolution=node ./dist/index.js\",\r\n    \"clean\": \"rimraf dist/\",\r\n    \"copy-static-files\": \"copyfiles --all -u 1 \\\"src/**/*.gql\\\" \\\"dist\\\"\",\r\n    \"build\": \"yarn clean && tsc --outdir ./dist && yarn copy-static-files\",\r\n    \"format\": \"prettier --ignore-path .gitignore --write \\\"**/*.+(js|ts|json)\\\"\",\r\n    \"lint\": \"eslint --ext .ts .\",\r\n    \"lint:fix\": \"eslint --fix --ext .ts .\",\r\n    \"test:unit\": \"TS_NODE_PROJECT='./tsconfig.test.json' mocha\",\r\n    \"test:unit:all\": \"yarn test:unit 'src/**/*.spec.ts'\",\r\n    \"test:unit:watch\": \"yarn test:unit:all --parallel --watch\",\r\n    \"test:integration\": \"TS_NODE_PROJECT='./tsconfig.test.json' mocha -r test/integration/setup.ts\",\r\n    \"test:integration:all\": \"yarn test:integration 'test/integration/**/*.spec.ts'\",\r\n    \"test:integration:all:wait-on\": \"wait-on http://localhost:8080 && yarn test:integration:all\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@apollo/client\": \"^3.6.9\",\r\n    \"@drewkimberly/permutations\": \"1.x\",\r\n    \"@godaddy/terminus\": \"^4.10.2\",\r\n    \"@types/express\": \"^4.17.13\",\r\n    \"@types/lodash\": \"^4.14.182\",\r\n    \"@types/mocha\": \"^9.1.0\",\r\n    \"@types/morgan\": \"^1.9.3\",\r\n    \"@types/node\": \"^17.0.25\",\r\n    \"apollo-server-core\": \"^3.6.7\",\r\n    \"apollo-server-express\": \"^3.6.7\",\r\n    \"axios\": \"^0.26.1\",\r\n    \"colors\": \"^1.4.0\",\r\n    \"cross-fetch\": \"^3.1.5\",\r\n    \"dotenv\": \"^16.0.0\",\r\n    \"express\": \"^4.17.3\",\r\n    \"graphql\": \"^16.4.0\",\r\n    \"inversify\": \"^6.0.1\",\r\n    \"inversify-express-utils\": \"^6.4.3\",\r\n    \"lodash\": \"^4.17.21\",\r\n    \"mocha\": \"^9.2.2\",\r\n    \"morgan\": \"^1.10.0\",\r\n    \"reflect-metadata\": \"^0.1.13\",\r\n    \"walk-sync\": \"^3.0.0\",\r\n    \"winston\": \"^3.7.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/chai-as-promised\": \"^7.1.5\",\r\n    \"@types/sinon\": \"^10.0.11\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^5.20.0\",\r\n    \"@typescript-eslint/parser\": \"^5.20.0\",\r\n    \"chai\": \"^4.3.6\",\r\n    \"chai-as-promised\": \"^7.1.1\",\r\n    \"chai-graphql\": \"^4.0.0\",\r\n    \"chai-http\": \"^4.3.0\",\r\n    \"copyfiles\": \"^2.4.1\",\r\n    \"eslint\": \"^8.13.0\",\r\n    \"eslint-config-prettier\": \"^8.5.0\",\r\n    \"eslint-config-standard\": \"^17.0.0\",\r\n    \"eslint-plugin-import\": \"^2.26.0\",\r\n    \"eslint-plugin-n\": \"^15.1.0\",\r\n    \"eslint-plugin-promise\": \"^6.0.0\",\r\n    \"mocha-better-spec-reporter\": \"^3.1.0\",\r\n    \"mockttp\": \"^2.7.0\",\r\n    \"nodemon\": \"^2.0.15\",\r\n    \"prettier\": \"2.6.2\",\r\n    \"rimraf\": \"^3.0.2\",\r\n    \"sinon\": \"^13.0.2\",\r\n    \"ts-node\": \"^10.7.0\",\r\n    \"typescript\": \"^4.6.3\",\r\n    \"wait-on\": \"^6.0.1\"\r\n  }\r\n}\r\n\r\n```\r\n* Operating system and version:\r\n* Tested inside docker `node:16-alpine` & `node:16.17-alpine`\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1865/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1865/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1858",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1858/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1858/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1858/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1858",
        "id": 1331750714,
        "node_id": "I_kwDOAlTKGc5PYOc6",
        "number": 1858,
        "title": "Ts-node module resolution is not respected",
        "user": {
          "login": "lantos1618",
          "id": 39604275,
          "node_id": "MDQ6VXNlcjM5NjA0Mjc1",
          "avatar_url": "https://avatars.githubusercontent.com/u/39604275?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lantos1618",
          "html_url": "https://github.com/lantos1618",
          "followers_url": "https://api.github.com/users/lantos1618/followers",
          "following_url": "https://api.github.com/users/lantos1618/following{/other_user}",
          "gists_url": "https://api.github.com/users/lantos1618/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lantos1618/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lantos1618/subscriptions",
          "organizations_url": "https://api.github.com/users/lantos1618/orgs",
          "repos_url": "https://api.github.com/users/lantos1618/repos",
          "events_url": "https://api.github.com/users/lantos1618/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lantos1618/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 3720489121,
            "node_id": "LA_kwDOAlTKGc7dwiih",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/user%20error",
            "name": "user error",
            "color": "5319e7",
            "default": false,
            "description": "Issues that were ultimately human error, not a bug nor a missing feature."
          }
        ],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-08-08T11:45:08Z",
        "updated_at": "2022-08-08T13:53:59Z",
        "closed_at": "2022-08-08T13:52:26Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nts-node module type resolution package.json\r\nTypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for /...\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report? \r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nwhen \"moduleType\" is specified in ts-config.json it should ignore the \"type\": \"module\" specified in package.json\r\n\r\ntsconfig.json\r\n```json\r\n  \"ts-node\": {\r\n    \"moduleTypes\": {\r\n      \"*\": \"commonjs\"\r\n    }\r\n  },\r\n```\r\npackage.json\r\n```\r\n{\r\n  \"name\": \"typescript-incorrect-behaviour\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"type\": \"module\",\r\n  \"main\": \"index.js\",\r\n```\r\n\r\n\r\n### Actual Behavior\r\n\r\n  \"type\": \"module\", is respected when tsconfig.json should be respected.\r\n\r\nEven passing \"NODE_OPTIONS='--import-type=commonjs'\" does not get respected.\r\n\r\nthrows\r\n```\r\nDebugger attached.\r\nTypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for ~/Desktop/typescript-incorrect-behaviour/src/index.ts\r\n    at new NodeError (node:internal/errors:372:5)\r\n    at Object.getFileProtocolModuleFormat [as file:] (node:internal/modules/esm/get_format:76:11)\r\n    at defaultGetFormat (node:internal/modules/esm/get_format:118:38)\r\n    at defaultLoad (node:internal/modules/esm/load:21:20)\r\n    at ESMLoader.load (node:internal/modules/esm/loader:407:26)\r\n    at ESMLoader.moduleProvider (node:internal/modules/esm/loader:326:22)\r\n    at new ModuleJob (node:internal/modules/esm/module_job:66:26)\r\n    at ESMLoader.#createModuleJob (node:internal/modules/esm/loader:345:17)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:304:34)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r\n  code: 'ERR_UNKNOWN_FILE_EXTENSION'\r\n}\r\n```\r\n\r\n### Steps to reproduce the problem\r\nnpm init\r\nnpm install typescript ts-node @types/node\r\ntsc --init\r\ncreate a src/index.ts with console.log(\"hello\") inside\r\nadd \"type\": \"module\" to package.json\r\nadd \"start\": \"ts-node src/index.ts\" to package.json\r\nnpm start\r\n\r\n### Minimal reproduction\r\nI have an example here.\r\nhttps://github.com/lantos-lgtm/typescript-incorrect-behaviour\r\n\r\n```bash \r\ngit clone  https://github.com/lantos-lgtm/typescript-incorrect-behaviour\r\ncd typescript-incorrect-behaviour\r\nnpm install\r\nnpm start\r\n```\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\nts-node v10.9.1\r\nnode v16.16.0\r\ncompiler v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"ts-node\": {\r\n    \"moduleTypes\": {\r\n      \"*\": \"commonjs\"\r\n    }\r\n  },\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2016\",\r\n    \"module\": \"commonjs\",\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"skipLibCheck\": true\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"typescript-incorrect-behaviour\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"type\": \"module\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"start\": \"ts-node src/index.ts\",\r\n    \"start_node_env_override\": \"ts-node NODE_OPTIONS='--import-type=commonjs' src/index.ts\",\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"@types/node\": \"*\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"typescript\": \"^4.7.4\"\r\n  }\r\n}\r\n\r\n```\r\n* Operating system and version: macos 12.5\r\n* If Windows, are you using WSL or WSL2?: none\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1858/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1858/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1853",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1853/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1853/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1853/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1853",
        "id": 1320734476,
        "node_id": "I_kwDOAlTKGc5OuM8M",
        "number": 1853,
        "title": "CLI flag for the Node 18 test runner",
        "user": {
          "login": "meyfa",
          "id": 3982806,
          "node_id": "MDQ6VXNlcjM5ODI4MDY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3982806?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/meyfa",
          "html_url": "https://github.com/meyfa",
          "followers_url": "https://api.github.com/users/meyfa/followers",
          "following_url": "https://api.github.com/users/meyfa/following{/other_user}",
          "gists_url": "https://api.github.com/users/meyfa/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/meyfa/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/meyfa/subscriptions",
          "organizations_url": "https://api.github.com/users/meyfa/orgs",
          "repos_url": "https://api.github.com/users/meyfa/repos",
          "events_url": "https://api.github.com/users/meyfa/events{/privacy}",
          "received_events_url": "https://api.github.com/users/meyfa/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 280271351,
            "node_id": "MDU6TGFiZWwyODAyNzEzNTE=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/research",
            "name": "research",
            "color": "eb6420",
            "default": false,
            "description": "Needs design work, investigation, or prototyping.  Implementation uncertain."
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 12,
        "created_at": "2022-07-28T10:35:23Z",
        "updated_at": "2024-07-23T14:58:17Z",
        "closed_at": "2024-07-23T14:58:17Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Desired Behavior\r\n\r\nA native test runner was added in Node 18: https://nodejs.org/dist/latest-v18.x/docs/api/test.html\r\nIt can be started by `node --test testfile1.js testfile2.js` or `node --test testdirectory/`. Trying to use it with TypeScript is a bit cumbersome, though, since the directory variant doesn't quite work:\r\n\r\n```\r\nnode --loader ts-node/esm --test testdirectory/\r\n```\r\n\r\nThe above will not find any tests written in TypeScript, since only `.js`, `.cjs`, `.mjs` extensions are considered.\r\nSee https://nodejs.org/dist/latest-v18.x/docs/api/test.html#test-runner-execution-model.\r\n\r\nSince ts-node otherwise seems to want to mirror node's CLI behavior, my suggestion is to add a `--test` flag to ts-node that behaves like node would, but including resolution of TS test files. This could be implemented by searching the paths given as positional args to find all files matching `.js`, `.cjs`, `.mjs`, `.ts`, `.cts`, `.mts`, then spawning a node child process like `node --loader=ts-node/esm --test FILES` where `FILES` is the explicit list of files found in the previous step.\r\n\r\n\r\n### Is this request related to a problem?\r\n\r\nI would really like to get rid of third-party testing frameworks, especially for the myriad of small packages that don't require any advanced functionality, but this is hindered by not being able to run TypeScript tests easily.\r\n\r\n<!-- Describe the problem, for example: \"I'm always frustrated when ... \" -->\r\n\r\n\r\n### Alternatives you've considered\r\n\r\nThis works fine:\r\n\r\n```\r\nnode --loader ts-node/esm --test foo.test.ts bar.test.ts\r\n```\r\n\r\nBut we really don't want to specify each test file in the command. Globbing is not supported (at least not on Windows):\r\n\r\n```\r\nnode --loader ts-node/esm --test test/*.test.ts\r\n```\r\n\r\noutputs:\r\n\r\n```\r\nCould not find 'C:\\Users\\meyfa\\project\\test\\*.ts'\r\n```\r\n\r\nOne might also start `node --test` pointing at an index file, that performs the globbing and dynamically imports all actual test files.\r\nI haven't tried this, and it would be very ugly, IMHO. Additionally, it would lose process separation between test files. (`node --test foo.js bar.js` will execute `foo.js` and `bar.js` in separate processes).\r\n\r\n\r\n### Additional context\r\n\r\nI understand that the Node test runner is still experimental, so perhaps adding any kind of support for it to ts-node may seem premature.\r\nAdditionally, I have opened an issue at Node.js with a request to add globbing and/or a CLI flag for additional test file extensions, see https://github.com/nodejs/node/issues/44023.\r\n\r\nStill, I feel like having support for `ts-node --test` isn't too far fetched. Especially when Node adds globbing/extension support, the implementation will come almost for free.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1853/reactions",
          "total_count": 9,
          "+1": 9,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1853/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1850",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1850/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1850/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1850/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1850",
        "id": 1319984845,
        "node_id": "I_kwDOAlTKGc5OrV7N",
        "number": 1850,
        "title": "TSError:Unable to compile TypeScript: error TS5083: Cannot read file '/app/tsconfig.json'.",
        "user": {
          "login": "Edijae",
          "id": 14346659,
          "node_id": "MDQ6VXNlcjE0MzQ2NjU5",
          "avatar_url": "https://avatars.githubusercontent.com/u/14346659?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Edijae",
          "html_url": "https://github.com/Edijae",
          "followers_url": "https://api.github.com/users/Edijae/followers",
          "following_url": "https://api.github.com/users/Edijae/following{/other_user}",
          "gists_url": "https://api.github.com/users/Edijae/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Edijae/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Edijae/subscriptions",
          "organizations_url": "https://api.github.com/users/Edijae/orgs",
          "repos_url": "https://api.github.com/users/Edijae/repos",
          "events_url": "https://api.github.com/users/Edijae/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Edijae/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 3720489121,
            "node_id": "LA_kwDOAlTKGc7dwiih",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/user%20error",
            "name": "user error",
            "color": "5319e7",
            "default": false,
            "description": "Issues that were ultimately human error, not a bug nor a missing feature."
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-07-27T18:36:48Z",
        "updated_at": "2022-10-10T05:31:00Z",
        "closed_at": "2022-08-05T17:58:28Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nTS5083 , Unable to compile TypeScript, Cannot read file tsconfig.json\r\n### Expected Behavior\r\n\r\nCompile typescript project \r\n### Actual Behavior\r\n\r\nCompilation failing in docker using docker compose\r\n\r\n```\r\nTSError: ⨯ Unable to compile TypeScript:\r\nerror TS5083: Cannot read file '/app/tsconfig.json'.\r\nat createTSError (/app/node_modules/ts-node/src/index.ts:859:12)\r\nat reportTSError (/app/node_modules/ts-node/src/index.ts:863:19)\r\nat createFromPreloadedConfig (/app/node_modules/ts-node/src/index.ts:874:36)\r\nat phase4 (/app/node_modules/ts-node/src/bin.ts:543:44)\r\nat bootstrap (/app/node_modules/ts-node/src/bin.ts:95:10)\r\nat main (/app/node_modules/ts-node/src/bin.ts:55:10)\r\nat Object.<anonymous> (/app/node_modules/ts-node/src/bin.ts:800:3)\r\nat Module._compile (node:internal/modules/cjs/loader:1105:14)\r\nat Object.Module._extensions..js (node:internal/modules/cjs/loader:1159:10)\r\nat Module.load (node:internal/modules/cjs/loader:981:32) {\r\ndiagnosticCodes: [ 5083 ]\r\n}\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\nProject folder set up - (project root folder)/app/tsconfig.json\r\n                                      (project root folder)/app/package.json\r\n                                      (project root folder)/docker-compose.yml\r\n**/app/tsconfig.json**\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n        \"rootDir\": \"./src\",\r\n        \"outDir\": \"./bin\",\r\n        \"allowJs\": true,\r\n        \"checkJs\": true,\r\n        \"moduleResolution\": \"node\",\r\n        \"target\": \"ES2020\",\r\n        \"module\": \"esnext\",\r\n        \"strict\": true,\r\n        \"noImplicitAny\": false,\r\n        \"strictNullChecks\": true,\r\n        \"types\": [\"node\"],\r\n        \"lib\": [\"es6\"],\r\n        \"esModuleInterop\": true,\r\n        \"skipLibCheck\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"allowUnreachableCode\": true,\r\n        \"experimentalDecorators\": true\r\n    },\r\n    \"ts-node\": {\r\n        \"esm\": true\r\n    },\r\n    \"include\": [\"./src/*\",],\r\n    \"exclude\": [\"./node_modules/*\",\"<node_internals>/**\"],\r\n}\r\n```\r\n**app/package.json**\r\n```\r\n{\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"backend\",\r\n  \"main\": \"src/index.ts\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\r\n    \"start\": \"ts-node src/index.ts\"\r\n  },\r\n  \"type\": \"module\",\r\n  \"dependencies\": {\r\n```\r\n\r\n**(project root folder)/docker-compose.yml**\r\n\r\n```\r\nversion: '3'\r\n\r\nservices:\r\n  \r\n  portal:\r\n    image: \"node:16\"\r\n    user: \"node\"\r\n    working_dir: /app\r\n    restart: unless-stopped\r\n\r\n    command: \"npm start\"\r\n\r\n\r\n```\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: ^10.9.1\r\n* node version: ^4.7.4\r\n* TypeScript version: ^4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n\"devDependencies\": {\r\n    \"@types/body-parser\": \"^1.19.2\",\r\n    \"@types/express\": \"^4.17.13\",\r\n    \"@types/image-thumbnail\": \"^1.0.1\",\r\n    \"@types/multer\": \"^1.4.7\",\r\n    \"@types/multiparty\": \"^0.0.33\",\r\n    \"@types/node\": \"^18.6.1\",\r\n    \"@types/sharp\": \"^0.29.5\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"tslib\": \"^2.4.0\",\r\n    \"typescript\": \"^4.7.4\"\r\n  }\r\n```\r\n* Operating system and version: digital ocean ubuntu 20.04.4 LTS droplet\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1850/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1850/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1848",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1848/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1848/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1848/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1848",
        "id": 1317608198,
        "node_id": "I_kwDOAlTKGc5OiRsG",
        "number": 1848,
        "title": "Maximum call stack size exceeded when using node 18.6",
        "user": {
          "login": "faradaytrs",
          "id": 3426470,
          "node_id": "MDQ6VXNlcjM0MjY0NzA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3426470?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/faradaytrs",
          "html_url": "https://github.com/faradaytrs",
          "followers_url": "https://api.github.com/users/faradaytrs/followers",
          "following_url": "https://api.github.com/users/faradaytrs/following{/other_user}",
          "gists_url": "https://api.github.com/users/faradaytrs/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/faradaytrs/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/faradaytrs/subscriptions",
          "organizations_url": "https://api.github.com/users/faradaytrs/orgs",
          "repos_url": "https://api.github.com/users/faradaytrs/repos",
          "events_url": "https://api.github.com/users/faradaytrs/events{/privacy}",
          "received_events_url": "https://api.github.com/users/faradaytrs/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 508009636,
            "node_id": "MDU6TGFiZWw1MDgwMDk2MzY=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/needs%20more%20info",
            "name": "needs more info",
            "color": "5319e7",
            "default": false,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2022-07-26T02:20:12Z",
        "updated_at": "2023-08-24T21:46:43Z",
        "closed_at": "2022-07-26T12:54:25Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nI have a project with kinda a lot of dependencies but i think problem are not them,  after upgrade to node 18.6 i can't start my project anymore.\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nRunning normally\r\n\r\n### Actual Behavior\r\n\r\n````bash\r\nyarn run v1.22.19\r\n$ NODE_OPTIONS='--es-module-specifier-resolution=node --loader ts-node/esm' nodemon --watch src -e js,ts,json -r dotenv/config src/server.ts --exec=\"yarn lint && node\"\r\n(node:36907) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:36907) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.\r\n[nodemon] 2.0.19\r\n[nodemon] to restart at any time, enter `rs`\r\n[nodemon] watching path(s): src/**/*\r\n[nodemon] watching extensions: js,ts,json\r\n[nodemon] starting `ts-node -r dotenv/config src/server.ts \"--exec=yarn lint && node\"`\r\n(node:36924) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:36924) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.\r\nException in PromiseRejectCallback:\r\nnode:internal/modules/esm/loader:178\r\n      return output;\r\n\r\nRangeError: Maximum call stack size exceeded\r\nException in PromiseRejectCallback:\r\n/Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/dist/esm.js:120\r\n                const { source: rawSource } = await defaultLoad(url, {\r\n                                                    ^\r\n\r\nRangeError: Maximum call stack size exceeded\r\nRangeError: Maximum call stack size exceeded\r\n    at validateArgs (node:internal/modules/esm/loader:590:27)\r\n    at nextLoad (node:internal/modules/esm/loader:155:7)\r\n    at /Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/src/esm.ts:255:45\r\n    at addShortCircuitFlag (/Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/src/esm.ts:409:21)\r\n    at load (/Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/src/esm.ts:239:12)\r\n    at nextLoad (node:internal/modules/esm/loader:173:28)\r\n    at /Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/src/esm.ts:255:45\r\n    at addShortCircuitFlag (/Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/src/esm.ts:409:21)\r\n    at load (/Users/imax/PhpstormProjects/atlas-api/node_modules/ts-node/src/esm.ts:239:12)\r\n    at nextLoad (node:internal/modules/esm/loader:173:28)\r\n[nodemon] app crashed - waiting for file changes before starting...\r\n^C\r\nandrei:atlas-api imax$ \r\n````\r\n\r\n### Steps to reproduce the problem\r\n\r\n\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n    \"compilerOptions\": {\r\n        \"target\": \"ES2022\",\r\n        \"module\": \"esnext\",\r\n        \"moduleResolution\": \"node\",\r\n        \"lib\": [\"ES2021\"],\r\n        \"allowJs\": true,\r\n        \"allowSyntheticDefaultImports\": true,\r\n        \"outDir\": \"build\",\r\n        \"preserveSymlinks\": true,\r\n        \"rootDir\": \"src\",\r\n        \"strict\": true,\r\n        \"declaration\": true,\r\n        \"noImplicitAny\": true,\r\n        \"skipLibCheck\": true,\r\n        \"esModuleInterop\": true,\r\n        \"resolveJsonModule\": true,\r\n        \"noUnusedLocals\": true,\r\n        \"forceConsistentCasingInFileNames\": true,\r\n        \"importHelpers\": true\r\n        // \"types\": [\"src/global.d.ts\"]\r\n    },\r\n    \"include\": [\"src/**/*\", \"src/types/package.json\"],\r\n    \"exclude\": [\r\n        \"src/test/**/*\",\r\n        \"src/console/**/*\",\r\n        \"src/test/**/*\",\r\n        \"src/run-scripts/**/*\"\r\n    ],\r\n    \"ts-node\": {\r\n        \"swc\": true\r\n    }\r\n}\r\n\r\n```\r\n* package.json:\r\n```\r\n{\r\n    \"name\": \"atlas-api\",\r\n    \"version\": \"9.4.7\",\r\n    \"main\": \"build/server.js\",\r\n    \"license\": \"MIT\",\r\n    \"type\": \"module\",\r\n    \"private\": true,\r\n    \"engines\": {\r\n        \"node\": \">=18.0.0\"\r\n    },\r\n    \"dependencies\": {\r\n        \"@alicloud/dysmsapi20170525\": \"2.0.16\",\r\n        \"@ant-design/colors\": \"6.0.0\",\r\n        \"@aws-sdk/client-s3\": \"3.135.0\",\r\n        \"@aws-sdk/client-sns\": \"3.131.0\",\r\n        \"@aws-sdk/lib-storage\": \"3.135.0\",\r\n        \"@globuslimited/caprica\": \"0.7.1\",\r\n        \"@globuslimited/holidays\": \"2.1.2\",\r\n        \"@google-cloud/recaptcha-enterprise\": \"3.0.1\",\r\n        \"@google-cloud/speech\": \"4.10.2\",\r\n        \"@google-cloud/storage\": \"6.2.3\",\r\n        \"@google-cloud/translate\": \"7.0.0\",\r\n        \"@google-cloud/vision\": \"2.4.2\",\r\n        \"@msgpack/msgpack\": \"2.7.2\",\r\n        \"@prisma/client\": \"4.1.0\",\r\n        \"@socket.io/admin-ui\": \"0.4.0\",\r\n        \"@socket.io/mongo-adapter\": \"0.2.1\",\r\n        \"@socket.io/mongo-emitter\": \"0.1.0\",\r\n        \"axios\": \"0.27.2\",\r\n        \"body-parser\": \"1.20.0\",\r\n        \"cheerio\": \"1.0.0-rc.12\",\r\n        \"compression\": \"1.7.4\",\r\n        \"cors\": \"2.8.5\",\r\n        \"dayjs\": \"1.11.4\",\r\n        \"exceljs\": \"4.3.0\",\r\n        \"express\": \"4.18.1\",\r\n        \"form-data\": \"4.0.0\",\r\n        \"formidable\": \"2.0.1\",\r\n        \"google-auth-library\": \"8.1.1\",\r\n        \"googleapis\": \"105.0.0\",\r\n        \"immer\": \"9.0.15\",\r\n        \"joi\": \"17.6.0\",\r\n        \"jsonwebtoken\": \"8.5.1\",\r\n        \"libphonenumber-js\": \"1.10.9\",\r\n        \"messagebird\": \"3.8.1\",\r\n        \"mime-types\": \"2.1.35\",\r\n        \"mongodb\": \"4.8.0\",\r\n        \"murmurhash\": \"2.0.1\",\r\n        \"node-cron\": \"3.0.1\",\r\n        \"object-hash\": \"3.0.0\",\r\n        \"query-string\": \"7.1.1\",\r\n        \"ramda\": \"0.28.0\",\r\n        \"sharp\": \"0.30.7\",\r\n        \"socket.io\": \"4.5.1\",\r\n        \"tencentcloud-sdk-nodejs\": \"4.0.388\",\r\n        \"ua-parser-js\": \"1.0.2\",\r\n        \"uuid\": \"8.3.2\"\r\n    },\r\n    \"devDependencies\": {\r\n        \"@swc/core\": \"1.2.218\",\r\n        \"@types/compression\": \"1.7.2\",\r\n        \"@types/express\": \"4.17.13\",\r\n        \"@types/formidable\": \"2.0.5\",\r\n        \"@types/jsonwebtoken\": \"8.5.8\",\r\n        \"@types/mime-types\": \"2.1.1\",\r\n        \"@types/node\": \"18.6.1\",\r\n        \"@types/object-hash\": \"2.2.1\",\r\n        \"@types/ramda\": \"0.28.15\",\r\n        \"@types/sharp\": \"0.30.4\",\r\n        \"@types/supertest\": \"2.0.12\",\r\n        \"@types/ua-parser-js\": \"0.7.36\",\r\n        \"@types/uuid\": \"8.3.4\",\r\n        \"@vercel/nft\": \"0.21.0\",\r\n        \"dotenv\": \"16.0.1\",\r\n        \"eslint\": \"8.20.0\",\r\n        \"eslint-config-prettier\": \"8.5.0\",\r\n        \"eslint-plugin-eslint-comments\": \"3.2.0\",\r\n        \"eslint-plugin-functional\": \"4.2.2\",\r\n        \"eslint-plugin-immutable\": \"1.0.0\",\r\n        \"eslint-plugin-node\": \"11.1.0\",\r\n        \"eslint-plugin-prettier\": \"4.2.1\",\r\n        \"husky\": \"8.0.1\",\r\n        \"prettier\": \"2.7.1\",\r\n        \"pretty-quick\": \"3.1.3\",\r\n        \"prisma\": \"4.1.0\",\r\n        \"release-it\": \"15.1.4\",\r\n        \"supertest\": \"6.2.4\",\r\n        \"ts-node\": \"10.9.1\",\r\n        \"typescript\": \"4.7.4\",\r\n        \"undici\": \"5.8.0\",\r\n        \"vitest\": \"0.19.1\"\r\n    },\r\n    \"scripts\": {\r\n        \"start\": \"NODE_OPTIONS='--es-module-specifier-resolution=node --loader ts-node/esm' nodemon --watch src -e js,ts,json -r dotenv/config src/server.ts --exec=\\\"yarn lint && node\\\"\",\r\n        \"lint\": \"eslint src\",\r\n        \"reloaddb\": \"bash reloaddb.sh\",\r\n        \"release\": \"set -a && source .env && set +a && release-it\",\r\n        \"prettier\": \"prettier --write src\",\r\n        \"build\": \"tsc\",\r\n        \"start:prod\": \"node --es-module-specifier-resolution=node build/server.js\",\r\n        \"execute:local\": \"node --es-module-specifier-resolution=node -r dotenv/config\",\r\n        \"execute\": \"node --es-module-specifier-resolution=node\",\r\n        \"prepare\": \"husky install\",\r\n        \"postinstall\": \"prisma generate\",\r\n        \"pretty-quick\": \"pretty-quick\",\r\n        \"test\": \"vitest\",\r\n        \"bundle\": \"node ./prepare-for-production.mjs\"\r\n    },\r\n    \"prettier\": {\r\n        \"printWidth\": 80,\r\n        \"trailingComma\": \"all\",\r\n        \"tabWidth\": 4,\r\n        \"singleQuote\": false,\r\n        \"bracketSpacing\": false,\r\n        \"useTabs\": false,\r\n        \"bracketSameLine\": false,\r\n        \"arrowParens\": \"always\",\r\n        \"semi\": true,\r\n        \"quoteProps\": \"as-needed\"\r\n    },\r\n    \"release-it\": {\r\n        \"git\": {\r\n            \"commit\": true,\r\n            \"tag\": true,\r\n            \"push\": true\r\n        },\r\n        \"github\": {\r\n            \"release\": true\r\n        },\r\n        \"npm\": {\r\n            \"publish\": false\r\n        },\r\n        \"hooks\": {\r\n            \"before:init\": [\r\n                \"yarn lint\",\r\n                \"tsc --noEmit\"\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\nMacOs 12.5",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1848/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1848/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1844",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1844/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1844/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1844/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1844",
        "id": 1314351544,
        "node_id": "I_kwDOAlTKGc5OV2m4",
        "number": 1844,
        "title": "SWC doesn't behave the same when it comes to symbol properties with experimental decorators",
        "user": {
          "login": "CMCDragonkai",
          "id": 640797,
          "node_id": "MDQ6VXNlcjY0MDc5Nw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/640797?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/CMCDragonkai",
          "html_url": "https://github.com/CMCDragonkai",
          "followers_url": "https://api.github.com/users/CMCDragonkai/followers",
          "following_url": "https://api.github.com/users/CMCDragonkai/following{/other_user}",
          "gists_url": "https://api.github.com/users/CMCDragonkai/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/CMCDragonkai/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/CMCDragonkai/subscriptions",
          "organizations_url": "https://api.github.com/users/CMCDragonkai/orgs",
          "repos_url": "https://api.github.com/users/CMCDragonkai/repos",
          "events_url": "https://api.github.com/users/CMCDragonkai/events{/privacy}",
          "received_events_url": "https://api.github.com/users/CMCDragonkai/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 293610454,
            "node_id": "MDU6TGFiZWwyOTM2MTA0NTQ=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/external",
            "name": "external",
            "color": "207de5",
            "default": false,
            "description": ""
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2022-07-22T05:55:54Z",
        "updated_at": "2022-07-25T14:33:27Z",
        "closed_at": "2022-07-25T14:33:27Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nDecorators and swc\r\n\r\n### Expected Behavior\r\n\r\nI've got an upstream project that sets symbol properties inside a class decorator.\r\n\r\nThe generated code looks like this:\r\n\r\n<details>\r\n\r\n```\r\nfunction CreateDestroy() {\r\n    return (constructor) => {\r\n        var _a, _b, _c;\r\n        const constructor_ = class extends constructor {\r\n            constructor() {\r\n                super(...arguments);\r\n                this[_a] = false;\r\n                this[_b] = null;\r\n                this[_c] = new async_locks_1.RWLockWriter();\r\n            }\r\n            get [(_a = utils_1._destroyed, _b = utils_1._status, _c = utils_1.initLock, utils_1.destroyed)]() {\r\n                return this[utils_1._destroyed];\r\n            }\r\n            get [utils_1.status]() {\r\n                return this[utils_1._status];\r\n            }\r\n            async destroy(...args) {\r\n                return this[utils_1.initLock].withWriteF(async () => {\r\n                    this[utils_1._status] = 'destroying';\r\n                    try {\r\n                        if (this[utils_1._destroyed]) {\r\n                            return;\r\n                        }\r\n                        let result;\r\n                        if (typeof super['destroy'] === 'function') {\r\n                            result = await super.destroy(...args);\r\n                        }\r\n                        this[utils_1._destroyed] = true;\r\n                        return result;\r\n                    }\r\n                    finally {\r\n                        this[utils_1._status] = null;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        // Preserve the name\r\n        Object.defineProperty(constructor_, 'name', Object.getOwnPropertyDescriptor(constructor, 'name'));\r\n        return constructor_;\r\n    };\r\n}\r\n```\r\n\r\n</details>\r\n\r\nThen I have code being executed under ts-node, which uses this decorator. The project has `experimentalDecorators: \"true\"` switched on.\r\n\r\nWith `swc`, it turns out that the decorator constructor itself is never executed. \r\n\r\nIf I put a `console.log('hello world');` underneath\r\n\r\n```\r\n                this[_c] = new async_locks_1.RWLockWriter();\r\n```\r\n\r\nThe message never shows.\r\n\r\nBut if I switch off `swc`, it does work, and I see the message being printed on the console.\r\n\r\nThis seems to mean that ts-node with swc isn't understanding decorated code, or perhaps swc itself doesn't know how to transpile with decorator code upstream.\r\n\r\n### Actual Behavior\r\n\r\nBecause the decorator constructor doesn't work, the actual behaviour is that I get undefined properties when attempting to access properties that the decorated constructor is supposed to set.\r\n\r\n### Steps to reproduce the problem\r\n\r\nGo to this PR: https://github.com/MatrixAI/js-workers/pull/4. Check out this commit: https://github.com/MatrixAI/js-workers/pull/4/commits/7c591cd3fb8c21700143fc28fd24b536ce05281d.\r\n\r\nThen try `npm run bench`.\r\n\r\nYou should see:\r\n\r\n```\r\n[nix-shell:~/Projects/js-workers]$ npm run bench\r\n\r\n> @matrixai/workers@1.3.4 bench\r\n> rimraf ./benches/results && ts-node ./benches\r\n\r\nWARN:WorkerManager Bench:Cores: 16\r\nTypeError: Cannot read properties of undefined (reading 'isLocked')\r\n    at WorkerManager.queue (/home/cmcdragonkai/Projects/js-workers/node_modules/@matrixai/async-init/src/CreateDestroy.ts:159:38)\r\n    at /home/cmcdragonkai/Projects/js-workers/benches/worker_manager.ts:54:23\r\n    at /home/cmcdragonkai/Projects/js-workers/node_modules/benny/lib/add.js:16:47\r\n    at Generator.next (<anonymous>)\r\n    at /home/cmcdragonkai/Projects/js-workers/node_modules/benny/lib/add.js:8:71\r\n    at new Promise (<anonymous>)\r\n    at __awaiter (/home/cmcdragonkai/Projects/js-workers/node_modules/benny/lib/add.js:4:12)\r\n    at prepareCaseFn (/home/cmcdragonkai/Projects/js-workers/node_modules/benny/lib/add.js:15:33)\r\n    at /home/cmcdragonkai/Projects/js-workers/node_modules/benny/lib/add.js:59:38\r\n    at Generator.next (<anonymous>)\r\n```\r\n\r\nAnd the property is undefined because the constructor doesn't get executed.\r\n\r\n### Specifications\r\n\r\n* ts-node version: v10.9.1\r\n* node version: v16.15.0\r\n* TypeScript version: v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./dist\",\r\n    \"tsBuildInfoFile\": \"./dist/tsbuildinfo\",\r\n    \"incremental\": true,\r\n    \"sourceMap\": true,\r\n    \"declaration\": true,\r\n    \"allowJs\": true,\r\n    \"strictNullChecks\": true,\r\n    \"noImplicitAny\": false,\r\n    \"experimentalDecorators\": true,\r\n    \"esModuleInterop\": true,\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"module\": \"CommonJS\",\r\n    \"target\": \"ES2021\",\r\n    \"baseUrl\": \"./src\",\r\n    \"paths\": {\r\n      \"@\": [\"index\"],\r\n      \"@/*\": [\"*\"]\r\n    },\r\n    \"noEmit\": true\r\n  },\r\n  \"include\": [\r\n    \"./src/**/*\",\r\n    \"./src/**/*.json\",\r\n    \"./tests/**/*\",\r\n    \"./scripts/**/*\",\r\n    \"./benches/**/*\"\r\n  ],\r\n  \"ts-node\": {\r\n    \"require\": [\"tsconfig-paths/register\"],\r\n    \"transpileOnly\": true,\r\n    \"swc\": true\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"@matrixai/workers\",\r\n  \"version\": \"1.3.4\",\r\n  \"author\": \"Roger Qiu\",\r\n  \"description\": \"Multithreaded Workers\",\r\n  \"license\": \"Apache-2.0\",\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"https://github.com/MatrixAI/js-workers.git\"\r\n  },\r\n  \"main\": \"dist/index.js\",\r\n  \"types\": \"dist/index.d.ts\",\r\n  \"scripts\": {\r\n    \"prepare\": \"tsc -p ./tsconfig.build.json\",\r\n    \"build\": \"rimraf ./dist && tsc -p ./tsconfig.build.json\",\r\n    \"postversion\": \"npm install --package-lock-only --ignore-scripts --silent\",\r\n    \"ts-node\": \"ts-node\",\r\n    \"test\": \"jest\",\r\n    \"lint\": \"eslint '{src,tests,scripts,benches}/**/*.{js,ts}'\",\r\n    \"lintfix\": \"eslint '{src,tests,scripts,benches}/**/*.{js,ts}' --fix\",\r\n    \"lint-shell\": \"find ./src ./tests ./scripts -type f -regextype posix-extended -regex '.*\\\\.(sh)' -exec shellcheck {} +\",\r\n    \"docs\": \"rimraf ./docs && typedoc --gitRevision master --tsconfig ./tsconfig.build.json --out ./docs src\",\r\n    \"bench\": \"rimraf ./benches/results && ts-node ./benches\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@matrixai/async-init\": \"^1.8.1\",\r\n    \"@matrixai/logger\": \"^3.0.0\",\r\n    \"@matrixai/errors\": \"^1.1.2\",\r\n    \"threads\": \"^1.6.5\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@swc/core\": \"^1.2.215\",\r\n    \"@types/jest\": \"^28.1.3\",\r\n    \"@types/node\": \"^16.11.7\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^5.23.0\",\r\n    \"@typescript-eslint/parser\": \"^5.23.0\",\r\n    \"benny\": \"^3.7.1\",\r\n    \"common-tags\": \"^1.8.2\",\r\n    \"eslint\": \"^8.15.0\",\r\n    \"eslint-config-prettier\": \"^8.5.0\",\r\n    \"eslint-plugin-import\": \"^2.26.0\",\r\n    \"eslint-plugin-prettier\": \"^4.0.0\",\r\n    \"jest\": \"^28.1.1\",\r\n    \"jest-junit\": \"^14.0.0\",\r\n    \"prettier\": \"^2.6.2\",\r\n    \"rimraf\": \"^3.0.2\",\r\n    \"systeminformation\": \"^5.12.1\",\r\n    \"ts-jest\": \"^28.0.5\",\r\n    \"ts-node\": \"^10.9.1\",\r\n    \"tsconfig-paths\": \"^3.9.0\",\r\n    \"typedoc\": \"^0.22.15\",\r\n    \"typescript\": \"^4.5.2\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: `Linux matrix-ml-1 5.10.118 #1-NixOS SMP Wed May 25 07:18:02 UTC 2022 x86_64 GNU/Linux`",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1844/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1844/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1839",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1839/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1839/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1839/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1839",
        "id": 1305897607,
        "node_id": "I_kwDOAlTKGc5N1mqH",
        "number": 1839,
        "title": "`ERR_LOADER_CHAIN_INCOMPLETE` issue with Node.js v18.6.0",
        "user": {
          "login": "brianjenkins94",
          "id": 9398474,
          "node_id": "MDQ6VXNlcjkzOTg0NzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9398474?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/brianjenkins94",
          "html_url": "https://github.com/brianjenkins94",
          "followers_url": "https://api.github.com/users/brianjenkins94/followers",
          "following_url": "https://api.github.com/users/brianjenkins94/following{/other_user}",
          "gists_url": "https://api.github.com/users/brianjenkins94/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/brianjenkins94/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/brianjenkins94/subscriptions",
          "organizations_url": "https://api.github.com/users/brianjenkins94/orgs",
          "repos_url": "https://api.github.com/users/brianjenkins94/repos",
          "events_url": "https://api.github.com/users/brianjenkins94/events{/privacy}",
          "received_events_url": "https://api.github.com/users/brianjenkins94/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 293610454,
            "node_id": "MDU6TGFiZWwyOTM2MTA0NTQ=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/external",
            "name": "external",
            "color": "207de5",
            "default": false,
            "description": ""
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 15,
        "created_at": "2022-07-15T11:01:20Z",
        "updated_at": "2022-10-23T07:23:47Z",
        "closed_at": "2022-07-18T13:01:11Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Originating issue: https://github.com/cypress-io/cypress/issues/22795\r\n\r\n### Search Terms\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n`ERR_LOADER_CHAIN_INCOMPLETE`, `cypress`\r\n\r\n### Expected Behavior\r\n\r\nDon't short circuit on `resolve`? Although @cspotcode [indicated that this might be a red herring](https://github.com/cypress-io/cypress/issues/22795#issuecomment-1184613764).\r\n\r\n### Actual Behavior\r\n\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\nWorking on a minimal sample that doesn't include Cypress...\r\n\r\n### Minimal reproduction\r\n\r\nWorking on a minimal sample that doesn't include Cypress...\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.9.1\r\n* node version: v18.6.0\r\n* TypeScript version: v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n\r\nSo far I've only seen the issue occur on Linux in CI, not Windows.\r\n\r\nThis is from the GitLab runner (Docker):\r\n\r\n```\r\n$ uname -a\r\nLinux runner-jiyxuj1z-project-3385-concurrent-0 5.10.16.3-microsoft-standard-WSL2 #1 SMP Fri Apr 2 22:23:49 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n$ npx ts-node -vvv\r\nts-node v10.9.1 /project/node_modules/ts-node\r\nnode v18.6.0\r\ncompiler v4.7.4 /project/node_modules/typescript/lib/typescript.js\r\n```",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1839/reactions",
          "total_count": 3,
          "+1": 3,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1839/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1833",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1833/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1833/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1833/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1833",
        "id": 1300686916,
        "node_id": "I_kwDOAlTKGc5NhuhE",
        "number": 1833,
        "title": "ts-node esm not working with package \"type\": \"module\" - Cannot find module",
        "user": {
          "login": "NikolayMakhonin",
          "id": 12973901,
          "node_id": "MDQ6VXNlcjEyOTczOTAx",
          "avatar_url": "https://avatars.githubusercontent.com/u/12973901?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/NikolayMakhonin",
          "html_url": "https://github.com/NikolayMakhonin",
          "followers_url": "https://api.github.com/users/NikolayMakhonin/followers",
          "following_url": "https://api.github.com/users/NikolayMakhonin/following{/other_user}",
          "gists_url": "https://api.github.com/users/NikolayMakhonin/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/NikolayMakhonin/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/NikolayMakhonin/subscriptions",
          "organizations_url": "https://api.github.com/users/NikolayMakhonin/orgs",
          "repos_url": "https://api.github.com/users/NikolayMakhonin/repos",
          "events_url": "https://api.github.com/users/NikolayMakhonin/events{/privacy}",
          "received_events_url": "https://api.github.com/users/NikolayMakhonin/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2022-07-11T13:07:25Z",
        "updated_at": "2023-09-15T02:39:29Z",
        "closed_at": "2022-07-11T14:13:59Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nesm with package type module. CustomError: Cannot find module\r\n\r\nTS2835, TS2691\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nIt should work with es modules without errors.\r\n\r\n### Actual Behavior\r\n\r\n```\r\nC:\\Users\\Admin\\AppData\\Roaming\\npm\\pnpm.cmd test\r\n\r\n> ts-node-issue@1.0.0 test D:\\projects\\-temp\\ts-node-issue\r\n> ts-node-esm src/index.ts\r\n\r\nD:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resolve.js:366\r\n    throw new ERR_MODULE_NOT_FOUND(\r\n          ^\r\nCustomError: Cannot find module 'D:\\projects\\-temp\\ts-node-issue\\src\\test' imported from D:\\projects\\-temp\\ts-node-issue\\src\\index.ts\r\n    at finalizeResolution (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resol\r\nve.js:366:11)\r\n    at moduleResolve (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-resolve.js\r\n:801:10)\r\n    at Object.defaultResolve (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\dist-raw\\node-internal-modules-esm-re\r\nsolve.js:912:11)\r\n    at D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\src\\esm.ts:218:35\r\n    at entrypointFallback (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\src\\esm.ts:168:34)\r\n    at D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\src\\esm.ts:217:14\r\n    at addShortCircuitFlag (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\src\\esm.ts:409:21)\r\n    at resolve (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\src\\esm.ts:197:12)\r\n    at resolve (D:\\projects\\-temp\\ts-node-issue\\node_modules\\.pnpm\\ts-node@10.8.2_fxk5i3xm3ivo7fjwhcizcinpla\\node_modules\\ts-node\\src\\child\\child-loader.ts:15:39)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:580:30)\r\n ELIFECYCLE  Test failed. See above for more details.\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nClone [my repo](https://github.com/NikolayMakhonin/ts-node-issue) and run `npm test`\r\n\r\n### Minimal reproduction\r\n\r\nMy repo is very minimal\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: **10.8.2**\r\n* node version: **16.15.1**\r\n* TypeScript version: **4.7.4**\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"ts-node\": {\r\n    \"esm\": true\r\n  },\r\n  \"compilerOptions\": {\r\n    \"target\": \"ESNext\",\r\n    \"module\": \"ESNext\",\r\n    \"moduleResolution\": \"Node\",\r\n    \"lib\": [\"ESNext\"]\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"ts-node-issue\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"test\": \"ts-node-esm src/index.ts\"\r\n  },\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"devDependencies\": {\r\n    \"@types/node\": \"18.0.3\",\r\n    \"ts-node\": \"10.8.2\",\r\n    \"typescript\": \"4.7.4\"\r\n  }\r\n}\r\n```\r\n* Operating system and version: **Microsoft Windows [Version 10.0.19042.1165]**\r\n* If Windows, are you using WSL or WSL2?: **no**\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1833/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1833/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1832",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1832/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1832/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1832/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1832",
        "id": 1300110557,
        "node_id": "I_kwDOAlTKGc5Nfhzd",
        "number": 1832,
        "title": "ERR_UNSUPPORTED_DIR_IMPORT throwing in ESM package",
        "user": {
          "login": "donmccurdy",
          "id": 1848368,
          "node_id": "MDQ6VXNlcjE4NDgzNjg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1848368?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/donmccurdy",
          "html_url": "https://github.com/donmccurdy",
          "followers_url": "https://api.github.com/users/donmccurdy/followers",
          "following_url": "https://api.github.com/users/donmccurdy/following{/other_user}",
          "gists_url": "https://api.github.com/users/donmccurdy/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/donmccurdy/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/donmccurdy/subscriptions",
          "organizations_url": "https://api.github.com/users/donmccurdy/orgs",
          "repos_url": "https://api.github.com/users/donmccurdy/repos",
          "events_url": "https://api.github.com/users/donmccurdy/events{/privacy}",
          "received_events_url": "https://api.github.com/users/donmccurdy/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2022-07-11T02:07:12Z",
        "updated_at": "2024-03-14T12:06:57Z",
        "closed_at": "2022-07-22T18:27:53Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nava, ESM, ERR_UNSUPPORTED_DIR_IMPORT, typescript, tape\r\n\r\n### Expected Behavior\r\n\r\nI'm converting TypeScript packages I maintain to be ESM-only. In the process, I'm switching from running tests with tsnode+tape to tsnode+ava. I use microbundle to build the package itself, output to a dist folder, and I have a root `package.json` file that points to that output. Tests in a './test/' directory import from the parent directory like this:\r\n\r\n```javascript\r\nimport packageToTest from '../'\r\n\r\n// ... run tests\r\n```\r\n\r\nPreviously this worked correctly — VSCode doesn't complain about the import, ts-node resolves the import, and the tests pass. \r\n\r\n### Actual Behavior\r\n\r\nAfter switching to Ava + ESM, VSCode is still fine with the import, but the imports no longer resolve in ts-node and I see the following error:\r\n\r\n```\r\nava test/*.ts | tap-spec\r\n(node:60823) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n      Uncaught exception in test/index.test.ts\r\n      Error: ERR_UNSUPPORTED_DIR_IMPORT /Users/donmccurdy/Documents/Projects/typescript-library-template/ /Users/donmccurdy/Documents/Projects/typescript-library-template/test/index.test.ts\r\n      › finalizeResolution (node_modules/ts-node/dist-raw/node-internal-modules-esm-resolve.js:362:17)\r\n      › moduleResolve (node_modules/ts-node/dist-raw/node-internal-modules-esm-resolve.js:801:10)\r\n      › Object.defaultResolve (node_modules/ts-node/dist-raw/node-internal-modules-esm-resolve.js:912:11)\r\n      › node_modules/ts-node/src/esm.ts:218:35\r\n      › entrypointFallback (node_modules/ts-node/src/esm.ts:168:34)\r\n      › node_modules/ts-node/src/esm.ts:217:14\r\n      › addShortCircuitFlag (node_modules/ts-node/src/esm.ts:409:21)\r\n      › resolve (node_modules/ts-node/src/esm.ts:197:12)\r\n      ✖ test/index.test.ts exited with a non-zero exit code: 1\r\n      ─\r\n      1 uncaught exception\r\n\r\n\r\nerror Command failed with exit code 1.\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\nThe `typescript-library-template` package is a template repository, basically the boilerplate used in my other projects. Attached below is the PR attempting to switch the project to tsnode+Ava:\r\n\r\nhttps://github.com/donmccurdy/typescript-library-template/pull/4\r\n\r\nI've tried to follow https://typestrong.org/ts-node/docs/recipes/ava/ and https://github.com/avajs/ava/blob/main/docs/recipes/typescript.md#for-packages-with-type-module ... those guides don't quite match but I did try a few variations.\r\n\r\n### Minimal reproduction\r\n\r\nSee link above.\r\n\r\n### Specifications\r\n\r\n- ts-node: v10.8.2\r\n- node: v18.5.0\r\n- compiler: v4.7.4\r\n- os: macOS\r\n\r\n<details>\r\n\r\n<summary><b>tsconfig.json</b></summary>\r\n\r\n```\r\n{\r\n\t\"compilerOptions\": {\r\n\t\t\"moduleResolution\": \"node\",\r\n\t\t\"module\": \"es2020\",\r\n\t\t\"lib\": [\"es2020\"],\r\n\t\t\"target\": \"es2020\",\r\n\t\t\"declaration\": true,\r\n\t\t\"typeRoots\": [\"node_modules/@types\"],\r\n\t\t\"strict\": true\r\n\t}\r\n}\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n\r\n<summary><b>package.json</b></summary>\r\n\r\n```\r\n{\r\n  \"name\": \"my-package\",\r\n  \"version\": \"0.0.0\",\r\n  \"description\": \"my-package\",\r\n  \"type\": \"module\",\r\n  \"sideEffects\": false,\r\n  \"source\": \"./src/index.ts\",\r\n  \"exports\": \"./dist/my-package.modern.js\",\r\n  \"types\": \"./dist/index.d.ts\",\r\n  \"repository\": \"github:donmccurdy/my-package\",\r\n  \"author\": \"Don McCurdy <dm@donmccurdy.com>\",\r\n  \"license\": \"MIT\",\r\n  \"scripts\": {\r\n    \"dist\": \"microbundle --format modern --define PACKAGE_VERSION=$npm_package_version\",\r\n    \"watch\": \"microbundle watch --format modern --define PACKAGE_VERSION=$npm_package_version\",\r\n    \"watch:debug\": \"microbundle watch --no-compress --format modern --define PACKAGE_VERSION=$npm_package_version\",\r\n    \"test\": \"ava test/*.ts | tap-spec\",\r\n    \"coverage\": \"nyc --reporter=lcov --reporter=text ava test/*.ts\",\r\n    \"coverage:report\": \"nyc report --reporter=text-lcov > .nyc_output/coverage.lcov\",\r\n    \"preversion\": \"yarn dist && yarn test\",\r\n    \"version\": \"rimraf dist/* && yarn dist && git add -u\",\r\n    \"postversion\": \"git push && git push --tags && npm publish && yarn coverage:report\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@typescript-eslint/eslint-plugin\": \"5.30.5\",\r\n    \"ava\": \"^4.3.1\",\r\n    \"eslint\": \"8.19.0\",\r\n    \"eslint-config-prettier\": \"8.5.0\",\r\n    \"microbundle\": \"0.15.0\",\r\n    \"nyc\": \"15.1.0\",\r\n    \"prettier\": \"2.7.1\",\r\n    \"rimraf\": \"^3.0.2\",\r\n    \"tap-spec\": \"5.0.0\",\r\n    \"ts-node\": \"^10.8.2\",\r\n    \"typescript\": \"4.7.4\"\r\n  },\r\n  \"files\": [\r\n    \"dist/\",\r\n    \"src/\",\r\n    \"README.md\",\r\n    \"LICENSE\",\r\n    \"package.json\"\r\n  ],\r\n  \"ava\": {\r\n    \"extensions\": {\r\n      \"ts\": \"module\"\r\n    },\r\n    \"nodeArguments\": [\r\n      \"--loader=ts-node/esm\"\r\n    ]\r\n  }\r\n}\r\n\r\n```\r\n\r\n</details>\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1832/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1832/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1829",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1829/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1829/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1829/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1829",
        "id": 1299815033,
        "node_id": "I_kwDOAlTKGc5NeZp5",
        "number": 1829,
        "title": "Make --project accept path to directory containing tsconfig, not just path to tsconfig",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/16",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16/labels",
          "id": 8155739,
          "node_id": "MI_kwDOAlTKGc4AfHJb",
          "number": 16,
          "title": "10.9.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 12,
          "state": "closed",
          "created_at": "2022-07-02T16:20:20Z",
          "updated_at": "2022-07-13T20:21:29Z",
          "due_on": null,
          "closed_at": "2022-07-13T20:21:29Z"
        },
        "comments": 0,
        "created_at": "2022-07-10T03:04:47Z",
        "updated_at": "2022-07-10T14:16:13Z",
        "closed_at": "2022-07-10T14:16:13Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Should accept a path to a directory, and know that you are referring to the tsconfig contained in that directory.\r\n\r\ntsc allows this, and I'm not sure why we don't.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1829/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1829/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1826",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1826/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1826/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1826/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1826",
        "id": 1292175687,
        "node_id": "I_kwDOAlTKGc5NBQlH",
        "number": 1826,
        "title": "ERR_MODULE_NOT_FOUND cannot find child-loader.mjs with yarn 3.2.1 workspaces monorepo",
        "user": {
          "login": "CarlosBalladares",
          "id": 14811752,
          "node_id": "MDQ6VXNlcjE0ODExNzUy",
          "avatar_url": "https://avatars.githubusercontent.com/u/14811752?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/CarlosBalladares",
          "html_url": "https://github.com/CarlosBalladares",
          "followers_url": "https://api.github.com/users/CarlosBalladares/followers",
          "following_url": "https://api.github.com/users/CarlosBalladares/following{/other_user}",
          "gists_url": "https://api.github.com/users/CarlosBalladares/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/CarlosBalladares/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/CarlosBalladares/subscriptions",
          "organizations_url": "https://api.github.com/users/CarlosBalladares/orgs",
          "repos_url": "https://api.github.com/users/CarlosBalladares/repos",
          "events_url": "https://api.github.com/users/CarlosBalladares/events{/privacy}",
          "received_events_url": "https://api.github.com/users/CarlosBalladares/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2022-07-03T01:02:05Z",
        "updated_at": "2023-05-08T07:20:43Z",
        "closed_at": "2022-07-03T15:27:02Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nyarn 3 ts-node esm cannot find module child-loader.mjs es modules support monorepo pnp\r\nError [ERR_MODULE_NOT_FOUND] Cannot find module \r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nscript should run and print hello world, should be the same as building and running typescript build output,\r\n\r\n\r\n### Actual Behavior\r\nERR_MODULE_NOT_FOUND error is thrown \r\n```\r\n$ yarn workspace pkg-1 dev\r\nnode:internal/process/esm_loader:94\r\n    internalBinding('errors').triggerUncaughtException(\r\n                              ^\r\n\r\nError [ERR_MODULE_NOT_FOUND]: Cannot find module 'D:\\code2\\test\\.yarn\\__virtual__\\ts-node-virtual-8d6857a21a\\0\\cache\\ts-node-npm-10.8.2-f3c0c9eaee-1eede939be.zip\\node_modules\\ts-node\\child-loader.mjs' imported from D:\\code2\\test\\packages\\pkg-1\\  \r\nDid you mean to import D:/code2/test/.yarn/__virtual__/ts-node-virtual-8d6857a21a/0/cache/ts-node-npm-10.8.2-f3c0c9eaee-1eede939be.zip/node_modules/ts-node/child-loader.mjs?\r\n    at new NodeError (node:internal/errors:371:5)\r\n    at finalizeResolution (node:internal/modules/esm/resolve:418:11)\r\n    at moduleResolve (node:internal/modules/esm/resolve:981:10)\r\n    at defaultResolve (node:internal/modules/esm/resolve:1078:11)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:530:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:251:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:332:22)\r\n    at initializeLoader (node:internal/process/esm_loader:74:49)\r\n    at loadESM (node:internal/process/esm_loader:87:11)\r\n    at runMainESM (node:internal/modules/run_main:51:21) {\r\n  code: 'ERR_MODULE_NOT_FOUND'\r\n}\r\n\r\n```\r\n\r\n### Steps to reproduce the problem\r\n\r\n1 crate a yarn workspace repo where a package runs ts-node with --esm flag from a script (similar to [this example](https://github.com/CarlosBalladares/esm-ts-node-bug-repro))\r\n2 run on root folder`yarn && yarn workspace pkg-1 dev`\r\n3 observe the console output \r\n\r\nother notes:\r\nI used the workspace ts version but this should not be related to running the script. \r\n\r\n### Minimal reproduction\r\n\r\nclone https://github.com/CarlosBalladares/esm-ts-node-bug-repro\r\nrun `yarn && yarn workspace pkg-1 dev`\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.8.2\r\n* node version: 16.14.0\r\n* TypeScript version: 4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2016\" /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */,\r\n    \"module\": \"NodeNext\",\r\n    \"moduleResolution\": \"NodeNext\" /* Specify how TypeScript looks up a file from a given module specifier. */ /* Specify a file that bundles all outputs into one JavaScript file. If 'declaration' is true, also designates a file that bundles all .d.ts output. */,\r\n    \"outDir\": \"./build\" /* Specify an output folder for all emitted files. */,\r\n    \"esModuleInterop\": true /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables 'allowSyntheticDefaultImports' for type compatibility. */,\r\n    \"forceConsistentCasingInFileNames\": true /* Ensure that casing is correct in imports. */,\r\n    \"strict\": true /* Enable all strict type-checking options. */,\r\n    \"skipLibCheck\": true /* Skip type checking all .d.ts files. */\r\n  }\r\n}\r\n\r\n```\r\n* package.json:\r\n```\r\nworkspace folder\r\n{\r\n  \"name\": \"pkg-1\",\r\n  \"type\": \"module\",\r\n  \"packageManager\": \"yarn@3.2.1\",\r\n  \"devDependencies\": {\r\n    \"ts-node\": \"10.8.2\",\r\n    \"typescript\": \"^4.7.4\"\r\n  },\r\n  \"scripts\": {\r\n    \"prod\": \"node build/index.js\",\r\n    \"build\": \"tsc\",\r\n    \"dev\": \"ts-node --esm src/index.ts\"\r\n  }\r\n}\r\n\r\nroot folder\r\n\r\n{\r\n  \"name\": \"test\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.js\",\r\n  \"license\": \"MIT\",\r\n  \"packageManager\": \"yarn@3.2.1\",\r\n  \"workspaces\": [\r\n    \"packages/pkg-1\"\r\n  ],\r\n  \"devDependencies\": {\r\n    \"prettier\": \"^2.7.1\",\r\n    \"typescript\": \"^4.7.4\"\r\n  }\r\n}\r\n\r\n```\r\n* Operating system and version:\r\nWindows 10\r\n* If Windows, are you using WSL or WSL2?:\r\nno wsl",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1826/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1826/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1818",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1818/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1818/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1818/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1818",
        "id": 1291340480,
        "node_id": "I_kwDOAlTKGc5M-ErA",
        "number": 1818,
        "title": "Debugging in VS code shows 'ReferenceError', but the code executes correctly without errors - Unable to see object state",
        "user": {
          "login": "lukastanisic99",
          "id": 18447664,
          "node_id": "MDQ6VXNlcjE4NDQ3NjY0",
          "avatar_url": "https://avatars.githubusercontent.com/u/18447664?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lukastanisic99",
          "html_url": "https://github.com/lukastanisic99",
          "followers_url": "https://api.github.com/users/lukastanisic99/followers",
          "following_url": "https://api.github.com/users/lukastanisic99/following{/other_user}",
          "gists_url": "https://api.github.com/users/lukastanisic99/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lukastanisic99/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lukastanisic99/subscriptions",
          "organizations_url": "https://api.github.com/users/lukastanisic99/orgs",
          "repos_url": "https://api.github.com/users/lukastanisic99/repos",
          "events_url": "https://api.github.com/users/lukastanisic99/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lukastanisic99/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2022-07-01T12:22:21Z",
        "updated_at": "2022-10-11T08:14:54Z",
        "closed_at": "2022-07-03T00:46:10Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "It seems there's a visual bug when running the debugger with ts-node. There are no runtime errors and everything executes correctly, but imported variables/objects can't be observed in the VS code debugger. \r\nTake a look at the picture where it shows the 'ethers' object having an \"Uncaught ReferenceError\", while you can see the 'Greeter' object that's created through the 'ethers' object. \r\n![TS-Node](https://user-images.githubusercontent.com/18447664/176892433-c74ea19e-176b-46fb-889f-98381624c351.png)\r\n\r\nThe exact same object is fully visible when run directly in the node debugger as a javascript file. \r\n\r\n### Search Terms\r\ndebug \r\nUncaught ReferenceError\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nTo see object/variable state with methods the same way I see the 'Greeter' object in the picture\r\n\r\n\r\n### Actual Behavior\r\nVS code shows 'Uncaught ReferenceError' when I hover or watch over a variable, but the entire code executes without error. It seems it's just a 'visual' bug.\r\n\r\n\r\n### Steps to reproduce the problem\r\nUse the debug configuration given here:  https://github.com/TypeStrong/ts-node#visual-studio-code\r\nTry importing a node module and hovering/watching the imported object. \r\nIn my case I used:\r\nimport { ethers } from \"hardhat\";\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:v10.8.1\r\n* node version:v14.19.1\r\n* TypeScript version:v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\"compilerOptions\": {\r\n      \"target\": \"es2018\",\r\n      \"module\": \"commonjs\",\r\n      \"strict\": true,\r\n      \"esModuleInterop\": true,\r\n      \"outDir\": \"dist\",\r\n      \"declaration\": true,\r\n      \"sourceMap\": true,\r\n      \"allowJs\": true,\r\n      \"resolveJsonModule\": true\r\n    },\r\n    \"include\": [\"./src\"],}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"hardhat-project\",\r\n  \"devDependencies\": {\r\n    \"@nomiclabs/hardhat-ethers\": \"^2.0.6\",\r\n    \"@nomiclabs/hardhat-etherscan\": \"^3.1.0\",\r\n    \"@nomiclabs/hardhat-waffle\": \"^2.0.3\",\r\n    \"@typechain/ethers-v5\": \"^7.2.0\",\r\n    \"@typechain/hardhat\": \"^2.3.1\",\r\n    \"@types/chai\": \"^4.3.1\",\r\n    \"@types/mocha\": \"^9.1.1\",\r\n    \"@types/node\": \"^12.20.55\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^4.33.0\",\r\n    \"@typescript-eslint/parser\": \"^4.33.0\",\r\n    \"chai\": \"^4.3.6\",\r\n    \"dotenv\": \"^16.0.1\",\r\n    \"eslint\": \"^7.32.0\",\r\n    \"eslint-config-prettier\": \"^8.5.0\",\r\n    \"eslint-config-standard\": \"^16.0.3\",\r\n    \"eslint-plugin-import\": \"^2.26.0\",\r\n    \"eslint-plugin-node\": \"^11.1.0\",\r\n    \"eslint-plugin-prettier\": \"^3.4.1\",\r\n    \"eslint-plugin-promise\": \"^5.2.0\",\r\n    \"ethereum-waffle\": \"^3.4.4\",\r\n    \"ethers\": \"^5.6.9\",\r\n    \"hardhat\": \"^2.9.9\",\r\n    \"hardhat-gas-reporter\": \"^1.0.8\",\r\n    \"prettier\": \"^2.7.1\",\r\n    \"prettier-plugin-solidity\": \"^1.0.0-beta.19\",\r\n    \"solhint\": \"^3.3.7\",\r\n    \"solidity-coverage\": \"^0.7.21\",\r\n    \"ts-node\": \"^10.8.1\",\r\n    \"typechain\": \"^5.2.0\",\r\n    \"typescript\": \"^4.7.4\"\r\n  }}\r\n```\r\n* Operating system and version: Windows 10 Pro\r\n* If Windows, are you using WSL or WSL2?: WSL2\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1818/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1818/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1817",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1817/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1817/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1817/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1817",
        "id": 1285197527,
        "node_id": "I_kwDOAlTKGc5Mmo7X",
        "number": 1817,
        "title": "import assertions with swc transpiler",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/16",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16/labels",
          "id": 8155739,
          "node_id": "MI_kwDOAlTKGc4AfHJb",
          "number": 16,
          "title": "10.9.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 12,
          "state": "closed",
          "created_at": "2022-07-02T16:20:20Z",
          "updated_at": "2022-07-13T20:21:29Z",
          "due_on": null,
          "closed_at": "2022-07-13T20:21:29Z"
        },
        "comments": 0,
        "created_at": "2022-06-27T04:00:54Z",
        "updated_at": "2022-07-02T19:49:56Z",
        "closed_at": "2022-07-02T19:49:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "swc transpiler needs to be passed necessary flags to preserve import assertions.  Currently, it omits them from emit, which is wrong.\r\n\r\nMust pass two flags:\r\n\r\n```typescript\r\n{\r\n  jsc: {\r\n    parser: {\r\n      importAssertions: true\r\n    },\r\n    experimental: {\r\n      keepImportAssertions: true\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nReported in #1810.\r\n\r\nWill be fixed by #1802 ",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1817/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1817/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1812",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1812/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1812/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1812/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1812",
        "id": 1282409275,
        "node_id": "I_kwDOAlTKGc5McAM7",
        "number": 1812,
        "title": "ESM flag breaks NodeJS child process `fork`",
        "user": {
          "login": "devversion",
          "id": 4987015,
          "node_id": "MDQ6VXNlcjQ5ODcwMTU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4987015?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/devversion",
          "html_url": "https://github.com/devversion",
          "followers_url": "https://api.github.com/users/devversion/followers",
          "following_url": "https://api.github.com/users/devversion/following{/other_user}",
          "gists_url": "https://api.github.com/users/devversion/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/devversion/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/devversion/subscriptions",
          "organizations_url": "https://api.github.com/users/devversion/orgs",
          "repos_url": "https://api.github.com/users/devversion/repos",
          "events_url": "https://api.github.com/users/devversion/events{/privacy}",
          "received_events_url": "https://api.github.com/users/devversion/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/16",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16/labels",
          "id": 8155739,
          "node_id": "MI_kwDOAlTKGc4AfHJb",
          "number": 16,
          "title": "10.9.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 12,
          "state": "closed",
          "created_at": "2022-07-02T16:20:20Z",
          "updated_at": "2022-07-13T20:21:29Z",
          "due_on": null,
          "closed_at": "2022-07-13T20:21:29Z"
        },
        "comments": 6,
        "created_at": "2022-06-23T13:28:08Z",
        "updated_at": "2022-07-13T19:36:36Z",
        "closed_at": "2022-07-13T19:36:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nchild process, fork, esm, loader, brotli, config, exec argv, exec path\r\n\r\n### Expected Behavior\r\n\r\nSimilar to when running with `node --loader ts-node/esm` or plain `node`, the main process should be able to fork and execute other NodeJS scripts (not necessarily another TS file).\r\n\r\nWhen vanilla Node executes, the `execArgv` never contains the script entry-point, so that the `fork` can set the new script that is intended to be run.\r\n\r\n### Actual Behavior\r\n\r\nUsing the builtin NodeJS `fork` method does not work when running with `ts-node --esm` because the `process.execPath` and `process.execArgv` contain the brotli-base64 encoded config and the custom loader script. This is resulting in the same script being executed all the time, going into an infinite loop based on the script.\r\n\r\n### Steps to reproduce the problem\r\n\r\n1. Create a TS ESM file e.g. `.mts`\r\n2. Use NodeJS `fork` and try to load another file, e.g. a plain `worker.mjs` file\r\n3. Observe that the worker script is never executing, but instead the orignal `.mts` file is executed again, and so on.\r\n\r\n### Minimal reproduction\r\n\r\n1. Clone https://github.com/devversion/ts-node-esm-fork/tree/main\r\n2. Run `yarn test`\r\n\r\n### Specifications\r\n\r\n\r\n```\r\nts-node v10.8.1\r\nnode v16.14.2\r\ncompiler v4.7.4\r\nDone in 0.35s.\r\n```\r\n\r\n* Linux 64bit",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1812/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1812/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1809",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1809/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1809/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1809/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1809",
        "id": 1280474885,
        "node_id": "I_kwDOAlTKGc5MUn8F",
        "number": 1809,
        "title": "Support consuming Angular Package Format in favour of ESM import resolution ",
        "user": {
          "login": "magyargergo",
          "id": 11230420,
          "node_id": "MDQ6VXNlcjExMjMwNDIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/11230420?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/magyargergo",
          "html_url": "https://github.com/magyargergo",
          "followers_url": "https://api.github.com/users/magyargergo/followers",
          "following_url": "https://api.github.com/users/magyargergo/following{/other_user}",
          "gists_url": "https://api.github.com/users/magyargergo/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/magyargergo/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/magyargergo/subscriptions",
          "organizations_url": "https://api.github.com/users/magyargergo/orgs",
          "repos_url": "https://api.github.com/users/magyargergo/repos",
          "events_url": "https://api.github.com/users/magyargergo/events{/privacy}",
          "received_events_url": "https://api.github.com/users/magyargergo/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-06-22T16:21:10Z",
        "updated_at": "2022-06-26T21:38:57Z",
        "closed_at": "2022-06-26T21:38:57Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nafp support in esm resultion\r\n\r\n### Expected Behavior\r\nIt would be nice to specify other `package.json` attributes in `tsconfig` than just relying on the `main` attribute.\r\n\r\n### Actual Behavior\r\nThe following commit shows what changes are necessary to be done to reproduce this issue.\r\n- https://github.com/magyargergo/test-apf-with-ts-node/commit/25d122aed1548ed289f62667028b842d727fad4c\r\n\r\nThe problem happened after `ts-node` tried to resolve `@ionic/storage` package and instead of consuming the `index.js` from the `esm2015` folder it fell back to `CommonJs` and resolved the `bundles/ionic-storage.umd.js` file from `main` attribute in the `package.json`.\r\n\r\n### Steps to reproduce the problem\r\nRun `yarn prepare:app` once you clone my repo below.\r\n\r\n### Minimal reproduction\r\nhttps://github.com/magyargergo/test-apf-with-ts-node\r\n\r\n### Specifications\r\n\r\n| Package name        | Version |\r\n| ------------------- | ------- |\r\n| ts-node                    | 10.7.0    |\r\n| node                         | 16.14.0 |\r\n| TypeScript               | 4.6.2     |\r\n| angular                     | 13.3.0   |\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1809/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1809/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1808",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1808/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1808/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1808/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1808",
        "id": 1279598488,
        "node_id": "I_kwDOAlTKGc5MRR-Y",
        "number": 1808,
        "title": "Debug typescript file step into some function it jump to  js file",
        "user": {
          "login": "Archsx",
          "id": 21698481,
          "node_id": "MDQ6VXNlcjIxNjk4NDgx",
          "avatar_url": "https://avatars.githubusercontent.com/u/21698481?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Archsx",
          "html_url": "https://github.com/Archsx",
          "followers_url": "https://api.github.com/users/Archsx/followers",
          "following_url": "https://api.github.com/users/Archsx/following{/other_user}",
          "gists_url": "https://api.github.com/users/Archsx/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Archsx/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Archsx/subscriptions",
          "organizations_url": "https://api.github.com/users/Archsx/orgs",
          "repos_url": "https://api.github.com/users/Archsx/repos",
          "events_url": "https://api.github.com/users/Archsx/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Archsx/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-06-22T06:07:00Z",
        "updated_at": "2022-06-22T12:16:18Z",
        "closed_at": "2022-06-22T12:16:18Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Description\r\n\r\nI'm using ts-node to debug some demo to learn, it works well except when I \"Step Into\" function and it jump to some js file , while I hope it can right locate the original TS file.\r\n\r\nif I use parcel with a index.html file instead , it can get correct function defined position. So maybe it's a bug about ts-node. maybe some issue with sourcemap? \r\n\r\n[question on stackoverflow](https://stackoverflow.com/questions/72707509/ts-node-debug-typescript-function-how-to-step-into-ts-file)  if it is more clear.\r\n\r\n### Search Terms\r\n\r\nts-node debug TypeScript file step into js file\r\nts-node sourcemap \r\n\r\n### Expected Behavior\r\n\r\nlocate the correct position in the original TS file\r\n\r\n### Actual Behavior\r\n\r\njump to some JS file\r\n\r\neg:  node_modules/rxjs/dist/cjs/index.js\r\n\r\n### Steps to reproduce the problem\r\n1> add a breakpoint\r\n2> press Debug button\r\n3> press step into button\r\n\r\n### Minimal reproduction\r\n\r\n\r\n[codesandbox](https://codesandbox.io/s/silly-leftpad-672srg) if needed\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.1.0\r\n* node version: v16.15.1\r\n* TypeScript version: v4.7.4\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2022\",\r\n    \"module\": \"CommonJS\",\r\n    \"sourceMap\": true,\r\n    \"strict\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"forceConsistentCasingInFileNames\": true\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"debugrxjs\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"git+https://github.com/Archsx/debug-rxjs.git\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"bugs\": {\r\n    \"url\": \"https://github.com/Archsx/debug-rxjs/issues\"\r\n  },\r\n  \"homepage\": \"https://github.com/Archsx/debug-rxjs#readme\",\r\n  \"dependencies\": {\r\n    \"rxjs\": \"^7.5.5\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"ts-node\": \"^10.8.1\",\r\n    \"typescript\": \"^4.7.4\"\r\n  }\r\n}\r\n```\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1808/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1808/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1800",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1800/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1800/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1800/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1800",
        "id": 1275071205,
        "node_id": "I_kwDOAlTKGc5MAArl",
        "number": 1800,
        "title": "Unable to set swc option for automatic react runtime",
        "user": {
          "login": "ShravanSunder",
          "id": 5294949,
          "node_id": "MDQ6VXNlcjUyOTQ5NDk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5294949?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ShravanSunder",
          "html_url": "https://github.com/ShravanSunder",
          "followers_url": "https://api.github.com/users/ShravanSunder/followers",
          "following_url": "https://api.github.com/users/ShravanSunder/following{/other_user}",
          "gists_url": "https://api.github.com/users/ShravanSunder/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ShravanSunder/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ShravanSunder/subscriptions",
          "organizations_url": "https://api.github.com/users/ShravanSunder/orgs",
          "repos_url": "https://api.github.com/users/ShravanSunder/repos",
          "events_url": "https://api.github.com/users/ShravanSunder/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ShravanSunder/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/16",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16/labels",
          "id": 8155739,
          "node_id": "MI_kwDOAlTKGc4AfHJb",
          "number": 16,
          "title": "10.9.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 12,
          "state": "closed",
          "created_at": "2022-07-02T16:20:20Z",
          "updated_at": "2022-07-13T20:21:29Z",
          "due_on": null,
          "closed_at": "2022-07-13T20:21:29Z"
        },
        "comments": 14,
        "created_at": "2022-06-17T14:02:42Z",
        "updated_at": "2022-07-06T13:57:48Z",
        "closed_at": "2022-07-02T19:49:56Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nswc options, swc runtime, react automatic\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nThere is no way to set swc to use automatic run time in react:\r\nIts not part of the transpiler configs thats passed into swc\r\n- https://github.com/TypeStrong/ts-node/blob/main/src/transpilers/swc.ts\r\n- https://swc.rs/docs/configuration/compilation#jsctransformreactruntime\r\n\r\n\r\n### Actual Behavior\r\n- react 18 with automatic runtime is not supported\r\n- i'm currently using ts-node to run tests:  https://github.com/scaffold-eth/eth-hooks\r\n\r\n\r\n### Steps to reproduce the problem\r\n- download repo:  https://github.com/scaffold-eth/eth-hooks\r\n- change tsconifg.test.json to use `swc: true`\r\n\r\n\r\n### Minimal reproduction\r\n- https://github.com/scaffold-eth/eth-hooks\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: latest\r\n* node version: 16\r\n* TypeScript version: 4.7\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"extends\": \"./tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"module\": \"commonjs\",\r\n    \"esModuleInterop\": true\r\n  },\r\n  \"files\": [\"hardhat.config.ts\"],\r\n  \"ts-node\": {\r\n    \"swc\": true,\r\n\r\n    \"compilerOptions\": {\r\n      \"module\": \"CommonJS\"\r\n    },\r\n    \"moduleTypes\": {\r\n      \"**/*\": \"cjs\"\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version: mac, latest\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1800/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1800/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1797",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1797/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1797/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1797/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1797",
        "id": 1272373378,
        "node_id": "I_kwDOAlTKGc5L1uCC",
        "number": 1797,
        "title": "10.8.1 regression - sourcemaps are invalid resulting in an unusable debugger",
        "user": {
          "login": "LiamAttClarke",
          "id": 9361948,
          "node_id": "MDQ6VXNlcjkzNjE5NDg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9361948?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/LiamAttClarke",
          "html_url": "https://github.com/LiamAttClarke",
          "followers_url": "https://api.github.com/users/LiamAttClarke/followers",
          "following_url": "https://api.github.com/users/LiamAttClarke/following{/other_user}",
          "gists_url": "https://api.github.com/users/LiamAttClarke/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/LiamAttClarke/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/LiamAttClarke/subscriptions",
          "organizations_url": "https://api.github.com/users/LiamAttClarke/orgs",
          "repos_url": "https://api.github.com/users/LiamAttClarke/repos",
          "events_url": "https://api.github.com/users/LiamAttClarke/events{/privacy}",
          "received_events_url": "https://api.github.com/users/LiamAttClarke/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/15",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/15",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/15/labels",
          "id": 8047471,
          "node_id": "MI_kwDOAlTKGc4Aestv",
          "number": 15,
          "title": "10.8.2",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 5,
          "state": "closed",
          "created_at": "2022-06-03T18:05:42Z",
          "updated_at": "2022-07-02T19:45:11Z",
          "due_on": null,
          "closed_at": "2022-07-02T19:45:11Z"
        },
        "comments": 4,
        "created_at": "2022-06-15T15:04:39Z",
        "updated_at": "2023-07-26T23:28:08Z",
        "closed_at": "2022-07-02T16:50:04Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n- source maps\r\n- debugger\r\n- 10.8.1\r\n\r\n### Expected Behavior\r\n\r\nDebugger should be able to set breakpoints in source `.ts` files that map correctly to the transpiled code generated by `ts-node`. \r\n\r\n### Actual Behavior\r\n\r\nBreakpoints set in source files are not being registered on correct lines in the transpiled js.\r\n\r\nNOTE: This issue is a regression in `10.8.1`, tested `10.8.0` with no issues.\r\n\r\n### Steps to reproduce the problem\r\n\r\n1. Install ts-node@10.8.1\r\n```\r\nnpm install ts-node@10.8.1\r\n```\r\n2.  Launch node with the debugger port open:\r\n```\r\nnode --inspect=0.0.0.0:9229 -r ts-node/register ./src/main.ts\r\n```\r\n3. Set breakpoint in source file (I set mine via VSCode)\r\n4. Attempt to hit breakpoint\r\n\r\n### Minimal reproduction\r\n\r\nPosting without reproduction for now. Will update with minimal example later in the day.\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.8.1\r\n* node version: v16.14.0\r\n* TypeScript version: 4.7.2\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"esnext\",\r\n    \"module\": \"commonjs\",\r\n    \"moduleResolution\": \"node\",\r\n    \"strict\": true,\r\n    \"useDefineForClassFields\": true,\r\n    \"esModuleInterop\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"noImplicitAny\": true,\r\n    \"sourceMap\": true,\r\n    \"typeRoots\": [\r\n      \"./node_modules/@types\",\r\n      \"./typings\"\r\n    ],\r\n    \"strictNullChecks\": false\r\n  },\r\n  \"include\": [\r\n    \"./src/**/*\",\r\n    \"./tests/**/*\"\r\n  ],\r\n  \"ts-node\": {\r\n    \"swc\": true,\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"dontworryaboutit\",\r\n  \"version\": \"0.0.1\",\r\n  \"description\": \"\",\r\n  \"license\": \"UNLICENSED\",\r\n  \"main\": \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"build\": \"tsc -p tsconfig.build.json\",\r\n    \"start\": \"node ./dist/src/main.js\",\r\n    \"start:dev\": \"node --inspect=0.0.0.0:9229 -r ts-node/register ./src/main.ts\",\r\n    \"start:watch\": \"nodemon\",\r\n    \"test\": \"ts-mocha -p tsconfig.json tests/**/*.spec.ts\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@googleapis/drive\": \"^2.3.0\",\r\n    \"@graphql-tools/load-files\": \"^6.5.3\",\r\n    \"@graphql-tools/merge\": \"^8.2.1\",\r\n    \"@graphql-tools/schema\": \"^8.3.1\",\r\n    \"@protobuf-ts/runtime\": \"^2.1.0\",\r\n    \"@types/jsdom\": \"^16.2.14\",\r\n    \"amqplib\": \"^0.9.0\",\r\n    \"axios\": \"^0.26.1\",\r\n    \"cypher-query-builder\": \"^6.0.4\",\r\n    \"dropbox\": \"^10.29.0\",\r\n    \"exponential-backoff\": \"^3.1.0\",\r\n    \"express\": \"^4.17.2\",\r\n    \"express-graphql\": \"^0.12.0\",\r\n    \"gm\": \"^1.23.1\",\r\n    \"graphql\": \"^16.2.0\",\r\n    \"inkscape\": \"^3.1.1\",\r\n    \"jsdom\": \"^19.0.0\",\r\n    \"mime-types\": \"^2.1.35\",\r\n    \"mkdirp\": \"^1.0.4\",\r\n    \"sharp\": \"^0.30.4\",\r\n    \"ssh2-sftp-client\": \"^8.1.0\",\r\n    \"svgson\": \"^5.2.1\",\r\n    \"ts-node\": \"10.8.0\",\r\n    \"uuid\": \"^8.3.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@swc/core\": \"^1.2.194\",\r\n    \"@swc/helpers\": \"^0.3.16\",\r\n    \"@types/amqplib\": \"^0\",\r\n    \"@types/chai\": \"^4\",\r\n    \"@types/express\": \"^4\",\r\n    \"@types/gm\": \"^1\",\r\n    \"@types/mime-types\": \"^2\",\r\n    \"@types/mkdirp\": \"^1.0.2\",\r\n    \"@types/mocha\": \"^9\",\r\n    \"@types/node\": \"^17.0.8\",\r\n    \"@types/sharp\": \"^0\",\r\n    \"@types/ssh2-sftp-client\": \"^7.0.1\",\r\n    \"@types/uuid\": \"^8\",\r\n    \"chai\": \"^4.3.4\",\r\n    \"mocha\": \"^9.1.3\",\r\n    \"nodemon\": \"^2.0.15\",\r\n    \"regenerator-runtime\": \"^0.13.9\",\r\n    \"ts-mocha\": \"^9.0.2\",\r\n    \"tslib\": \"^2.3.1\",\r\n    \"typescript\": \"^4.5.4\"\r\n  }\r\n}\r\n\r\n```\r\n* Operating system and version: Windows 11 Pro (21H2)\r\n* If Windows, are you using WSL or WSL2?: WSL2\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1797/reactions",
          "total_count": 3,
          "+1": 3,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1797/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1796",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1796/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1796/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1796/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1796",
        "id": 1268784988,
        "node_id": "I_kwDOAlTKGc5LoB9c",
        "number": 1796,
        "title": "Use .swcrc with the swc transpiler",
        "user": {
          "login": "davidtheclark",
          "id": 628431,
          "node_id": "MDQ6VXNlcjYyODQzMQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/628431?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/davidtheclark",
          "html_url": "https://github.com/davidtheclark",
          "followers_url": "https://api.github.com/users/davidtheclark/followers",
          "following_url": "https://api.github.com/users/davidtheclark/following{/other_user}",
          "gists_url": "https://api.github.com/users/davidtheclark/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/davidtheclark/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/davidtheclark/subscriptions",
          "organizations_url": "https://api.github.com/users/davidtheclark/orgs",
          "repos_url": "https://api.github.com/users/davidtheclark/repos",
          "events_url": "https://api.github.com/users/davidtheclark/events{/privacy}",
          "received_events_url": "https://api.github.com/users/davidtheclark/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2022-06-13T01:42:21Z",
        "updated_at": "2022-06-17T21:57:16Z",
        "closed_at": "2022-06-17T21:56:20Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Desired Behavior\r\n\r\nWhen I use the bundled swc transpiler, I'd like it to read configuration from my `.swcrc` file. Instead, [it looks like](https://github.com/TypeStrong/ts-node/blob/f34d87479b979fc2a9442f3f576893dcf6b620a8/src/transpilers/swc.ts#L66-L149) the plugin creates its own swc config based on ts-node's configuration. This means I need to put my swc configuration in two places, instead just in my `.swcrc` file.\r\n\r\n### Is this request related to a problem?\r\n\r\nJust configuration duplication.\r\n\r\n<!-- Describe the problem, for example: \"I'm always frustrated when ... \" -->\r\n\r\n### Alternatives you've considered\r\n\r\nUsing swc packages directly instead of ts-node's swc transpiler. But ts-node's source maps work in my context (VS Code debugger) and swc's do not (as far as I can tell), so I want to stick with ts-node.\r\n\r\n### Additional context\r\n\r\nts-node was complaining about `import` statements not being legal. It took me a bit to realize this meant it wasn't reading my `.swcrc` file, which specified `\"module\": { \"type\": \"commonjs\" } }`. To fix this, I set `TS_NODE_COMPILER_OPTIONS='{\"module\":\"commonjs\"}'`.\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1796/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1796/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1791",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1791/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1791/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1791/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1791",
        "id": 1264335396,
        "node_id": "I_kwDOAlTKGc5LXDok",
        "number": 1791,
        "title": "ERR_UNKNOWN_FILE_EXTENSION for tsconfig.json esm:true / NODE_OPTIONS works",
        "user": {
          "login": "zirkelc",
          "id": 950244,
          "node_id": "MDQ6VXNlcjk1MDI0NA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/950244?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/zirkelc",
          "html_url": "https://github.com/zirkelc",
          "followers_url": "https://api.github.com/users/zirkelc/followers",
          "following_url": "https://api.github.com/users/zirkelc/following{/other_user}",
          "gists_url": "https://api.github.com/users/zirkelc/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/zirkelc/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/zirkelc/subscriptions",
          "organizations_url": "https://api.github.com/users/zirkelc/orgs",
          "repos_url": "https://api.github.com/users/zirkelc/repos",
          "events_url": "https://api.github.com/users/zirkelc/events{/privacy}",
          "received_events_url": "https://api.github.com/users/zirkelc/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-06-08T07:44:54Z",
        "updated_at": "2022-06-08T10:52:40Z",
        "closed_at": "2022-06-08T10:52:40Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nESM\r\nNODE_OPTIONS\r\nTypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\"\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nI'm using ts-node as part of Serverless to read the `serverless.ts` configuration file in my project which is defined as ESM with  `\"type\": \"module\"` in package.json and `\"esm\": true` in tsconfig.json.\r\n\r\nSame behavior like `NODE_OPTIONS=\"--loader ts-node/esm\"`. \r\n\r\n### Actual Behavior\r\nIf I start the serverless CLI with `NODE_OPTIONS=\"--loader ts-node/esm\"`, it loads the `serverless.ts` without a problem. However, if I avoid the `NODE_OPTIONS` env, I get the following error: \r\n> TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\"\r\n\r\nts-node is used programmatically and registered as `require(tsNodePath).register();` and I can verify that the `tsNodePath` points to a locally installed package. Somehow, when it then comes to the following `await import('serverless.ts')` it crashes with this error.\r\n\r\n### Steps to reproduce the problem\r\n### Minimal reproduction\r\n\r\nSee repo: https://github.com/zirkelc/serverless-esm-test\r\n\r\nSteps to reproduce:\r\n1. clone repo\r\n2. npm install\r\n3. npx sls package \r\nthrows error `ERR_UNKNOWN_FILE_EXTENSION]`\r\n4. NODE_OPTIONS=\"--loader ts-node/esm\" npx sls package  \r\nno error\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\nts-node v10.8.1\r\nnode v16.13.0\r\ncompiler v4.7.3\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"extends\": \"@tsconfig/node16-strictest-esm/tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"moduleResolution\": \"node\",\r\n    \"sourceMap\": true,\r\n    \"outDir\": \"dist\",\r\n  },\r\n  \"include\": [\r\n    \"src/**/*.ts\",\r\n    \"serverless.ts\"\r\n  ],\r\n  \"exclude\": [\r\n    \"node_modules/**/*\",\r\n    \".serverless/**/*\",\r\n    \".webpack/**/*\",\r\n    \"_warmup/**/*\",\r\n    \".vscode/**/*\"\r\n  ],\r\n  \"ts-node\": {\r\n    \"esm\": true,\r\n  }\r\n}\r\n```\r\n* package.json:\r\n```\r\n{\r\n  \"name\": \"serverless-esm-test\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Serverless aws-nodejs-typescript template\",\r\n  \"main\": \"serverless.ts\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\r\n    \"sls:package\": \"nodemon --ext ts --exec \\\"npx sls package\\\"\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \">=14.15.0\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@middy/core\": \"^3.0.4\",\r\n    \"@middy/http-json-body-parser\": \"^3.0.4\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@serverless/typescript\": \"^3.18.0\",\r\n    \"@tsconfig/node16-strictest-esm\": \"^1.0.1\",\r\n    \"@types/aws-lambda\": \"^8.10.98\",\r\n    \"@types/node\": \"^17.0.40\",\r\n    \"esbuild\": \"^0.14.42\",\r\n    \"json-schema-to-ts\": \"^2.5.3\",\r\n    \"serverless\": \"github:zirkelc/serverless#add-esm-support-configuration\",\r\n    \"serverless-esbuild\": \"^1.30.0\",\r\n    \"ts-node\": \"^10.8.1\",\r\n    \"tsconfig-paths\": \"^4.0.0\",\r\n    \"typescript\": \"^4.7.3\"\r\n  },\r\n  \"author\": \"The serverless webpack authors (https://github.com/elastic-coders/serverless-webpack)\",\r\n  \"license\": \"MIT\"\r\n}\r\n\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\nmacOS\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1791/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1791/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1790",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1790/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1790/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1790/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1790",
        "id": 1263281015,
        "node_id": "I_kwDOAlTKGc5LTCN3",
        "number": 1790,
        "title": "10.8.1 regression - URL polluting relative file path",
        "user": {
          "login": "Jason3S",
          "id": 3740137,
          "node_id": "MDQ6VXNlcjM3NDAxMzc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3740137?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Jason3S",
          "html_url": "https://github.com/Jason3S",
          "followers_url": "https://api.github.com/users/Jason3S/followers",
          "following_url": "https://api.github.com/users/Jason3S/following{/other_user}",
          "gists_url": "https://api.github.com/users/Jason3S/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Jason3S/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Jason3S/subscriptions",
          "organizations_url": "https://api.github.com/users/Jason3S/orgs",
          "repos_url": "https://api.github.com/users/Jason3S/repos",
          "events_url": "https://api.github.com/users/Jason3S/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Jason3S/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/15",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/15",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/15/labels",
          "id": 8047471,
          "node_id": "MI_kwDOAlTKGc4Aestv",
          "number": 15,
          "title": "10.8.2",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 5,
          "state": "closed",
          "created_at": "2022-06-03T18:05:42Z",
          "updated_at": "2022-07-02T19:45:11Z",
          "due_on": null,
          "closed_at": "2022-07-02T19:45:11Z"
        },
        "comments": 14,
        "created_at": "2022-06-07T13:14:15Z",
        "updated_at": "2022-07-02T16:50:37Z",
        "closed_at": "2022-07-02T16:50:37Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "When upgrading from 10.8.0 to 10.8.1, coverage reports started breaking. \r\n\r\n**10.8.0**\r\n<img width=\"161\" alt=\"image\" src=\"https://user-images.githubusercontent.com/3740137/172387058-3cbf0ff1-2fe4-4a6d-b3ea-089a48955089.png\">\r\n\r\n**10.8.1**\r\n<img width=\"426\" alt=\"image\" src=\"https://user-images.githubusercontent.com/3740137/172387256-7a765f57-b509-4550-a234-cf46de961e2d.png\">\r\n\r\nI think this is related to [Use file URL for source map paths by PaperStrike · Pull Request #1771 · TypeStrong/ts-node](https://github.com/TypeStrong/ts-node/pull/1771)\r\n\r\n### Search Terms\r\n\r\n\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nThat generating coverage reports still work.\r\n\r\n### Actual Behavior\r\n\r\nCoverage reports are broken because they contain an absolute URL.\r\n\r\n\r\n### Steps to reproduce the problem\r\n\r\nGitHub Repo: [Jason3S/rx-stream](https://github.com/Jason3S/rx-stream)\r\n\r\n```sh\r\nnpm i\r\nnpm run coverage\r\ncat coverage/lcov.info\r\n```\r\n\r\n```sh\r\nnpm i -SD ts-node@10.8.1\r\nnpm run coverage\r\ncat coverage/lcov.info\r\n```\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version:\r\n* node version:\r\n* TypeScript version:\r\n* tsconfig.json, if you're using one:\r\n```\r\n{}\r\n```\r\n* package.json:\r\n```\r\n{}\r\n```\r\n* Operating system and version:\r\n* If Windows, are you using WSL or WSL2?:\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1790/reactions",
          "total_count": 10,
          "+1": 10,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1790/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1783",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1783/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1783/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1783/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1783",
        "id": 1255648620,
        "node_id": "I_kwDOAlTKGc5K161s",
        "number": 1783,
        "title": "Ts node is cropping argv",
        "user": {
          "login": "sebbi08",
          "id": 9070136,
          "node_id": "MDQ6VXNlcjkwNzAxMzY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9070136?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sebbi08",
          "html_url": "https://github.com/sebbi08",
          "followers_url": "https://api.github.com/users/sebbi08/followers",
          "following_url": "https://api.github.com/users/sebbi08/following{/other_user}",
          "gists_url": "https://api.github.com/users/sebbi08/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sebbi08/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sebbi08/subscriptions",
          "organizations_url": "https://api.github.com/users/sebbi08/orgs",
          "repos_url": "https://api.github.com/users/sebbi08/repos",
          "events_url": "https://api.github.com/users/sebbi08/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sebbi08/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-06-01T10:43:55Z",
        "updated_at": "2022-06-01T13:14:43Z",
        "closed_at": "2022-06-01T13:13:39Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nargv\r\n$ missing\r\nargv incomplete\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\nWhen i run a script with ts-node like\r\n\r\n`npx ts-node a.ts --test='123$123$123'`\r\n\r\nwith a.ts look like\r\n`console.log(process.argv)`\r\n\r\nthe console log shoud print\r\n\r\n```js\r\n[\r\n  '.../.nvm/versions/node/v16.13.2/bin/node',\r\n  '.../a.js',\r\n  '--test=123$123$123'\r\n]\r\n```\r\n\r\n### Actual Behavior\r\n\r\nthe output is.\r\n\r\n```js\r\n[\r\n  '.../.nvm/versions/node/v16.13.2/bin/node',\r\n  '.../a.js',\r\n  '--test=1232323'\r\n]\r\n```\r\nThe $ signs are removed from the output\r\n\r\n### Steps to reproduce the problem\r\n\r\nas described above\r\n\r\n\r\n\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\nts-node v10.7.0\r\nnode v16.13.2\r\ncompiler v4.6.3\r\n\r\n* Operating system and version: Mac OS 12.4\r\n\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1783/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1783/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1778",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1778/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1778/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1778/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1778",
        "id": 1253266473,
        "node_id": "I_kwDOAlTKGc5Ks1Qp",
        "number": 1778,
        "title": "Module nodenext is resolving to cjs build incorrectly",
        "user": {
          "login": "perrin4869",
          "id": 5774716,
          "node_id": "MDQ6VXNlcjU3NzQ3MTY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5774716?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/perrin4869",
          "html_url": "https://github.com/perrin4869",
          "followers_url": "https://api.github.com/users/perrin4869/followers",
          "following_url": "https://api.github.com/users/perrin4869/following{/other_user}",
          "gists_url": "https://api.github.com/users/perrin4869/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/perrin4869/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/perrin4869/subscriptions",
          "organizations_url": "https://api.github.com/users/perrin4869/orgs",
          "repos_url": "https://api.github.com/users/perrin4869/repos",
          "events_url": "https://api.github.com/users/perrin4869/events{/privacy}",
          "received_events_url": "https://api.github.com/users/perrin4869/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 236391278,
            "node_id": "MDU6TGFiZWwyMzYzOTEyNzg=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/14",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/14",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/14/labels",
          "id": 8034084,
          "node_id": "MI_kwDOAlTKGc4Aepck",
          "number": 14,
          "title": "10.8.1",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 5,
          "state": "closed",
          "created_at": "2022-05-31T14:22:18Z",
          "updated_at": "2022-06-03T18:15:30Z",
          "due_on": null,
          "closed_at": "2022-06-03T18:15:30Z"
        },
        "comments": 7,
        "created_at": "2022-05-31T02:42:56Z",
        "updated_at": "2022-06-03T18:20:45Z",
        "closed_at": "2022-06-01T20:50:22Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nnodenext\r\n\r\n### Expected Behavior\r\n`tsc` and `ts-node` resolve to the same modules when using `nodenext`.\r\n\r\n\r\n### Actual Behavior\r\n`ts-node` is resolving to the `commonjs` build of a dependency, even though `tsc` resolves to the `esm` build.\r\n\r\n### Steps to reproduce the problem\r\nUsing the reproduction below, notice:\r\n\r\n```bash\r\n11:34:45 {master} ~/ts-node-nodenext-bug$ npm install\r\n11:35:13 {master} ~/ts-node-nodenext-bug$ npx tsc\r\n11:35:28 (master) ~/ts-node-nodenext-bug$ node --loader ts-node/esm index.ts\r\n(node:25884) ExperimentalWarning: --experimental-loader is an experimental feature. This feature could change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/index.ts:843\r\n    return new TSError(diagnosticText, diagnosticCodes, diagnostics);\r\n           ^\r\nTSError: ⨯ Unable to compile TypeScript:\r\nindex.ts:3:7 - error TS2322: Type 'typeof import(\"/home/perrin4869/ts-node-nodenext-bug/foo/cjs/index\")' is not assignable to type 'number'.\r\n\r\n3 const bar: number = foo;\r\n        ~~~\r\n\r\n    at createTSError (/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/index.ts:843:12)\r\n    at reportTSError (/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/index.ts:847:19)\r\n    at getOutput (/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/index.ts:1057:36)\r\n    at Object.compile (/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/index.ts:1411:41)\r\n    at transformSource (/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/esm.ts:400:37)\r\n    at /home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/esm.ts:278:53\r\n    at async addShortCircuitFlag (/home/perrin4869/ts-node-nodenext-bug/node_modules/ts-node/src/esm.ts:409:15)\r\n    at async ESMLoader.load (node:internal/modules/esm/loader:407:20)\r\n    at async ESMLoader.moduleProvider (node:internal/modules/esm/loader:326:11)\r\n    at async link (node:internal/modules/esm/module_job:70:21) {\r\n  diagnosticCodes: [ 2322 ]\r\n}\r\n\r\n```\r\n\r\nI think this has to do with the fact that `foo` is using `package.json` with `\"type\": \"commonjs\"` to specify the `commonjs` build.\r\nIf this is changed to a `cjs` file, the problem does not occur\r\n\r\n### Minimal reproduction\r\nhttps://github.com/perrin4869/ts-node-nodenext-bug\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1778/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1778/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1777",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1777/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1777/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1777/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1777",
        "id": 1251967445,
        "node_id": "I_kwDOAlTKGc5Kn4HV",
        "number": 1777,
        "title": "ERR_MODULE_NOT_FOUND using es modules",
        "user": {
          "login": "Ziothh",
          "id": 81878355,
          "node_id": "MDQ6VXNlcjgxODc4MzU1",
          "avatar_url": "https://avatars.githubusercontent.com/u/81878355?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Ziothh",
          "html_url": "https://github.com/Ziothh",
          "followers_url": "https://api.github.com/users/Ziothh/followers",
          "following_url": "https://api.github.com/users/Ziothh/following{/other_user}",
          "gists_url": "https://api.github.com/users/Ziothh/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Ziothh/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Ziothh/subscriptions",
          "organizations_url": "https://api.github.com/users/Ziothh/orgs",
          "repos_url": "https://api.github.com/users/Ziothh/repos",
          "events_url": "https://api.github.com/users/Ziothh/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Ziothh/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2022-05-29T19:08:03Z",
        "updated_at": "2022-05-31T14:20:51Z",
        "closed_at": "2022-05-31T06:49:56Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\nts-node, ERR_MODULE_NOT_FOUND\r\n\r\n### Expected Behavior\r\nrun my typescript es module files.\r\n\r\n\r\n### Actual Behavior\r\nI have a project that looks like this\r\n - package.json\r\n - tsconfig.json\r\n - src/main.ts\r\n - src/module.ts\r\n\r\nI have a \"start\" script in my package.json that I run via `pnpm start` that executes\r\n`ts-node ./src/main.ts`. (I have also tried this with npm and it also didn't work)\r\n\r\nWhen I run this I get the error \"Warning: To load an ES module, set \"type\": \"module\" in the package.json or use the .mjs extension.\". So I do as I'm told and I add it to my package.json and run it again.\r\n\r\nNow I get this error: \"TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for [path-to-project]/src/main.ts\"\r\n\r\nI manage to resolve this error by adding \"--esm\" to my start script like this: `ts-node --esm ./src/main.ts`. If I run my start script I get a new error: \"Cannot find module '[path-to-project]/src/module' imported from [path-to-project]/src/main.ts\"\r\n\r\nI can surpass this error by doing this:\r\n```typescript\r\n// main.ts\r\n// -- \r\nimport { myLog } from \"./module\"\r\n// --\r\n// ++ \r\n// ** Add a ts-ignore because typescript doesn't like me adding the file extension. */\r\n// @ts-ignore\r\nimport { myLog } from \"./module.ts\"\r\n// ++\r\n```\r\n\r\nNow my code runs but I have some issues with this\r\n - I don't like adding \".ts\" behind every import. This defeats the purpose of auto-imports\r\n - Typescript really doesn't like me adding a file extension in an import statement.\r\n\r\nHow can I make my code work with ts-node by removing the \".ts\" extension in the import statement?\r\n\r\n\r\n### Minimal reproduction\r\n```typescript\r\n// main.ts\r\nimport { myLog } from \"./module\"\r\n\r\nconsole.log(\"hiii\")\r\nmyLog()\r\n```\r\n\r\n```typescript\r\n// module.ts\r\nexport const myLog = () => console.log(\"module imported\")\r\n```\r\n\r\n\r\n### Specifications\r\n* ts-node version: 10.8.0 | 10.7.0 (tried both versions)\r\n* node version: 16.15.0 | 18.2.0 (switched using nvm)\r\n* TypeScript version: 4.7.2\r\n* tsconfig.json:\r\n```json\r\n{\r\n    \"compilerOptions\": {\r\n        \"target\": \"ESNext\",\r\n        \"module\": \"ESNext\",\r\n        \"skipLibCheck\": true,\r\n        \"sourceMap\": true,\r\n        \"outDir\": \"./dist\",\r\n        \"moduleResolution\": \"node\",\r\n        \"removeComments\": true,\r\n        \"noImplicitAny\": false,\r\n        \"strictNullChecks\": true,\r\n        \"strictFunctionTypes\": true,\r\n        \"noImplicitThis\": true,\r\n        \"noUnusedLocals\": false,\r\n        \"noUnusedParameters\": false,\r\n        \"noImplicitReturns\": true,\r\n        \"noFallthroughCasesInSwitch\": true,\r\n        \"allowSyntheticDefaultImports\": true,\r\n        \"esModuleInterop\": true,\r\n        \"experimentalDecorators\": true,\r\n        \"allowJs\": true,\r\n        \"emitDecoratorMetadata\": true,\r\n        \"strict\": false,\r\n        \"resolveJsonModule\": true,\r\n        \"typeRoots\": [\"src/types\", \"./node_modules/@types\"],\r\n        \"baseUrl\": \".\",\r\n        \"paths\": {\r\n            \"@entities\": [\"src/entities/index.ts\"],\r\n            \"@entities/*\": [\"src/entities/*\"],\r\n            \"@config/*\": [\"src/config/*\"],\r\n            \"@helpers/*\": [\"src/helpers/*\"],\r\n            \"@mytypes/*\": [\"src/types/*\"],\r\n            \"@server/*\": [\"src/server/*\"]\r\n        }\r\n    },\r\n    \"exclude\": [\"node_modules\"],\r\n    \"include\": [\"./src/**/*.ts\"]\r\n}\r\n```\r\n* package.json:\r\n```json\r\n{\r\n    \"type\": \"module\",\r\n    \"devDependencies\": {\r\n        \"@types/node\": \"^17.0.36\",\r\n        \"ts-node\": \"10.7.0\",\r\n        \"typescript\": \"^4.7.2\"\r\n    },\r\n    \"scripts\": {\r\n        \"start\": \"ts-node --esm ./src/main.ts\"\r\n    }\r\n}\r\n\r\n```\r\n* Operating system and version: MacOS\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1777/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1777/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1774",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1774/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1774/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1774/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1774",
        "id": 1249094057,
        "node_id": "I_kwDOAlTKGc5Kc6mp",
        "number": 1774,
        "title": "Tracking issue for suspected node bug in loader chaining",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2022-05-26T04:46:26Z",
        "updated_at": "2022-07-22T18:15:22Z",
        "closed_at": "2022-07-22T18:15:22Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Our nightly tests flagged a bug in loader chaining.\r\n\r\nhttps://github.com/nodejs/node/issues/43238\r\n\r\n---\r\n\r\nmts files are being transformed twice.  Looks like node is calling our load hook twice.\r\n\r\nnightly build that passes\r\nhttps://nodejs.org/download/nightly/v19.0.0-nightly2022052340fa2e9c11/node-v19.0.0-nightly2022052340fa2e9c11-linux-x64.tar.xz\r\nnightly build that fails\r\nhttps://nodejs.org/download/nightly/v19.0.0-nightly202205249a3326f332/node-v19.0.0-nightly202205249a3326f332-linux-x64.tar.xz\r\n\r\nnightly tests passing:\r\nhttps://github.com/TypeStrong/ts-node/runs/6565029160?check_suite_focus=true\r\nfailing:\r\nhttps://github.com/TypeStrong/ts-node/runs/6583820299?check_suite_focus=true\r\n\r\ncode changes:\r\nhttps://github.com/nodejs/node/compare/40fa2e9c11...9a3326f332\r\n\r\ncaptured stack traces of the 2x compilations of a single file.\r\n\r\n```\r\ntrace: 'Error\\n' +\r\n    '    at Object.compile (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/index.ts:1401:59)\\n' +\r\n    '    at transformSource (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:400:37)\\n' +\r\n    '    at /d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:278:53\\n' +\r\n    '    at async addShortCircuitFlag (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:409:15)\\n' +\r\n    '    at async nextLoad (node:internal/modules/esm/loader:564:22)\\n' +\r\n    '    at async /d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:255:39\\n' +\r\n    '    at async addShortCircuitFlag (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:409:15)\\n' +\r\n    '    at async ESMLoader.load (node:internal/modules/esm/loader:571:20)\\n' +\r\n    '    at async ESMLoader.moduleProvider (node:internal/modules/esm/loader:422:11)\\n' +\r\n    '    at async link (node:internal/modules/esm/module_job:70:21)'\r\n\r\ntrace: 'Error\\n' +\r\n    '    at Object.compile (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/index.ts:1401:59)\\n' +\r\n    '    at transformSource (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:400:37)\\n' +\r\n    '    at /d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:278:53\\n' +\r\n    '    at async addShortCircuitFlag (/d/Personal-dev/@TypeStrong/ts-node/fix-tests/tests/node_modules/ts-node/src/esm.ts:409:15)\\n' +\r\n    '    at async ESMLoader.load (node:internal/modules/esm/loader:571:20)\\n' +\r\n    '    at async ESMLoader.moduleProvider (node:internal/modules/esm/loader:422:11)\\n' +\r\n    '    at async link (node:internal/modules/esm/module_job:70:21)'\r\n```\r\n\r\nLooking closely we can see that, when we call `nextLoad`, node is calling right back into us.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1774/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1774/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1773",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1773/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1773/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1773/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1773",
        "id": 1247728058,
        "node_id": "I_kwDOAlTKGc5KXtG6",
        "number": 1773,
        "title": "10.8.0: TypeError: getSetExternalModuleIndicator is not a function",
        "user": {
          "login": "philkunz",
          "id": 5952814,
          "node_id": "MDQ6VXNlcjU5NTI4MTQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5952814?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/philkunz",
          "html_url": "https://github.com/philkunz",
          "followers_url": "https://api.github.com/users/philkunz/followers",
          "following_url": "https://api.github.com/users/philkunz/following{/other_user}",
          "gists_url": "https://api.github.com/users/philkunz/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/philkunz/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/philkunz/subscriptions",
          "organizations_url": "https://api.github.com/users/philkunz/orgs",
          "repos_url": "https://api.github.com/users/philkunz/repos",
          "events_url": "https://api.github.com/users/philkunz/events{/privacy}",
          "received_events_url": "https://api.github.com/users/philkunz/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-05-25T08:12:59Z",
        "updated_at": "2022-05-25T19:36:17Z",
        "closed_at": "2022-05-25T08:57:00Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "The latest version (10.8.0) gives me a\r\n\r\n```\r\nTypeError: getSetExternalModuleIndicator is not a function\r\n    at transpileModule ([...]/node_modules/ts-node/src/ts-transpile-module.ts:137:35)\r\n```",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1773/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1773/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1772",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1772/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1772/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1772/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1772",
        "id": 1245242375,
        "node_id": "I_kwDOAlTKGc5KOOQH",
        "number": 1772,
        "title": "Moch+DefinitelyTyped+ESM - module import does not work",
        "user": {
          "login": "tpluscode",
          "id": 588128,
          "node_id": "MDQ6VXNlcjU4ODEyOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/588128?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/tpluscode",
          "html_url": "https://github.com/tpluscode",
          "followers_url": "https://api.github.com/users/tpluscode/followers",
          "following_url": "https://api.github.com/users/tpluscode/following{/other_user}",
          "gists_url": "https://api.github.com/users/tpluscode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/tpluscode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/tpluscode/subscriptions",
          "organizations_url": "https://api.github.com/users/tpluscode/orgs",
          "repos_url": "https://api.github.com/users/tpluscode/repos",
          "events_url": "https://api.github.com/users/tpluscode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/tpluscode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2022-05-23T14:18:34Z",
        "updated_at": "2022-05-24T11:52:14Z",
        "closed_at": "2022-05-24T11:52:14Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "This is super weird. I have tests in mocha where I import a class from an external package. That package has a `@types` package and it happened that the declarations there were incorrect. Namely, there is only a default export in JS but the types also mention a named export\r\n\r\nAs long as there is an `export class ...` in the type declarations, the test fail at runtime\r\n\r\n### Expected Behavior\r\n\r\nA module should import correctly regardless of the contents of `@types` package\r\n\r\n### Actual Behavior\r\n\r\nRuntime error `ReferenceError: TermSet is not defined`\r\n\r\nFrom the error I understand that the `TermSet` class variable is completely removed from the execution scope.\r\n\r\n### Steps to reproduce\r\n\r\n1. Clone the gist below\r\n2. yarn test\r\n\r\nNow, if you go into `node_modules/@types/rdfjs__term-set/index.d.ts` and correct the declaration, the code will run correctly\r\n\r\n```diff\r\n-export class TermSet<T extends Term = Term> {\r\n+declare class TermSet<T extends Term = Term> {\r\n```\r\n\r\n### Minimal reproduction\r\n\r\nhttps://gist.github.com/tpluscode/cbcd3f47b45f719475e079dd76801344\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node v10.8.0\r\n* node v14.18.1\r\n* compiler v4.6.3\r\n* tsconfig.json, if you're using one:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2019\",\r\n    \"module\": \"ESNext\",\r\n    \"moduleResolution\": \"Node\",\r\n    \"esModuleInterop\": true,\r\n    \"declaration\": true\r\n  }\r\n}\r\n```\r\n\r\n* Operating system and version: macOS 11.6\r\n* If Windows, are you using WSL or WSL2?: no\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1772/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1772/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1769",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1769/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1769/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1769/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1769",
        "id": 1244104594,
        "node_id": "I_kwDOAlTKGc5KJ4eS",
        "number": 1769,
        "title": "Malformed source URLs in source map cache on Windows",
        "user": {
          "login": "PaperStrike",
          "id": 22674396,
          "node_id": "MDQ6VXNlcjIyNjc0Mzk2",
          "avatar_url": "https://avatars.githubusercontent.com/u/22674396?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/PaperStrike",
          "html_url": "https://github.com/PaperStrike",
          "followers_url": "https://api.github.com/users/PaperStrike/followers",
          "following_url": "https://api.github.com/users/PaperStrike/following{/other_user}",
          "gists_url": "https://api.github.com/users/PaperStrike/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/PaperStrike/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/PaperStrike/subscriptions",
          "organizations_url": "https://api.github.com/users/PaperStrike/orgs",
          "repos_url": "https://api.github.com/users/PaperStrike/repos",
          "events_url": "https://api.github.com/users/PaperStrike/events{/privacy}",
          "received_events_url": "https://api.github.com/users/PaperStrike/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/14",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/14",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/14/labels",
          "id": 8034084,
          "node_id": "MI_kwDOAlTKGc4Aepck",
          "number": 14,
          "title": "10.8.1",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 5,
          "state": "closed",
          "created_at": "2022-05-31T14:22:18Z",
          "updated_at": "2022-06-03T18:15:30Z",
          "due_on": null,
          "closed_at": "2022-06-03T18:15:30Z"
        },
        "comments": 6,
        "created_at": "2022-05-21T23:45:47Z",
        "updated_at": "2023-02-26T19:34:37Z",
        "closed_at": "2022-06-01T22:07:23Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n\r\nv8 coverage, coverage, source map windows\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nThe `sources` field of the generated [source map cache](https://nodejs.org/api/cli.html#source-map-cache) consists of file URLs (e.g., `file:///D:/Example/index.ts`).\r\n\r\n### Actual Behavior\r\n\r\nSome generated `sources` field contain malformed file paths (e.g., `d:/Example/index.ts`).\r\nI think it \"malformed\" because the disk letter, along with `:`, is treated like a protocol. At least, it should be in upper case. It will be better if it follows the `file:///` prefix like the others.\r\n\r\n### Steps to reproduce the problem\r\n\r\n1. Enable Node.js coverage output by setting [`NODE_V8_COVERAGE`](https://nodejs.org/api/cli.html#node_v8_coveragedir)\r\n2. Run any `.ts` file with `ts-node`\r\n3. Compare the `sources` fields in each produced coverage output file with each other.\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/PaperStrike/ts-node-bug-repro\r\nThe workflow does basically the steps above, and prints the malformed URLs.\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: 10.8.0\r\n* node version: 16.15.0\r\n* TypeScript version: 4.6.4\r\n* Operating system and version: Windows 11\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1769/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1769/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1764",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1764/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1764/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1764/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1764",
        "id": 1243880116,
        "node_id": "I_kwDOAlTKGc5KJBq0",
        "number": 1764,
        "title": "`ReplService.evalCode` does not contribute to TypeScript's view of the scope",
        "user": {
          "login": "abextm",
          "id": 12366911,
          "node_id": "MDQ6VXNlcjEyMzY2OTEx",
          "avatar_url": "https://avatars.githubusercontent.com/u/12366911?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/abextm",
          "html_url": "https://github.com/abextm",
          "followers_url": "https://api.github.com/users/abextm/followers",
          "following_url": "https://api.github.com/users/abextm/following{/other_user}",
          "gists_url": "https://api.github.com/users/abextm/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/abextm/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/abextm/subscriptions",
          "organizations_url": "https://api.github.com/users/abextm/orgs",
          "repos_url": "https://api.github.com/users/abextm/repos",
          "events_url": "https://api.github.com/users/abextm/events{/privacy}",
          "received_events_url": "https://api.github.com/users/abextm/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 236391278,
            "node_id": "MDU6TGFiZWwyMzYzOTEyNzg=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/16",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/16/labels",
          "id": 8155739,
          "node_id": "MI_kwDOAlTKGc4AfHJb",
          "number": 16,
          "title": "10.9.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 12,
          "state": "closed",
          "created_at": "2022-07-02T16:20:20Z",
          "updated_at": "2022-07-13T20:21:29Z",
          "due_on": null,
          "closed_at": "2022-07-13T20:21:29Z"
        },
        "comments": 1,
        "created_at": "2022-05-21T05:49:47Z",
        "updated_at": "2022-07-02T20:15:06Z",
        "closed_at": "2022-07-02T20:15:06Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "\r\n### Expected Behavior\r\n\r\nExecuting code with `evalCode` to be equivalent to typing some code into the REPL's stdin\r\n\r\n### Actual Behavior\r\n\r\nThe REPL believes any declared variables are simultaneously not declared and already declared\r\n\r\n### Steps to reproduce the problem\r\n\r\n```js\r\nconst tsNode = require(\"ts-node\");\r\n\r\nlet repl = tsNode.createRepl();\r\nlet service = tsNode.create({...repl.evalAwarePartialHost});\r\nrepl.setService(service);\r\nrepl.start();\r\n\r\nrepl.evalCode(`let foo = \"bar\"; console.log(foo);`);\r\n```\r\n\r\nObserve the code has been executed as `bar` is printed to stdout.\r\n\r\nEnter `foo` into stdin, incorrectly giving\r\n`<repl>.ts:5:1 - error TS2304: Cannot find name 'foo'.`\r\n(should print `bar`)\r\n\r\nEnter `let foo = \"baz\";` into stdin giving the correct error, but with the wrong source text\r\n```\r\n<repl>.ts:1\r\n\"use strict\"; void 0;\r\n^\r\n\r\nUncaught SyntaxError: Identifier 'foo' has already been declared\r\n```\r\n\r\n### Specifications\r\n\r\n```\r\nts-node v10.7.0\r\nnode v18.1.0\r\ncompiler v4.6.4\r\n```\r\n\r\n* Operating system and version:\r\nArch Linux\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1764/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1764/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1761",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1761/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1761/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1761/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1761",
        "id": 1243558583,
        "node_id": "I_kwDOAlTKGc5KHzK3",
        "number": 1761,
        "title": "`getTypeInfo` should normalize slashes in path before querying our internal APIs for type info",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/12",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12/labels",
          "id": 7731205,
          "node_id": "MI_kwDOAlTKGc4AdfgF",
          "number": 12,
          "title": "10.8.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 41,
          "state": "closed",
          "created_at": "2022-03-03T04:51:29Z",
          "updated_at": "2022-05-25T19:36:53Z",
          "due_on": null,
          "closed_at": "2022-05-25T19:36:53Z"
        },
        "comments": 0,
        "created_at": "2022-05-20T19:50:57Z",
        "updated_at": "2022-05-20T20:26:55Z",
        "closed_at": "2022-05-20T20:26:55Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Flagged by failing nightly tests against TS@next\r\n\r\n`getTypeInfo` on Windows accepts a `fileName` with backslashes.  It calls other APIs which expect those filenames to have forward slashes.  So `getTypeInfo` needs to normalize the slashes first.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1761/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1761/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1758",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1758/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1758/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1758/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1758",
        "id": 1242539995,
        "node_id": "I_kwDOAlTKGc5KD6fb",
        "number": 1758,
        "title": "Avoid `Error` garbage in resolver `statSync` calls",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/12",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12/labels",
          "id": 7731205,
          "node_id": "MI_kwDOAlTKGc4AdfgF",
          "number": 12,
          "title": "10.8.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 41,
          "state": "closed",
          "created_at": "2022-03-03T04:51:29Z",
          "updated_at": "2022-05-25T19:36:53Z",
          "due_on": null,
          "closed_at": "2022-05-25T19:36:53Z"
        },
        "comments": 0,
        "created_at": "2022-05-20T02:48:04Z",
        "updated_at": "2022-05-20T21:11:52Z",
        "closed_at": "2022-05-20T21:11:52Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "For more performant filesystem access, use `fs.statSync('', {throwIfNoEntry: false})` to avoid creating `Error` garbage.\r\n\r\nThis is especially good in the resolver codepaths where many, many stat calls are attempted, and most are expected to fail.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1758/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1758/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1755",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1755/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1755/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1755/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1755",
        "id": 1239235326,
        "node_id": "I_kwDOAlTKGc5J3Tr-",
        "number": 1755,
        "title": "preferTsExts breaks nyc coverage",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 236391278,
            "node_id": "MDU6TGFiZWwyMzYzOTEyNzg=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/12",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12/labels",
          "id": 7731205,
          "node_id": "MI_kwDOAlTKGc4AdfgF",
          "number": 12,
          "title": "10.8.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 41,
          "state": "closed",
          "created_at": "2022-03-03T04:51:29Z",
          "updated_at": "2022-05-25T19:36:53Z",
          "due_on": null,
          "closed_at": "2022-05-25T19:36:53Z"
        },
        "comments": 0,
        "created_at": "2022-05-17T22:45:39Z",
        "updated_at": "2022-05-18T04:16:56Z",
        "closed_at": "2022-05-18T04:16:56Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "*Note this likely only occurs in extremely rare cases.  Tracking as a bug for proper documentation*\r\n\r\nThis is fixed in #1694 \r\n\r\nnyc works by registering a JS setter on `require.extensions[relevantExtension]` which intercepts every time you set a value.\r\nE.g. when you `require.extensions['.js'] = someHook`, nyc gets `someHook` and is able to wrap it.\r\nFor complex reasons, this is necessary.\r\n\r\nIf two different libraries decide to install `require.extensions[]` hooks, perhaps ts-node and something else, it's important that `nyc`'s setter is preserved.\r\n\r\n```\r\nnyc ts-node ./install-yet-another-require-hook.ts\r\n```\r\n\r\nOur old `preferTsExts` behavior was removing nyc's setter when it re-ordered `Object.keys(require.extensions)`\r\n\r\nReproduction: https://github.com/TypeStrong/ts-node-repros/tree/preferTsExts-nyc-coverage",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1755/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1755/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1753",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1753/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1753/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1753/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1753",
        "id": 1238044261,
        "node_id": "I_kwDOAlTKGc5Jyw5l",
        "number": 1753,
        "title": "Polish tasks for nodenext and new resolver features",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/12",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12/labels",
          "id": 7731205,
          "node_id": "MI_kwDOAlTKGc4AdfgF",
          "number": 12,
          "title": "10.8.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 41,
          "state": "closed",
          "created_at": "2022-03-03T04:51:29Z",
          "updated_at": "2022-05-25T19:36:53Z",
          "due_on": null,
          "closed_at": "2022-05-25T19:36:53Z"
        },
        "comments": 0,
        "created_at": "2022-05-17T04:23:20Z",
        "updated_at": "2022-05-20T21:58:13Z",
        "closed_at": "2022-05-20T21:58:13Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Follow-up to #1694 and #1727\r\n\r\n- [x] Ensure docs are in sync re: `experimentalResolver` flag name\r\n  - docs link to a GH issue; update that issue\r\n\r\n- [x] Ensure new resolver features work when rogue tools install `require.extensions` for cjs/mjs/cts/mts\r\n  - vanilla node does *not* have this.  But nyc might add them\r\n  - in these cases, we need to detect and wrap those hooks so that we continue to transform code\r\n\r\n- [x] Make `experimentalSpecifierResolution` a public option\r\n  - remove `@internal`\r\n  - add meaningful JSDoc\r\n  - add to `options.md` on website\r\n\r\n- [x] Make moduleTypes page link to https://www.typescriptlang.org/docs/handbook/esm-node.html\r\n\r\n- [x] Make `.jsx` resolve to `.tsx`\r\n  - TS will compile tsx into jsx with `jsx: preserve`  I'd just as soon support this so that people don't complain when doing arcane stuff",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1753/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1753/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1751",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1751/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1751/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1751/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1751",
        "id": 1237366842,
        "node_id": "I_kwDOAlTKGc5JwLg6",
        "number": 1751,
        "title": "child process stdout redirect",
        "user": {
          "login": "PatrikTrefil",
          "id": 36563492,
          "node_id": "MDQ6VXNlcjM2NTYzNDky",
          "avatar_url": "https://avatars.githubusercontent.com/u/36563492?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/PatrikTrefil",
          "html_url": "https://github.com/PatrikTrefil",
          "followers_url": "https://api.github.com/users/PatrikTrefil/followers",
          "following_url": "https://api.github.com/users/PatrikTrefil/following{/other_user}",
          "gists_url": "https://api.github.com/users/PatrikTrefil/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/PatrikTrefil/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/PatrikTrefil/subscriptions",
          "organizations_url": "https://api.github.com/users/PatrikTrefil/orgs",
          "repos_url": "https://api.github.com/users/PatrikTrefil/repos",
          "events_url": "https://api.github.com/users/PatrikTrefil/events{/privacy}",
          "received_events_url": "https://api.github.com/users/PatrikTrefil/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 508009636,
            "node_id": "MDU6TGFiZWw1MDgwMDk2MzY=",
            "url": "https://api.github.com/repos/TypeStrong/ts-node/labels/needs%20more%20info",
            "name": "needs more info",
            "color": "5319e7",
            "default": false,
            "description": null
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2022-05-16T15:57:02Z",
        "updated_at": "2022-05-18T03:58:23Z",
        "closed_at": "2022-05-18T03:58:22Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\n- child_process\r\n- stdout redirect\r\n- fork\r\n\r\n<!--\r\n  What search terms did you use when trying to find an existing bug report?\r\n  List them here so people in the future can find this one more easily.\r\n  Remember to include *closed* issues in your search.\r\n-->\r\n\r\n### Expected Behavior\r\n\r\nWhen creating a child process using `child_process.fork(\"file.js\", { silent: true })`, it is expected that the stdout of the child process is redirected to the parent process.\r\n\r\n### Actual Behavior\r\n\r\nstdout is not redirected.\r\n\r\n### Steps to reproduce the problem\r\n\r\n```javascript\r\n// parent.ts\r\nconst fork = require(\"child_process\").fork;\r\nconst proc = fork(\"./child.js\", { silent: true });\r\nproc.stdout.on(\"data\", (data: any) => {\r\n    console.log(data.toString());\r\n});\r\nconsole.log(\"parent\");\r\n```\r\n\r\n```javascript\r\n// child.js\r\nconsole.log(\"child\");\r\n```\r\n\r\n```bash\r\n$ npx ts-node ./parent.ts\r\nparent\r\n```\r\n\r\nIf we rewrite parent.ts in vanilla JS we get:\r\n\r\n```javascript\r\n// parent.js\r\nconst fork = require(\"child_process\").fork;\r\nconst proc = fork(\"./child.js\", { silent: true });\r\nproc.stdout.on(\"data\", (data) => {\r\n    console.log(data.toString());\r\n});\r\nconsole.log(\"parent\");\r\n```\r\n\r\n```bash\r\n$ node ./parent.js\r\nparent\r\nchild\r\n```\r\n\r\n### Minimal reproduction\r\n\r\n\r\n\r\n<!--\r\n\r\nThis link explains why we ask for a minimal reproduction.  Thank you in advance!\r\nhttps://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nYou can create a reproduction here:\r\nhttps://github.com/TypeStrong/ts-node-repros\r\n-->\r\n\r\n### Specifications\r\n\r\n<!-- `ts-node -vv` will print ts-node, node, and TypeScript versions -->\r\n* ts-node version: v10.7.0\r\n* node version: v17.8.0\r\n* TypeScript version: Version 4.6.4\r\n* tsconfig.json, if you're using one: Not using tsconfig.json\r\n\r\n* Operating system and version: Windows 11\r\n* If Windows, are you using WSL or WSL2?: No\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1751/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1751/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1750",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1750/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1750/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1750/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1750",
        "id": 1235253886,
        "node_id": "I_kwDOAlTKGc5JoHp-",
        "number": 1750,
        "title": "MODULE_NOT_FOUND error for existing module ( in node_modules )",
        "user": {
          "login": "ThePlenkov",
          "id": 6381507,
          "node_id": "MDQ6VXNlcjYzODE1MDc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6381507?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ThePlenkov",
          "html_url": "https://github.com/ThePlenkov",
          "followers_url": "https://api.github.com/users/ThePlenkov/followers",
          "following_url": "https://api.github.com/users/ThePlenkov/following{/other_user}",
          "gists_url": "https://api.github.com/users/ThePlenkov/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ThePlenkov/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ThePlenkov/subscriptions",
          "organizations_url": "https://api.github.com/users/ThePlenkov/orgs",
          "repos_url": "https://api.github.com/users/ThePlenkov/repos",
          "events_url": "https://api.github.com/users/ThePlenkov/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ThePlenkov/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2022-05-13T13:35:35Z",
        "updated_at": "2022-05-13T13:43:04Z",
        "closed_at": "2022-05-13T13:43:04Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Hi! I'm struggling with a very weird issue.\r\n\r\nI've developed a simple module, which only has 1 ts file with types:\r\nhttps://github.com/theplenkov-npm/gitlab-graphql-types\r\n\r\nthis file is generated during publishing that's why is not in the source code - but you can see it in node_modules\r\n\r\nSo when you install such a module - you can freely use types from it in ts files. You can write code, compile it using tsc - it all works.\r\n\r\nHowever when I run same code via ts-node I have an error like this:\r\n```\r\nError: Cannot find module 'gitlab-graphql-types'\r\nRequire stack:\r\n- /workspace/commands/gitlab/[eval].ts\r\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)\r\n    at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (/workspace/commands/gitlab/node_modules/@cspotcode/source-map-support/source-map-support.js:679:30)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:778:27)\r\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\r\n    at /workspace/commands/gitlab/[eval].ts:1:1\r\n    at Script.runInThisContext (node:vm:129:12)\r\n    at runInContext (/workspace/commands/gitlab/node_modules/ts-node/src/repl.ts:636:19)\r\n    at Object.execCommand (/workspace/commands/gitlab/node_modules/ts-node/src/repl.ts:602:28)\r\n    at /workspace/commands/gitlab/node_modules/ts-node/src/repl.ts:624:47\r\n    at Array.reduce (<anonymous>) {\r\n  code: 'MODULE_NOT_FOUND',\r\n  requireStack: [ '/workspace/commands/gitlab/[eval].ts' ]\r\n```\r\n\r\nI've prepared a simple example:\r\nhttps://gitpod.io#snapshot/2124fbf1-1fb2-4aad-86f5-1f9b201a30e2\r\n\r\njust try to go to:\r\n```\r\ncd test/ts-node\r\nnpm install\r\nnpm test\r\n```\r\n\r\nIt's running a simple eval command but even that doesn't work.  \r\n\r\nCould you please have a look? THis is only ts-node issue - not typescript. Thanks!\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1750/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1750/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1747",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1747/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1747/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1747/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1747",
        "id": 1232431494,
        "node_id": "I_kwDOAlTKGc5JdWmG",
        "number": 1747,
        "title": "ERR_INVALID_MODULE_SPECIFIER with dynamic import via jest-light-runner --runInBand",
        "user": {
          "login": "cjroebuck",
          "id": 12208,
          "node_id": "MDQ6VXNlcjEyMjA4",
          "avatar_url": "https://avatars.githubusercontent.com/u/12208?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cjroebuck",
          "html_url": "https://github.com/cjroebuck",
          "followers_url": "https://api.github.com/users/cjroebuck/followers",
          "following_url": "https://api.github.com/users/cjroebuck/following{/other_user}",
          "gists_url": "https://api.github.com/users/cjroebuck/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cjroebuck/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cjroebuck/subscriptions",
          "organizations_url": "https://api.github.com/users/cjroebuck/orgs",
          "repos_url": "https://api.github.com/users/cjroebuck/repos",
          "events_url": "https://api.github.com/users/cjroebuck/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cjroebuck/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": true,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-05-11T10:54:38Z",
        "updated_at": "2022-05-11T13:48:34Z",
        "closed_at": "2022-05-11T13:48:34Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Search Terms\r\n\r\nERR_INVALID_MODULE_SPECIFIER\r\njest-light-runner\r\ntypescript esm\r\n\r\n### Expected Behavior\r\n\r\nIt should transpile and run the typescript file\r\n\r\n\r\n### Actual Behavior\r\n\r\nERR_INVALID_MODULE_SPECIFIER when running the command\r\n\r\n### Steps to reproduce the problem\r\n\r\nSee the repro below\r\n\r\n`npm run test` gives  TypeError [ERR_INVALID_MODULE_SPECIFIER]: Invalid module \"file:///path/to/ts-node-repros/src/__tests__/foo.ts\"\r\n\r\n`npm run test:working` runs the tests successfully\r\n\r\nThe only difference is the --runInBand option which is implemented like this in jest-light-runner:\r\n\r\nhttps://github.com/nicolo-ribaudo/jest-light-runner/pull/20/commits/fb7032596dab8f1db826179e98f001497f59ead0\r\n\r\nI think it's something to do with dynamic import and perhaps the ts-node/esm loader is not being invoked in this case or something?\r\n\r\n### Minimal reproduction\r\n\r\nhttps://github.com/cjroebuck/ts-node-repro\r\n\r\n\r\n### Specifications\r\n\r\nts-node v10.7.0\r\nnode v16.14.2\r\ncompiler v4.6.4\r\ntsconfig.json, if you're using one:\r\n```\r\n{\r\n    \"extends\": \"ts-node/node16/tsconfig.json\",\r\n    \"ts-node\": {\r\n        \"swc\": true\r\n    },\r\n    \"compilerOptions\": {\r\n        \"module\": \"ESNext\"\r\n    }\r\n}\r\n```\r\n* Operating system and version: mac os monterey 12.0.1 (Apple M1 Max)\r\n",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1747/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1747/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      },
      {
        "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1744",
        "repository_url": "https://api.github.com/repos/TypeStrong/ts-node",
        "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1744/labels{/name}",
        "comments_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1744/comments",
        "events_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1744/events",
        "html_url": "https://github.com/TypeStrong/ts-node/issues/1744",
        "id": 1228637043,
        "node_id": "I_kwDOAlTKGc5JO4Nz",
        "number": 1744,
        "title": "Investigate TS's addition of Node16 ModuleKind",
        "user": {
          "login": "cspotcode",
          "id": 376504,
          "node_id": "MDQ6VXNlcjM3NjUwNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/cspotcode",
          "html_url": "https://github.com/cspotcode",
          "followers_url": "https://api.github.com/users/cspotcode/followers",
          "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
          "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
          "organizations_url": "https://api.github.com/users/cspotcode/orgs",
          "repos_url": "https://api.github.com/users/cspotcode/repos",
          "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
          "received_events_url": "https://api.github.com/users/cspotcode/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12",
          "html_url": "https://github.com/TypeStrong/ts-node/milestone/12",
          "labels_url": "https://api.github.com/repos/TypeStrong/ts-node/milestones/12/labels",
          "id": 7731205,
          "node_id": "MI_kwDOAlTKGc4AdfgF",
          "number": 12,
          "title": "10.8.0",
          "description": "",
          "creator": {
            "login": "cspotcode",
            "id": 376504,
            "node_id": "MDQ6VXNlcjM3NjUwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/376504?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cspotcode",
            "html_url": "https://github.com/cspotcode",
            "followers_url": "https://api.github.com/users/cspotcode/followers",
            "following_url": "https://api.github.com/users/cspotcode/following{/other_user}",
            "gists_url": "https://api.github.com/users/cspotcode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cspotcode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cspotcode/subscriptions",
            "organizations_url": "https://api.github.com/users/cspotcode/orgs",
            "repos_url": "https://api.github.com/users/cspotcode/repos",
            "events_url": "https://api.github.com/users/cspotcode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cspotcode/received_events",
            "type": "User",
            "site_admin": false
          },
          "open_issues": 0,
          "closed_issues": 41,
          "state": "closed",
          "created_at": "2022-03-03T04:51:29Z",
          "updated_at": "2022-05-25T19:36:53Z",
          "due_on": null,
          "closed_at": "2022-05-25T19:36:53Z"
        },
        "comments": 0,
        "created_at": "2022-05-07T14:03:30Z",
        "updated_at": "2022-05-07T19:14:51Z",
        "closed_at": "2022-05-07T19:14:51Z",
        "author_association": "COLLABORATOR",
        "active_lock_reason": null,
        "body": "Flagged in nightlies.",
        "reactions": {
          "url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1744/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/TypeStrong/ts-node/issues/1744/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed",
        "score": 1
      }
    ]
  },
  "error": null
}